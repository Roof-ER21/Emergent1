/*! For license information please see main.9d3aade6.js.LICENSE.txt */
(()=>{var e={8210:function(e,t,n){var r;!function(){"use strict";var a,i=1e9,o={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},s=!0,l="[DecimalError] ",c=l+"Invalid argument: ",u=l+"Exponent out of range: ",d=Math.floor,h=Math.pow,f=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,p=1e7,m=9007199254740991,g=d(1286742750677284.5),y={};function v(e,t){var n,r,a,i,o,l,c,u,d=e.constructor,h=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),s?P(t,h):t;if(c=e.d,u=t.d,o=e.e,a=t.e,c=c.slice(),i=o-a){for(i<0?(r=c,i=-i,l=u.length):(r=u,a=o,l=c.length),i>(l=(o=Math.ceil(h/7))>l?o+1:l+1)&&(i=l,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for((l=c.length)-(i=u.length)<0&&(i=l,r=u,u=c,c=r),n=0;i;)n=(c[--i]=c[i]+u[i]+n)/p|0,c[i]%=p;for(n&&(c.unshift(n),++a),l=c.length;0==c[--l];)c.pop();return t.d=c,t.e=a,s?P(t,h):t}function x(e,t,n){if(e!==~~e||e<t||e>n)throw Error(c+e)}function b(e){var t,n,r,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)(n=7-(r=e[t]+"").length)&&(i+=S(n)),i+=r;(n=7-(r=(o=e[t])+"").length)&&(i+=S(n))}else if(0===o)return"0";for(;o%10===0;)o/=10;return i+o}y.absoluteValue=y.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},y.comparedTo=y.cmp=function(e){var t,n,r,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(t=0,n=(r=i.d.length)<(a=e.d.length)?r:a;t<n;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return r===a?0:r>a^i.s<0?1:-1},y.decimalPlaces=y.dp=function(){var e=this,t=e.d.length-1,n=7*(t-e.e);if(t=e.d[t])for(;t%10==0;t/=10)n--;return n<0?0:n},y.dividedBy=y.div=function(e){return w(this,new this.constructor(e))},y.dividedToIntegerBy=y.idiv=function(e){var t=this.constructor;return P(w(this,new t(e),0,1),t.precision)},y.equals=y.eq=function(e){return!this.cmp(e)},y.exponent=function(){return N(this)},y.greaterThan=y.gt=function(e){return this.cmp(e)>0},y.greaterThanOrEqualTo=y.gte=function(e){return this.cmp(e)>=0},y.isInteger=y.isint=function(){return this.e>this.d.length-2},y.isNegative=y.isneg=function(){return this.s<0},y.isPositive=y.ispos=function(){return this.s>0},y.isZero=function(){return 0===this.s},y.lessThan=y.lt=function(e){return this.cmp(e)<0},y.lessThanOrEqualTo=y.lte=function(e){return this.cmp(e)<1},y.logarithm=y.log=function(e){var t,n=this,r=n.constructor,i=r.precision,o=i+5;if(void 0===e)e=new r(10);else if((e=new r(e)).s<1||e.eq(a))throw Error(l+"NaN");if(n.s<1)throw Error(l+(n.s?"NaN":"-Infinity"));return n.eq(a)?new r(0):(s=!1,t=w(O(n,o),O(e,o),o),s=!0,P(t,i))},y.minus=y.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?A(t,e):v(t,(e.s=-e.s,e))},y.modulo=y.mod=function(e){var t,n=this,r=n.constructor,a=r.precision;if(!(e=new r(e)).s)throw Error(l+"NaN");return n.s?(s=!1,t=w(n,e,0,1).times(e),s=!0,n.minus(t)):P(new r(n),a)},y.naturalExponential=y.exp=function(){return j(this)},y.naturalLogarithm=y.ln=function(){return O(this)},y.negated=y.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},y.plus=y.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?v(t,e):A(t,(e.s=-e.s,e))},y.precision=y.sd=function(e){var t,n,r,a=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(c+e);if(t=N(a)+1,n=7*(r=a.d.length-1)+1,r=a.d[r]){for(;r%10==0;r/=10)n--;for(r=a.d[0];r>=10;r/=10)n++}return e&&t>n?t:n},y.squareRoot=y.sqrt=function(){var e,t,n,r,a,i,o,c=this,u=c.constructor;if(c.s<1){if(!c.s)return new u(0);throw Error(l+"NaN")}for(e=N(c),s=!1,0==(a=Math.sqrt(+c))||a==1/0?(((t=b(c.d)).length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=d((e+1)/2)-(e<0||e%2),r=new u(t=a==1/0?"5e"+e:(t=a.toExponential()).slice(0,t.indexOf("e")+1)+e)):r=new u(a.toString()),a=o=(n=u.precision)+3;;)if(r=(i=r).plus(w(c,i,o+2)).times(.5),b(i.d).slice(0,o)===(t=b(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&"4999"==t){if(P(i,n+1,0),i.times(i).eq(c)){r=i;break}}else if("9999"!=t)break;o+=4}return s=!0,P(r,n)},y.times=y.mul=function(e){var t,n,r,a,i,o,l,c,u,d=this,h=d.constructor,f=d.d,m=(e=new h(e)).d;if(!d.s||!e.s)return new h(0);for(e.s*=d.s,n=d.e+e.e,(c=f.length)<(u=m.length)&&(i=f,f=m,m=i,o=c,c=u,u=o),i=[],r=o=c+u;r--;)i.push(0);for(r=u;--r>=0;){for(t=0,a=c+r;a>r;)l=i[a]+m[r]*f[a-r-1]+t,i[a--]=l%p|0,t=l/p|0;i[a]=(i[a]+t)%p|0}for(;!i[--o];)i.pop();return t?++n:i.shift(),e.d=i,e.e=n,s?P(e,h.precision):e},y.toDecimalPlaces=y.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),void 0===e?n:(x(e,0,i),void 0===t?t=r.rounding:x(t,0,8),P(n,e+N(n)+1,t))},y.toExponential=function(e,t){var n,r=this,a=r.constructor;return void 0===e?n=C(r,!0):(x(e,0,i),void 0===t?t=a.rounding:x(t,0,8),n=C(r=P(new a(r),e+1,t),!0,e+1)),n},y.toFixed=function(e,t){var n,r,a=this,o=a.constructor;return void 0===e?C(a):(x(e,0,i),void 0===t?t=o.rounding:x(t,0,8),n=C((r=P(new o(a),e+N(a)+1,t)).abs(),!1,e+N(r)+1),a.isneg()&&!a.isZero()?"-"+n:n)},y.toInteger=y.toint=function(){var e=this,t=e.constructor;return P(new t(e),N(e)+1,t.rounding)},y.toNumber=function(){return+this},y.toPower=y.pow=function(e){var t,n,r,i,o,c,u=this,h=u.constructor,f=+(e=new h(e));if(!e.s)return new h(a);if(!(u=new h(u)).s){if(e.s<1)throw Error(l+"Infinity");return u}if(u.eq(a))return u;if(r=h.precision,e.eq(a))return P(u,r);if(c=(t=e.e)>=(n=e.d.length-1),o=u.s,c){if((n=f<0?-f:f)<=m){for(i=new h(a),t=Math.ceil(r/7+4),s=!1;n%2&&_((i=i.times(u)).d,t),0!==(n=d(n/2));)_((u=u.times(u)).d,t);return s=!0,e.s<0?new h(a).div(i):P(i,r)}}else if(o<0)throw Error(l+"NaN");return o=o<0&&1&e.d[Math.max(t,n)]?-1:1,u.s=1,s=!1,i=e.times(O(u,r+12)),s=!0,(i=j(i)).s=o,i},y.toPrecision=function(e,t){var n,r,a=this,o=a.constructor;return void 0===e?r=C(a,(n=N(a))<=o.toExpNeg||n>=o.toExpPos):(x(e,1,i),void 0===t?t=o.rounding:x(t,0,8),r=C(a=P(new o(a),e,t),e<=(n=N(a))||n<=o.toExpNeg,e)),r},y.toSignificantDigits=y.tosd=function(e,t){var n=this.constructor;return void 0===e?(e=n.precision,t=n.rounding):(x(e,1,i),void 0===t?t=n.rounding:x(t,0,8)),P(new n(this),e,t)},y.toString=y.valueOf=y.val=y.toJSON=function(){var e=this,t=N(e),n=e.constructor;return C(e,t<=n.toExpNeg||t>=n.toExpPos)};var w=function(){function e(e,t){var n,r=0,a=e.length;for(e=e.slice();a--;)n=e[a]*t+r,e[a]=n%p|0,r=n/p|0;return r&&e.unshift(r),e}function t(e,t,n,r){var a,i;if(n!=r)i=n>r?1:-1;else for(a=i=0;a<n;a++)if(e[a]!=t[a]){i=e[a]>t[a]?1:-1;break}return i}function n(e,t,n){for(var r=0;n--;)e[n]-=r,r=e[n]<t[n]?1:0,e[n]=r*p+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(r,a,i,o){var s,c,u,d,h,f,m,g,y,v,x,b,w,j,k,S,O,E,A=r.constructor,C=r.s==a.s?1:-1,_=r.d,T=a.d;if(!r.s)return new A(r);if(!a.s)throw Error(l+"Division by zero");for(c=r.e-a.e,O=T.length,k=_.length,g=(m=new A(C)).d=[],u=0;T[u]==(_[u]||0);)++u;if(T[u]>(_[u]||0)&&--c,(b=null==i?i=A.precision:o?i+(N(r)-N(a))+1:i)<0)return new A(0);if(b=b/7+2|0,u=0,1==O)for(d=0,T=T[0],b++;(u<k||d)&&b--;u++)w=d*p+(_[u]||0),g[u]=w/T|0,d=w%T|0;else{for((d=p/(T[0]+1)|0)>1&&(T=e(T,d),_=e(_,d),O=T.length,k=_.length),j=O,v=(y=_.slice(0,O)).length;v<O;)y[v++]=0;(E=T.slice()).unshift(0),S=T[0],T[1]>=p/2&&++S;do{d=0,(s=t(T,y,O,v))<0?(x=y[0],O!=v&&(x=x*p+(y[1]||0)),(d=x/S|0)>1?(d>=p&&(d=p-1),1==(s=t(h=e(T,d),y,f=h.length,v=y.length))&&(d--,n(h,O<f?E:T,f))):(0==d&&(s=d=1),h=T.slice()),(f=h.length)<v&&h.unshift(0),n(y,h,v),-1==s&&(s=t(T,y,O,v=y.length))<1&&(d++,n(y,O<v?E:T,v)),v=y.length):0===s&&(d++,y=[0]),g[u++]=d,s&&y[0]?y[v++]=_[j]||0:(y=[_[j]],v=1)}while((j++<k||void 0!==y[0])&&b--)}return g[0]||g.shift(),m.e=c,P(m,o?i+N(m)+1:i)}}();function j(e,t){var n,r,i,o,l,c=0,d=0,f=e.constructor,p=f.precision;if(N(e)>16)throw Error(u+N(e));if(!e.s)return new f(a);for(null==t?(s=!1,l=p):l=t,o=new f(.03125);e.abs().gte(.1);)e=e.times(o),d+=5;for(l+=Math.log(h(2,d))/Math.LN10*2+5|0,n=r=i=new f(a),f.precision=l;;){if(r=P(r.times(e),l),n=n.times(++c),b((o=i.plus(w(r,n,l))).d).slice(0,l)===b(i.d).slice(0,l)){for(;d--;)i=P(i.times(i),l);return f.precision=p,null==t?(s=!0,P(i,p)):i}i=o}}function N(e){for(var t=7*e.e,n=e.d[0];n>=10;n/=10)t++;return t}function k(e,t,n){if(t>e.LN10.sd())throw s=!0,n&&(e.precision=n),Error(l+"LN10 precision limit exceeded");return P(new e(e.LN10),t)}function S(e){for(var t="";e--;)t+="0";return t}function O(e,t){var n,r,i,o,c,u,d,h,f,p=1,m=e,g=m.d,y=m.constructor,v=y.precision;if(m.s<1)throw Error(l+(m.s?"NaN":"-Infinity"));if(m.eq(a))return new y(0);if(null==t?(s=!1,h=v):h=t,m.eq(10))return null==t&&(s=!0),k(y,h);if(h+=10,y.precision=h,r=(n=b(g)).charAt(0),o=N(m),!(Math.abs(o)<15e14))return d=k(y,h+2,v).times(o+""),m=O(new y(r+"."+n.slice(1)),h-10).plus(d),y.precision=v,null==t?(s=!0,P(m,v)):m;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=b((m=m.times(e)).d)).charAt(0),p++;for(o=N(m),r>1?(m=new y("0."+n),o++):m=new y(r+"."+n.slice(1)),u=c=m=w(m.minus(a),m.plus(a),h),f=P(m.times(m),h),i=3;;){if(c=P(c.times(f),h),b((d=u.plus(w(c,new y(i),h))).d).slice(0,h)===b(u.d).slice(0,h))return u=u.times(2),0!==o&&(u=u.plus(k(y,h+2,v).times(o+""))),u=w(u,new y(p),h),y.precision=v,null==t?(s=!0,P(u,v)):u;u=d,i+=2}}function E(e,t){var n,r,a;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;48===t.charCodeAt(r);)++r;for(a=t.length;48===t.charCodeAt(a-1);)--a;if(t=t.slice(r,a)){if(a-=r,n=n-r-1,e.e=d(n/7),e.d=[],r=(n+1)%7,n<0&&(r+=7),r<a){for(r&&e.d.push(+t.slice(0,r)),a-=7;r<a;)e.d.push(+t.slice(r,r+=7));r=7-(t=t.slice(r)).length}else r-=a;for(;r--;)t+="0";if(e.d.push(+t),s&&(e.e>g||e.e<-g))throw Error(u+n)}else e.s=0,e.e=0,e.d=[0];return e}function P(e,t,n){var r,a,i,o,l,c,f,m,y=e.d;for(o=1,i=y[0];i>=10;i/=10)o++;if((r=t-o)<0)r+=7,a=t,f=y[m=0];else{if((m=Math.ceil((r+1)/7))>=(i=y.length))return e;for(f=i=y[m],o=1;i>=10;i/=10)o++;a=(r%=7)-7+o}if(void 0!==n&&(l=f/(i=h(10,o-a-1))%10|0,c=t<0||void 0!==y[m+1]||f%i,c=n<4?(l||c)&&(0==n||n==(e.s<0?3:2)):l>5||5==l&&(4==n||c||6==n&&(r>0?a>0?f/h(10,o-a):0:y[m-1])%10&1||n==(e.s<0?8:7))),t<1||!y[0])return c?(i=N(e),y.length=1,t=t-i-1,y[0]=h(10,(7-t%7)%7),e.e=d(-t/7)||0):(y.length=1,y[0]=e.e=e.s=0),e;if(0==r?(y.length=m,i=1,m--):(y.length=m+1,i=h(10,7-r),y[m]=a>0?(f/h(10,o-a)%h(10,a)|0)*i:0),c)for(;;){if(0==m){(y[0]+=i)==p&&(y[0]=1,++e.e);break}if(y[m]+=i,y[m]!=p)break;y[m--]=0,i=1}for(r=y.length;0===y[--r];)y.pop();if(s&&(e.e>g||e.e<-g))throw Error(u+N(e));return e}function A(e,t){var n,r,a,i,o,l,c,u,d,h,f=e.constructor,m=f.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new f(e),s?P(t,m):t;if(c=e.d,h=t.d,r=t.e,u=e.e,c=c.slice(),o=u-r){for((d=o<0)?(n=c,o=-o,l=h.length):(n=h,r=u,l=c.length),o>(a=Math.max(Math.ceil(m/7),l)+2)&&(o=a,n.length=1),n.reverse(),a=o;a--;)n.push(0);n.reverse()}else{for((d=(a=c.length)<(l=h.length))&&(l=a),a=0;a<l;a++)if(c[a]!=h[a]){d=c[a]<h[a];break}o=0}for(d&&(n=c,c=h,h=n,t.s=-t.s),l=c.length,a=h.length-l;a>0;--a)c[l++]=0;for(a=h.length;a>o;){if(c[--a]<h[a]){for(i=a;i&&0===c[--i];)c[i]=p-1;--c[i],c[a]+=p}c[a]-=h[a]}for(;0===c[--l];)c.pop();for(;0===c[0];c.shift())--r;return c[0]?(t.d=c,t.e=r,s?P(t,m):t):new f(0)}function C(e,t,n){var r,a=N(e),i=b(e.d),o=i.length;return t?(n&&(r=n-o)>0?i=i.charAt(0)+"."+i.slice(1)+S(r):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+S(-a-1)+i,n&&(r=n-o)>0&&(i+=S(r))):a>=o?(i+=S(a+1-o),n&&(r=n-a-1)>0&&(i=i+"."+S(r))):((r=a+1)<o&&(i=i.slice(0,r)+"."+i.slice(r)),n&&(r=n-o)>0&&(a+1===o&&(i+="."),i+=S(r))),e.s<0?"-"+i:i}function _(e,t){if(e.length>t)return e.length=t,!0}function T(e){if(!e||"object"!==typeof e)throw Error(l+"Object expected");var t,n,r,a=["precision",1,i,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if(void 0!==(r=e[n=a[t]])){if(!(d(r)===r&&r>=a[t+1]&&r<=a[t+2]))throw Error(c+n+": "+r);this[n]=r}if(void 0!==(r=e[n="LN10"])){if(r!=Math.LN10)throw Error(c+n+": "+r);this[n]=new this(r)}return this}o=function e(t){var n,r,a;function i(e){var t=this;if(!(t instanceof i))return new i(e);if(t.constructor=i,e instanceof i)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"===typeof e){if(0*e!==0)throw Error(c+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):E(t,e.toString())}if("string"!==typeof e)throw Error(c+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!f.test(e))throw Error(c+e);E(t,e)}if(i.prototype=y,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=e,i.config=i.set=T,void 0===t&&(t={}),t)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],n=0;n<a.length;)t.hasOwnProperty(r=a[n++])||(t[r]=this[r]);return i.config(t),i}(o),o.default=o.Decimal=o,a=new o(1),void 0===(r=function(){return o}.call(t,n,t,e))||(e.exports=r)}()},7770:(e,t,n)=>{e.exports=n(9323).get},4250:(e,t,n)=>{e.exports=n(8182).isEqual},9397:(e,t,n)=>{e.exports=n(2682).isPlainObject},356:(e,t,n)=>{e.exports=n(9645).last},9859:(e,t,n)=>{e.exports=n(7231).range},3821:(e,t,n)=>{e.exports=n(2204).sortBy},7820:(e,t,n)=>{e.exports=n(5414).throttle},4332:(e,t,n)=>{e.exports=n(5053).uniqBy},7260:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isUnsafeProperty=function(e){return"__proto__"===e}},7312:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.flatten=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const n=[],r=Math.floor(t),a=(e,t)=>{for(let i=0;i<e.length;i++){const o=e[i];Array.isArray(o)&&t<r?a(o,t+1):n.push(o)}};return a(e,0),n}},6392:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.last=function(e){return e[e.length-1]}},4208:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.uniqBy=function(e,t){const n=new Map;for(let r=0;r<e.length;r++){const a=e[r],i=t(a);n.has(i)||n.set(i,a)}return Array.from(n.values())}},9709:(e,t)=>{"use strict";function n(e){return"symbol"===typeof e?1:null===e?2:void 0===e?3:e!==e?4:0}Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});t.compareValues=(e,t,r)=>{if(e!==t){const a=n(e),i=n(t);if(a===i&&0===a){if(e<t)return"desc"===r?1:-1;if(e>t)return"desc"===r?-1:1}return"desc"===r?i-a:a-i}return 0}},6443:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.getSymbols=function(e){return Object.getOwnPropertySymbols(e).filter((t=>Object.prototype.propertyIsEnumerable.call(e,t)))}},5990:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.getTag=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}},2489:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isDeepKey=function(e){switch(typeof e){case"number":case"symbol":return!1;case"string":return e.includes(".")||e.includes("[")||e.includes("]")}}},4704:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=/^(?:0|[1-9]\d*)$/;t.isIndex=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_SAFE_INTEGER;switch(typeof e){case"number":return Number.isInteger(e)&&e>=0&&e<t;case"symbol":return!1;case"string":return n.test(e)}}},3799:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(4704),a=n(1203),i=n(870),o=n(9972);t.isIterateeCall=function(e,t,n){return!!i.isObject(n)&&(!!("number"===typeof t&&a.isArrayLike(n)&&r.isIndex(t)&&t<n.length||"string"===typeof t&&t in n)&&o.eq(n[t],e))}},7043:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(2777),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;t.isKey=function(e,t){return!Array.isArray(e)&&(!("number"!==typeof e&&"boolean"!==typeof e&&null!=e&&!r.isSymbol(e))||("string"===typeof e&&(i.test(e)||!a.test(e))||null!=t&&Object.hasOwn(t,e)))}},7599:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});t.argumentsTag="[object Arguments]",t.arrayBufferTag="[object ArrayBuffer]",t.arrayTag="[object Array]",t.bigInt64ArrayTag="[object BigInt64Array]",t.bigUint64ArrayTag="[object BigUint64Array]",t.booleanTag="[object Boolean]",t.dataViewTag="[object DataView]",t.dateTag="[object Date]",t.errorTag="[object Error]",t.float32ArrayTag="[object Float32Array]",t.float64ArrayTag="[object Float64Array]",t.functionTag="[object Function]",t.int16ArrayTag="[object Int16Array]",t.int32ArrayTag="[object Int32Array]",t.int8ArrayTag="[object Int8Array]",t.mapTag="[object Map]",t.numberTag="[object Number]",t.objectTag="[object Object]",t.regexpTag="[object RegExp]",t.setTag="[object Set]",t.stringTag="[object String]",t.symbolTag="[object Symbol]",t.uint16ArrayTag="[object Uint16Array]",t.uint32ArrayTag="[object Uint32Array]",t.uint8ArrayTag="[object Uint8Array]",t.uint8ClampedArrayTag="[object Uint8ClampedArray]"},8346:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.toArray=function(e){return Array.isArray(e)?e:Array.from(e)}},3272:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.toKey=function(e){var t;return"string"===typeof e||"symbol"===typeof e?e:Object.is(null===e||void 0===e||null===(t=e.valueOf)||void 0===t?void 0:t.call(e),-0)?"-0":String(e)}},9645:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(6392),a=n(8346),i=n(1203);t.last=function(e){if(i.isArrayLike(e))return r.last(a.toArray(e))}},5316:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(9709),a=n(7043),i=n(1444);t.orderBy=function(e,t,n,o){if(null==e)return[];n=o?void 0:n,Array.isArray(e)||(e=Object.values(e)),Array.isArray(t)||(t=null==t?[null]:[t]),0===t.length&&(t=[null]),Array.isArray(n)||(n=null==n?[]:[n]),n=n.map((e=>String(e)));const s=(e,t)=>{let n=e;for(let r=0;r<t.length&&null!=n;++r)n=n[t[r]];return n},l=t.map((e=>(Array.isArray(e)&&1===e.length&&(e=e[0]),null==e||"function"===typeof e||Array.isArray(e)||a.isKey(e)?e:{key:e,path:i.toPath(e)})));return e.map((e=>({original:e,criteria:l.map((t=>((e,t)=>null==t||null==e?t:"object"===typeof e&&"key"in e?Object.hasOwn(t,e.key)?t[e.key]:s(t,e.path):"function"===typeof e?e(t):Array.isArray(e)?s(t,e):"object"===typeof t?t[e]:t)(t,e)))}))).slice().sort(((e,t)=>{for(let a=0;a<l.length;a++){const i=r.compareValues(e.criteria[a],t.criteria[a],n[a]);if(0!==i)return i}return 0})).map((e=>e.original))}},2204:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(5316),a=n(7312),i=n(3799);t.sortBy=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];const s=n.length;return s>1&&i.isIterateeCall(e,n[0],n[1])?n=[]:s>2&&i.isIterateeCall(n[0],n[1],n[2])&&(n=[n[0]]),r.orderBy(e,a.flatten(n),["asc"])}},5053:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(4208),a=n(9599),i=n(2104),o=n(2715);t.uniqBy=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.identity;return i.isArrayLikeObject(e)?r.uniqBy(Array.from(e),o.iteratee(t)):[]}},1293:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.debounce=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};"object"!==typeof n&&(n={});let r,a=null,i=null,o=null,s=0,l=null;const{leading:c=!1,trailing:u=!0,maxWait:d}=n,h="maxWait"in n,f=h?Math.max(Number(d)||0,t):0,p=t=>(null!==a&&(r=e.apply(i,a)),a=i=null,s=t,r),m=e=>(l=null,u&&null!==a?p(e):r),g=e=>{if(null===o)return!0;const n=e-o;return n>=t||n<0||h&&e-s>=f},y=()=>{const e=Date.now();if(g(e))return m(e);l=setTimeout(y,(e=>{const n=t-(null===o?0:e-o),r=f-(e-s);return h?Math.min(n,r):n})(e))},v=function(){const e=Date.now(),n=g(e);for(var u=arguments.length,d=new Array(u),f=0;f<u;f++)d[f]=arguments[f];if(a=d,i=this,o=e,n){if(null===l)return s=m=e,l=setTimeout(y,t),c&&null!==a?p(m):r;if(h)return clearTimeout(l),l=setTimeout(y,t),p(e)}var m;return null===l&&(l=setTimeout(y,t)),r};return v.cancel=()=>{null!==l&&clearTimeout(l),s=0,o=a=i=l=null},v.flush=()=>null===l?r:m(Date.now()),v}},5414:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(1293);t.throttle=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{leading:a=!0,trailing:i=!0}=n;return r.debounce(e,t,{leading:a,maxWait:t,trailing:i})}},7231:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(3799),a=n(4879);t.range=function(e,t,n){n&&"number"!==typeof n&&r.isIterateeCall(e,t,n)&&(t=n=void 0),e=a.toFinite(e),void 0===t?(t=e,e=0):t=a.toFinite(t),n=void 0===n?e<t?1:-1:a.toFinite(n);const i=Math.max(Math.ceil((t-e)/(n||1)),0),o=new Array(i);for(let r=0;r<i;r++)o[r]=e,e+=n;return o}},8396:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(5508);t.cloneDeep=function(e){return r.cloneDeepWith(e)}},5508:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(6433),a=n(7599);t.cloneDeepWith=function(e,t){return r.cloneDeepWith(e,((n,i,o,s)=>{const l=null===t||void 0===t?void 0:t(n,i,o,s);if(null!=l)return l;if("object"===typeof e)switch(Object.prototype.toString.call(e)){case a.numberTag:case a.stringTag:case a.booleanTag:{const t=new e.constructor(null===e||void 0===e?void 0:e.valueOf());return r.copyProperties(t,e),t}case a.argumentsTag:{const t={};return r.copyProperties(t,e),t.length=e.length,t[Symbol.iterator]=e[Symbol.iterator],t}default:return}}))}},9323:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(7260),a=n(2489),i=n(3272),o=n(1444);t.get=function e(t,n,s){if(null==t)return s;switch(typeof n){case"string":{if(r.isUnsafeProperty(n))return s;const i=t[n];return void 0===i?a.isDeepKey(n)?e(t,o.toPath(n),s):s:i}case"number":case"symbol":{"number"===typeof n&&(n=i.toKey(n));const e=t[n];return void 0===e?s:e}default:{var l;if(Array.isArray(n))return function(e,t,n){if(0===t.length)return n;let a=e;for(let i=0;i<t.length;i++){if(null==a)return n;if(r.isUnsafeProperty(t[i]))return n;a=a[t[i]]}if(void 0===a)return n;return a}(t,n,s);if(n=Object.is(null===(l=n)||void 0===l?void 0:l.valueOf(),-0)?"-0":String(n),r.isUnsafeProperty(n))return s;const e=t[n];return void 0===e?s:e}}}},5303:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(2489),a=n(4704),i=n(6321),o=n(1444);t.has=function(e,t){let n;if(n=Array.isArray(t)?t:"string"===typeof t&&r.isDeepKey(t)&&null==(null===e||void 0===e?void 0:e[t])?o.toPath(t):[t],0===n.length)return!1;let s=e;for(let r=0;r<n.length;r++){const e=n[r];if(null==s||!Object.hasOwn(s,e)){if(!((Array.isArray(s)||i.isArguments(s))&&a.isIndex(e)&&e<s.length))return!1}s=s[e]}return!0}},7330:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(9323);t.property=function(e){return function(t){return r.get(t,e)}}},6321:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(5990);t.isArguments=function(e){return null!==e&&"object"===typeof e&&"[object Arguments]"===r.getTag(e)}},1203:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8420);t.isArrayLike=function(e){return null!=e&&"function"!==typeof e&&r.isLength(e.length)}},2104:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(1203),a=n(9921);t.isArrayLikeObject=function(e){return a.isObjectLike(e)&&r.isArrayLike(e)}},8268:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(2132);t.isMatch=function(e,t){return r.isMatchWith(e,t,(()=>{}))}},2132:(e,t,n)=>{"use strict";var r=n(2897).default;Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const a=n(8268),i=n(870),o=n(4803),s=n(9972);function l(e,t,n,a){if(t===e)return!0;switch(typeof t){case"object":return function(e,t,n,r){if(null==t)return!0;if(Array.isArray(t))return c(e,t,n,r);if(t instanceof Map)return function(e,t,n,r){if(0===t.size)return!0;if(!(e instanceof Map))return!1;for(const[a,i]of t.entries()){if(!1===n(e.get(a),i,a,e,t,r))return!1}return!0}(e,t,n,r);if(t instanceof Set)return u(e,t,n,r);const a=Object.keys(t);if(null==e)return 0===a.length;if(0===a.length)return!0;if(r&&r.has(t))return r.get(t)===e;r&&r.set(t,e);try{for(let i=0;i<a.length;i++){const s=a[i];if(!o.isPrimitive(e)&&!(s in e))return!1;if(void 0===t[s]&&void 0!==e[s])return!1;if(null===t[s]&&null!==e[s])return!1;if(!n(e[s],t[s],s,e,t,r))return!1}return!0}finally{r&&r.delete(t)}}(e,t,n,a);case"function":return Object.keys(t).length>0?l(e,r({},t),n,a):s.eq(e,t);default:return i.isObject(e)?"string"!==typeof t||""===t:s.eq(e,t)}}function c(e,t,n,r){if(0===t.length)return!0;if(!Array.isArray(e))return!1;const a=new Set;for(let i=0;i<t.length;i++){const o=t[i];let s=!1;for(let l=0;l<e.length;l++){if(a.has(l))continue;let c=!1;if(n(e[l],o,i,e,t,r)&&(c=!0),c){a.add(l),s=!0;break}}if(!s)return!1}return!0}function u(e,t,n,r){return 0===t.size||e instanceof Set&&c([...e],[...t],n,r)}t.isMatchWith=function(e,t,n){return"function"!==typeof n?a.isMatch(e,t):l(e,t,(function e(t,r,a,i,o,s){const c=n(t,r,a,i,o,s);return void 0!==c?Boolean(c):l(t,r,e,s)}),new Map)},t.isSetMatch=u},870:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isObject=function(e){return null!==e&&("object"===typeof e||"function"===typeof e)}},9921:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isObjectLike=function(e){return"object"===typeof e&&null!==e}},2682:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isPlainObject=function(e){if("object"!==typeof e)return!1;if(null==e)return!1;if(null===Object.getPrototypeOf(e))return!0;if("[object Object]"!==Object.prototype.toString.call(e)){var t;const n=e[Symbol.toStringTag];if(null==n)return!1;return!!(null!==(t=Object.getOwnPropertyDescriptor(e,Symbol.toStringTag))&&void 0!==t&&t.writable)&&e.toString()==="[object ".concat(n,"]")}let n=e;for(;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(e)===n}},2777:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isSymbol=function(e){return"symbol"===typeof e||e instanceof Symbol}},3808:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8268),a=n(5261);t.matches=function(e){return e=a.cloneDeep(e),t=>r.isMatch(t,e)}},8845:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(8268),a=n(3272),i=n(8396),o=n(9323),s=n(5303);t.matchesProperty=function(e,t){switch(typeof e){case"object":var n;Object.is(null===(n=e)||void 0===n?void 0:n.valueOf(),-0)&&(e="-0");break;case"number":e=a.toKey(e)}return t=i.cloneDeep(t),function(n){const a=o.get(n,e);return void 0===a?s.has(n,e):void 0===t?void 0===a:r.isMatch(a,t)}}},9972:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.eq=function(e,t){return e===t||Number.isNaN(e)&&Number.isNaN(t)}},2715:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(9599),a=n(7330),i=n(3808),o=n(8845);t.iteratee=function(e){if(null==e)return r.identity;switch(typeof e){case"function":return e;case"object":return Array.isArray(e)&&2===e.length?o.matchesProperty(e[0],e[1]):i.matches(e);case"string":case"symbol":case"number":return a.property(e)}}},4879:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(6770);t.toFinite=function(e){if(!e)return 0===e?e:0;if((e=r.toNumber(e))===1/0||e===-1/0){return(e<0?-1:1)*Number.MAX_VALUE}return e===e?e:0}},6770:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(2777);t.toNumber=function(e){return r.isSymbol(e)?NaN:Number(e)}},1444:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.toPath=function(e){const t=[],n=e.length;if(0===n)return t;let r=0,a="",i="",o=!1;for(46===e.charCodeAt(0)&&(t.push(""),r++);r<n;){const s=e[r];i?"\\"===s&&r+1<n?(r++,a+=e[r]):s===i?i="":a+=s:o?'"'===s||"'"===s?i=s:"]"===s?(o=!1,t.push(a),a=""):a+=s:"["===s?(o=!0,a&&(t.push(a),a="")):"."===s?a&&(t.push(a),a=""):a+=s,r++}return a&&t.push(a),t}},9599:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.identity=function(e){return e}},4737:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.noop=function(){}},5261:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(6433);t.cloneDeep=function(e){return r.cloneDeepWithImpl(e,void 0,e,new Map,void 0)}},6433:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(6443),a=n(5990),i=n(7599),o=n(4803),s=n(3757);function l(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Map,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;const d=null===u||void 0===u?void 0:u(e,t,n,r);if(null!=d)return d;if(o.isPrimitive(e))return e;if(r.has(e))return r.get(e);if(Array.isArray(e)){const t=new Array(e.length);r.set(e,t);for(let a=0;a<e.length;a++)t[a]=l(e[a],a,n,r,u);return Object.hasOwn(e,"index")&&(t.index=e.index),Object.hasOwn(e,"input")&&(t.input=e.input),t}if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp){const t=new RegExp(e.source,e.flags);return t.lastIndex=e.lastIndex,t}if(e instanceof Map){const t=new Map;r.set(e,t);for(const[a,i]of e)t.set(a,l(i,a,n,r,u));return t}if(e instanceof Set){const t=new Set;r.set(e,t);for(const a of e)t.add(l(a,void 0,n,r,u));return t}if("undefined"!==typeof Buffer&&Buffer.isBuffer(e))return e.subarray();if(s.isTypedArray(e)){const t=new(Object.getPrototypeOf(e).constructor)(e.length);r.set(e,t);for(let a=0;a<e.length;a++)t[a]=l(e[a],a,n,r,u);return t}if(e instanceof ArrayBuffer||"undefined"!==typeof SharedArrayBuffer&&e instanceof SharedArrayBuffer)return e.slice(0);if(e instanceof DataView){const t=new DataView(e.buffer.slice(0),e.byteOffset,e.byteLength);return r.set(e,t),c(t,e,n,r,u),t}if("undefined"!==typeof File&&e instanceof File){const t=new File([e],e.name,{type:e.type});return r.set(e,t),c(t,e,n,r,u),t}if(e instanceof Blob){const t=new Blob([e],{type:e.type});return r.set(e,t),c(t,e,n,r,u),t}if(e instanceof Error){const t=new e.constructor;return r.set(e,t),t.message=e.message,t.name=e.name,t.stack=e.stack,t.cause=e.cause,c(t,e,n,r,u),t}if("object"===typeof e&&function(e){switch(a.getTag(e)){case i.argumentsTag:case i.arrayTag:case i.arrayBufferTag:case i.dataViewTag:case i.booleanTag:case i.dateTag:case i.float32ArrayTag:case i.float64ArrayTag:case i.int8ArrayTag:case i.int16ArrayTag:case i.int32ArrayTag:case i.mapTag:case i.numberTag:case i.objectTag:case i.regexpTag:case i.setTag:case i.stringTag:case i.symbolTag:case i.uint8ArrayTag:case i.uint8ClampedArrayTag:case i.uint16ArrayTag:case i.uint32ArrayTag:return!0;default:return!1}}(e)){const t=Object.create(Object.getPrototypeOf(e));return r.set(e,t),c(t,e,n,r,u),t}return e}function c(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,a=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;const o=[...Object.keys(t),...r.getSymbols(t)];for(let r=0;r<o.length;r++){const s=o[r],c=Object.getOwnPropertyDescriptor(e,s);(null==c||c.writable)&&(e[s]=l(t[s],s,n,a,i))}}t.cloneDeepWith=function(e,t){return l(e,void 0,e,new Map,t)},t.cloneDeepWithImpl=l,t.copyProperties=c},8182:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(9330),a=n(4737);t.isEqual=function(e,t){return r.isEqualWith(e,t,a.noop)}},9330:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=n(4385),a=n(6443),i=n(5990),o=n(7599),s=n(9972);function l(e,t,n,r,a,i,o){const s=o(e,t,n,r,a,i);if(void 0!==s)return s;if(typeof e===typeof t)switch(typeof e){case"bigint":case"string":case"boolean":case"symbol":case"undefined":case"function":return e===t;case"number":return e===t||Object.is(e,t);case"object":return c(e,t,i,o)}return c(e,t,i,o)}function c(e,t,n,u){var d;if(Object.is(e,t))return!0;let h=i.getTag(e),f=i.getTag(t);if(h===o.argumentsTag&&(h=o.objectTag),f===o.argumentsTag&&(f=o.objectTag),h!==f)return!1;switch(h){case o.stringTag:return e.toString()===t.toString();case o.numberTag:{const n=e.valueOf(),r=t.valueOf();return s.eq(n,r)}case o.booleanTag:case o.dateTag:case o.symbolTag:return Object.is(e.valueOf(),t.valueOf());case o.regexpTag:return e.source===t.source&&e.flags===t.flags;case o.functionTag:return e===t}const p=(n=null!==(d=n)&&void 0!==d?d:new Map).get(e),m=n.get(t);if(null!=p&&null!=m)return p===t;n.set(e,t),n.set(t,e);try{switch(h){case o.mapTag:if(e.size!==t.size)return!1;for(const[r,a]of e.entries())if(!t.has(r)||!l(a,t.get(r),r,e,t,n,u))return!1;return!0;case o.setTag:{if(e.size!==t.size)return!1;const r=Array.from(e.values()),a=Array.from(t.values());for(let i=0;i<r.length;i++){const o=r[i],s=a.findIndex((r=>l(o,r,void 0,e,t,n,u)));if(-1===s)return!1;a.splice(s,1)}return!0}case o.arrayTag:case o.uint8ArrayTag:case o.uint8ClampedArrayTag:case o.uint16ArrayTag:case o.uint32ArrayTag:case o.bigUint64ArrayTag:case o.int8ArrayTag:case o.int16ArrayTag:case o.int32ArrayTag:case o.bigInt64ArrayTag:case o.float32ArrayTag:case o.float64ArrayTag:if("undefined"!==typeof Buffer&&Buffer.isBuffer(e)!==Buffer.isBuffer(t))return!1;if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!l(e[r],t[r],r,e,t,n,u))return!1;return!0;case o.arrayBufferTag:return e.byteLength===t.byteLength&&c(new Uint8Array(e),new Uint8Array(t),n,u);case o.dataViewTag:return e.byteLength===t.byteLength&&e.byteOffset===t.byteOffset&&c(new Uint8Array(e),new Uint8Array(t),n,u);case o.errorTag:return e.name===t.name&&e.message===t.message;case o.objectTag:{if(!(c(e.constructor,t.constructor,n,u)||r.isPlainObject(e)&&r.isPlainObject(t)))return!1;const i=[...Object.keys(e),...a.getSymbols(e)],o=[...Object.keys(t),...a.getSymbols(t)];if(i.length!==o.length)return!1;for(let r=0;r<i.length;r++){const a=i[r],o=e[a];if(!Object.hasOwn(t,a))return!1;if(!l(o,t[a],a,e,t,n,u))return!1}return!0}default:return!1}}finally{n.delete(e),n.delete(t)}}t.isEqualWith=function(e,t,n){return l(e,t,void 0,void 0,void 0,void 0,n)}},8420:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isLength=function(e){return Number.isSafeInteger(e)&&e>=0}},4385:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isPlainObject=function(e){if(!e||"object"!==typeof e)return!1;const t=Object.getPrototypeOf(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t))&&"[object Object]"===Object.prototype.toString.call(e)}},4803:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isPrimitive=function(e){return null==e||"object"!==typeof e&&"function"!==typeof e}},3757:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isTypedArray=function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}},7283:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n="~";function r(){}function a(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function i(e,t,r,i,o){if("function"!==typeof r)throw new TypeError("The listener must be a function");var s=new a(r,i||e,o),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],s]:e._events[l].push(s):(e._events[l]=s,e._eventsCount++),e}function o(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),s.prototype.eventNames=function(){var e,r,a=[];if(0===this._eventsCount)return a;for(r in e=this._events)t.call(e,r)&&a.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?a.concat(Object.getOwnPropertySymbols(e)):a},s.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var a=0,i=r.length,o=new Array(i);a<i;a++)o[a]=r[a].fn;return o},s.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},s.prototype.emit=function(e,t,r,a,i,o){var s=n?n+e:e;if(!this._events[s])return!1;var l,c,u=this._events[s],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,r),!0;case 4:return u.fn.call(u.context,t,r,a),!0;case 5:return u.fn.call(u.context,t,r,a,i),!0;case 6:return u.fn.call(u.context,t,r,a,i,o),!0}for(c=1,l=new Array(d-1);c<d;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var h,f=u.length;for(c=0;c<f;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,r);break;case 4:u[c].fn.call(u[c].context,t,r,a);break;default:if(!l)for(h=1,l=new Array(d-1);h<d;h++)l[h-1]=arguments[h];u[c].fn.apply(u[c].context,l)}}return!0},s.prototype.on=function(e,t,n){return i(this,e,t,n,!1)},s.prototype.once=function(e,t,n){return i(this,e,t,n,!0)},s.prototype.removeListener=function(e,t,r,a){var i=n?n+e:e;if(!this._events[i])return this;if(!t)return o(this,i),this;var s=this._events[i];if(s.fn)s.fn!==t||a&&!s.once||r&&s.context!==r||o(this,i);else{for(var l=0,c=[],u=s.length;l<u;l++)(s[l].fn!==t||a&&!s[l].once||r&&s[l].context!==r)&&c.push(s[l]);c.length?this._events[i]=1===c.length?c[0]:c:o(this,i)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&o(this,t)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s},7004:(e,t,n)=>{"use strict";var r=n(8853),a=n(5043),i=n(7950);function o(e){var t="https://cda26137-70e2-49c7-8a66-73c61a911d12.preview.emergentagent.com","/api"),EL=(0,r.createContext)(),PL=e=>{let{children:t}=e;const[n,a]=(0,r.useState)(null),[i,o]=(0,r.useState)(!0);(0,r.useEffect)((()=>{const e=localStorage.getItem("token");e?(SL.defaults.headers.common.Authorization="Bearer ".concat(e),s()):o(!1)}),[]);const s=async()=>{try{const e=await SL.get("".concat(OL,"/auth/me"));a(e.data)}catch(e){console.error("Failed to fetch user:",e),localStorage.removeItem("token"),delete SL.defaults.headers.common.Authorization}finally{o(!1)}};return(0,ln.jsx)(EL.Provider,{value:{user:n,loginDev:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"super_admin";const t={super_admin:{id:"admin-123",email:"admin@theroofdocs.com",name:"Admin User",role:"super_admin",picture:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop&crop=face",phone:"(555) 123-4567",territory:"All Regions"},sales_manager:{id:"manager-456",email:"manager@theroofdocs.com",name:"Sales Manager",role:"sales_manager",picture:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=150&h=150&fit=crop&crop=face",phone:"(555) 234-5678",territory:"Mid-Atlantic"},sales_rep:{id:"rep-789",email:"john.smith@theroofdocs.com",name:"John Smith",role:"sales_rep",picture:"https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=150&h=150&fit=crop&crop=face",phone:"(555) 345-6789",territory:"Northern Virginia"},hr_manager:{id:"hr-101",email:"hr@theroofdocs.com",name:"HR Manager",role:"hr_manager",picture:"https://images.unsplash.com/photo-1494790108755-2616b9cf1d1e?w=150&h=150&fit=crop&crop=face",phone:"(555) 456-7890",territory:"Corporate"}},n=t[e]||t.super_admin,r="dev-token-".concat(e);return localStorage.setItem("token",r),SL.defaults.headers.common.Authorization="Bearer ".concat(r),a(n),n},logout:async()=>{localStorage.removeItem("token"),delete SL.defaults.headers.common.Authorization,a(null)},loading:i},children:t})},AL=()=>{const e=(0,r.useContext)(EL);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},CL=()=>{const{loginDev:e}=AL(),[t,n]=(0,r.useState)(!1),a=async t=>{n(!0);try{await e(t)}catch(r){console.error("Dev login failed:",r)}finally{n(!1)}};return(0,ln.jsx)("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:(0,ln.jsxs)("div",{className:"bg-gray-800 p-8 rounded-lg shadow-xl w-96 border border-gray-700",children:[(0,ln.jsxs)("div",{className:"text-center mb-8",children:[(0,ln.jsx)("h1",{className:"text-3xl font-bold text-red-400 mb-2",children:"Roof-HR Suite"}),(0,ln.jsx)("p",{className:"text-gray-400",children:"4-in-1 Enterprise Management System"})]}),(0,ln.jsxs)("div",{className:"space-y-3",children:[(0,ln.jsx)("h3",{className:"text-lg font-semibold text-white mb-3",children:"Select Your Role:"}),(0,ln.jsx)("button",{onClick:()=>a("super_admin"),disabled:t,className:"w-full bg-red-600 text-white py-3 px-4 rounded-lg hover:bg-red-700 disabled:opacity-50 transition-colors font-medium",children:"Super Admin"}),(0,ln.jsx)("button",{onClick:()=>a("sales_manager"),disabled:t,className:"w-full bg-gray-600 text-white py-3 px-4 rounded-lg hover:bg-gray-700 disabled:opacity-50 transition-colors font-medium",children:"Sales Manager"}),(0,ln.jsx)("button",{onClick:()=>a("sales_rep"),disabled:t,className:"w-full bg-gray-600 text-white py-3 px-4 rounded-lg hover:bg-gray-700 disabled:opacity-50 transition-colors font-medium",children:"Sales Rep"}),(0,ln.jsx)("button",{onClick:()=>a("hr_manager"),disabled:t,className:"w-full bg-gray-600 text-white py-3 px-4 rounded-lg hover:bg-gray-700 disabled:opacity-50 transition-colors font-medium",children:"HR Manager"})]}),(0,ln.jsx)("div",{className:"mt-6 text-center text-sm text-gray-500",children:(0,ln.jsx)("p",{children:"\xa9 2025 TheRoofDocs - Enterprise Suite"})})]})})},_L=()=>{const{user:e,logout:t}=AL(),[n,a]=(0,r.useState)(null),i=[{id:"sales-leaderboard",name:"Sales Leaderboard",description:"Track performance, competitions, and sales metrics with comprehensive analytics",icon:"\ud83c\udfc6",color:"primary",features:["Real-time Rankings","Goal Tracking","Competition Management","Bonus Tiers"]},{id:"hr-recruitment",name:"HR Recruitment",description:"Complete hiring workflow from applications to onboarding",icon:"\ud83d\udc65",color:"secondary",features:["Candidate Management","Interview Scheduling","Onboarding Flows","Compliance Tracking"]},{id:"qr-generator",name:"QR Code Generator",description:"Generate branded QR codes with personalized landing pages",icon:"\ud83d\udcf1",color:"primary",features:["Custom QR Codes","Landing Pages","Lead Capture","Analytics Dashboard"]}];if(n){const e=i.find((e=>e.id===n));return(0,ln.jsx)("div",{className:"min-h-screen bg-card",children:(0,ln.jsx)(TL,{app:e,onBack:()=>a(null)})})}return(0,ln.jsxs)("div",{className:"min-h-screen bg-gray-900",children:[(0,ln.jsx)("header",{className:"roof-er-gradient border-b border-red-800/20 shadow-lg",children:(0,ln.jsx)("div",{className:"mobile-container",children:(0,ln.jsxs)("div",{className:"flex justify-between items-center py-6",children:[(0,ln.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ln.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ln.jsx)("div",{className:"p-2 bg-white/10 rounded-lg backdrop-blur-sm",children:(0,ln.jsx)("svg",{className:"w-8 h-8 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:(0,ln.jsx)("path",{d:"M19 7h-3V6a4 4 0 0 0-8 0v1H5a1 1 0 0 0-1 1v11a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3V8a1 1 0 0 0-1-1zM10 6a2 2 0 0 1 4 0v1h-4V6zm8 13a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V9h2v1a1 1 0 0 0 2 0V9h4v1a1 1 0 0 0 2 0V9h2v10z"})})}),(0,ln.jsxs)("div",{children:[(0,ln.jsx)("h1",{className:"text-2xl font-bold text-white",children:"Roof HR Hub"}),(0,ln.jsx)("p",{className:"text-white/70 text-sm",children:"Enterprise HR Management System"})]})]}),(0,ln.jsx)("div",{className:"role-badge ".concat((o=null===e||void 0===e?void 0:e.role,["super_admin","sales_manager"].includes(o)?"role-badge-super-admin":["hr_manager"].includes(o)?"role-badge-hr-manager":["sales_rep"].includes(o)?"role-badge-sales-rep":["team_lead"].includes(o)?"role-badge-sales-manager":"role-badge-employee")),children:(e=>({super_admin:"Super Admin",hr_manager:"HR Manager",sales_manager:"Sales Manager",sales_rep:"Sales Rep",team_lead:"Team Lead"}[e]||e))(null===e||void 0===e?void 0:e.role)})]}),(0,ln.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ln.jsxs)("div",{className:"hidden md:block text-right",children:[(0,ln.jsx)("p",{className:"text-white font-medium",children:null===e||void 0===e?void 0:e.name}),(0,ln.jsx)("p",{className:"text-white/70 text-sm",children:null===e||void 0===e?void 0:e.email})]}),(0,ln.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ln.jsx)("button",{className:"p-2 text-white/70 hover:text-white hover:bg-white/10 rounded-lg transition-all duration-200",children:(0,ln.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ln.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-5 5v-5zM9.06 3.71a10 10 0 0 1 5.88 0M15 21H3a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h6l2 2h6a2 2 0 0 1 2 2v2M9 17h6"})})}),(0,ln.jsxs)("button",{onClick:t,className:"px-4 py-2 text-white/70 hover:text-white hover:bg-white/10 rounded-lg text-sm font-medium transition-all duration-200 flex items-center space-x-2",children:[(0,ln.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ln.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),(0,ln.jsx)("span",{children:"Logout"})]})]})]})]})})}),(0,ln.jsx)("div",{className:"bg-gray-800",children:(0,ln.jsx)("div",{className:"mobile-container py-16",children:(0,ln.jsx)("div",{className:"text-center",children:(0,ln.jsxs)(fs.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,ease:"easeOut"},children:[(0,ln.jsxs)(fs.h2,{className:"text-4xl md:text-5xl font-bold text-white mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:["Choose Your ",(0,ln.jsx)(fs.span,{className:"text-red-400",initial:{opacity:0},animate:{opacity:1},transition:{duration:.6,delay:.8},children:"Application"})]}),(0,ln.jsx)(fs.p,{className:"text-xl text-gray-300 max-w-3xl mx-auto mb-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},children:"Access powerful HR tools designed for roofing companies. Streamline operations with our integrated suite of applications."}),(0,ln.jsx)(fs.div,{className:"flex items-center justify-center space-x-8 text-gray-400",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.6},children:["Integrity","Quality","Simplicity"].map(((e,t)=>(0,ln.jsxs)(fs.div,{className:"flex items-center space-x-2",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.4,delay:.8+.1*t},children:[(0,ln.jsx)("svg",{className:"w-5 h-5 text-red-400",fill:"currentColor",viewBox:"0 0 20 20",children:(0,ln.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),(0,ln.jsx)("span",{className:"text-gray-300",children:e})]},e)))})]})})})}),(0,ln.jsx)("div",{className:"mobile-container py-16 bg-gray-900",children:(0,ln.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:i.map(((e,t)=>(0,ln.jsx)(fs.div,{className:"bg-gray-800 border border-gray-700 rounded-lg shadow-lg group cursor-pointer hover:border-red-500 transition-all duration-300",onClick:()=>a(e.id),initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1*t,ease:"easeOut"},whileHover:{scale:1.05,y:-10,transition:{duration:.2}},whileTap:{scale:.95},children:(0,ln.jsxs)("div",{className:"p-8",children:[(0,ln.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,ln.jsx)(fs.div,{className:"text-4xl p-4 rounded-xl ".concat("primary"===e.color?"bg-red-500/10 border border-red-500/20":"bg-gray-700 border border-gray-600"),whileHover:{scale:1.2,rotate:10,transition:{duration:.3}},children:e.icon}),(0,ln.jsx)(fs.div,{className:"px-3 py-1 rounded-full text-xs font-semibold ".concat("primary"===e.color?"bg-red-500/20 text-red-300 border border-red-500/30":"bg-gray-700 text-gray-300 border border-gray-600"),initial:{scale:0},animate:{scale:1},transition:{delay:.1*t+.3},children:"Ready"})]}),(0,ln.jsx)(fs.h3,{className:"text-xl font-bold text-white mb-3 group-hover:text-red-400 transition-colors duration-200",initial:{opacity:0},animate:{opacity:1},transition:{delay:.1*t+.2},children:e.name}),(0,ln.jsx)(fs.p,{className:"text-gray-300 mb-6",initial:{opacity:0},animate:{opacity:1},transition:{delay:.1*t+.3},children:e.description}),(0,ln.jsx)(fs.div,{className:"space-y-2 mb-6",initial:{opacity:0},animate:{opacity:1},transition:{delay:.1*t+.4},children:e.features.slice(0,3).map(((e,n)=>(0,ln.jsxs)(fs.div,{className:"flex items-center space-x-2 text-sm text-gray-400",initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.1*t+.5+.05*n},children:[(0,ln.jsx)("svg",{className:"w-4 h-4 text-red-400 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:(0,ln.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),(0,ln.jsx)("span",{className:"text-gray-300",children:e})]},n)))}),(0,ln.jsxs)(fs.button,{className:"w-full bg-red-600 hover:bg-red-700 text-white font-semibold py-3 px-4 rounded-lg transition-all duration-200 flex items-center justify-center group-hover:scale-105",whileHover:{scale:1.02,backgroundColor:"#991b1b",transition:{duration:.2}},whileTap:{scale:.98},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*t+.6},children:["Launch Application",(0,ln.jsx)(fs.svg,{className:"w-4 h-4 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",whileHover:{x:5},transition:{duration:.2},children:(0,ln.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]})]})},e.id)))})}),(0,ln.jsx)("footer",{className:"border-t border-gray-700 bg-gray-800",children:(0,ln.jsx)("div",{className:"mobile-container py-8",children:(0,ln.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[(0,ln.jsx)("div",{className:"flex items-center space-x-4 mb-4 md:mb-0",children:(0,ln.jsx)("div",{className:"text-sm text-gray-400",children:"\xa9 2025 Roof HR Hub. All rights reserved."})}),(0,ln.jsx)("div",{className:"flex items-center space-x-6 text-sm text-gray-400",children:(0,ln.jsx)("span",{children:"Integrity \u2022 Quality \u2022 Simplicity"})})]})})})]});var o},TL=e=>{let{app:t,onBack:n}=e;const{user:r}=AL();return(0,ln.jsxs)("div",{className:"min-h-screen bg-gray-900",children:[(0,ln.jsx)("header",{className:"bg-gray-800 shadow-lg border-b border-gray-700",children:(0,ln.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,ln.jsxs)("div",{className:"flex justify-between items-center py-4",children:[(0,ln.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ln.jsx)("button",{onClick:n,className:"text-gray-400 hover:text-red-400 transition-colors",children:"\u2190 Back to Hub"}),(0,ln.jsxs)("div",{className:"flex items-center",children:[(0,ln.jsx)("span",{className:"text-2xl mr-3",children:t.icon}),(0,ln.jsx)("h1",{className:"text-2xl font-bold text-red-400",children:t.name})]})]}),(0,ln.jsx)("div",{className:"flex items-center space-x-4",children:(0,ln.jsx)("span",{className:"text-gray-300",children:null===r||void 0===r?void 0:r.name})})]})})}),(0,ln.jsx)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(()=>{switch(t.id){case"sales-leaderboard":return(0,ln.jsx)(ML,{});case"hr-recruitment":return(0,ln.jsx)(DL,{});case"qr-generator":return(0,ln.jsx)(LL,{});default:return(0,ln.jsx)("div",{children:"App not found"})}})()})]})},ML=()=>{var e,t,n,a,i,o,s,l,u,d,h,f,p;const{user:m}=AL(),[g,y]=(0,r.useState)("dashboard"),[v,x]=(0,r.useState)(!0),[b,w]=(0,r.useState)(null),[j,N]=(0,r.useState)("month"),[k,S]=(0,r.useState)(""),[O,E]=(0,r.useState)("all"),[P,A]=(0,r.useState)(null),[C,_]=(0,r.useState)([]),[T,M]=(0,r.useState)([]),[D,L]=(0,r.useState)([]),[R,I]=(0,r.useState)([]),[F,z]=(0,r.useState)([]),[B,V]=(0,r.useState)([]),[U,W]=(0,r.useState)([]),[K,H]=(0,r.useState)({name:"",description:"",competition_type:"signups",start_date:"",end_date:"",prize_description:"",rules:""}),[q,Y]=(0,r.useState)({rep_id:"",signup_goal:0,revenue_goal:0}),[G,$]=(0,r.useState)(!1),[X,Q]=(0,r.useState)(!1),[Z,J]=(0,r.useState)(!1),[ee,te]=(0,r.useState)([]),[ne,re]=(0,r.useState)({rep_id:"",month:"",revenue:0}),ae=async()=>{try{console.log("\ud83d\udd04 Fetching competitions from:","".concat(OL,"/leaderboard/competitions"));const e=await SL.get("".concat(OL,"/leaderboard/competitions"));console.log("\ud83c\udfc1 Competitions data:",e.data),_(e.data)}catch(b){var e,t;console.error("\u274c Error fetching competitions:",null===(e=b.response)||void 0===e?void 0:e.status,(null===(t=b.response)||void 0===t?void 0:t.data)||b.message)}},ie=async()=>{try{console.log("\ud83d\udd04 Fetching goals from:","".concat(OL,"/leaderboard/goals"));const e=await SL.get("".concat(OL,"/leaderboard/goals"));console.log("\ud83c\udfaf Goals data:",e.data),M(e.data)}catch(b){var e,t;console.error("\u274c Error fetching goals:",null===(e=b.response)||void 0===e?void 0:e.status,(null===(t=b.response)||void 0===t?void 0:t.data)||b.message)}},oe=async()=>{try{console.log("\ud83d\udd04 Fetching signups from:","".concat(OL,"/leaderboard/signups"));const e=await SL.get("".concat(OL,"/leaderboard/signups"));console.log("\ud83d\udcdd Signups data:",e.data),L(e.data)}catch(b){var e,t;console.error("\u274c Error fetching signups:",null===(e=b.response)||void 0===e?void 0:e.status,(null===(t=b.response)||void 0===t?void 0:t.data)||b.message)}},se=async()=>{try{console.log("\ud83d\udd04 Fetching metrics from:","".concat(OL,"/leaderboard/metrics"));const e=await SL.get("".concat(OL,"/leaderboard/metrics"));console.log("\ud83d\udcca Metrics data:",e.data),I(e.data)}catch(b){var e,t;console.error("\u274c Error fetching metrics:",null===(e=b.response)||void 0===e?void 0:e.status,(null===(t=b.response)||void 0===t?void 0:t.data)||b.message)}},le=async()=>{try{const e=await SL.get("".concat(OL,"/leaderboard/bonus-tiers"));console.log("\ud83c\udfc6 Bonus tiers data:",e.data),z(e.data)}catch(b){console.error("Error fetching bonus tiers:",b)}},ce=async()=>{try{console.log("\ud83d\udd04 Fetching team assignments from:","".concat(OL,"/leaderboard/team-assignments"));const e=await SL.get("".concat(OL,"/leaderboard/team-assignments"));console.log("\ud83d\udc65 Team assignments data:",e.data),V(e.data)}catch(b){var e,t;console.error("\u274c Error fetching team assignments:",null===(e=b.response)||void 0===e?void 0:e.status,(null===(t=b.response)||void 0===t?void 0:t.data)||b.message)}},ue=async()=>{try{console.log("\ud83d\udd04 Fetching sales reps from:","".concat(OL,"/qr-generator/reps"));const e=await SL.get("".concat(OL,"/qr-generator/reps"));console.log("\ud83d\udcca Sales reps data:",e.data),W(e.data)}catch(b){var e,t;console.error("\u274c Error fetching sales reps:",null===(e=b.response)||void 0===e?void 0:e.status,(null===(t=b.response)||void 0===t?void 0:t.data)||b.message)}},de=async()=>{try{await SL.post("".concat(OL,"/leaderboard/initialize-sample-data")),await he()}catch(b){console.error("Error initializing sample data:",b)}},he=async()=>{console.log("\ud83d\udd04 Starting to load all data..."),x(!0);try{await Promise.all([ae(),ie(),oe(),se(),le(),ce(),ue()]),console.log("\u2705 All data loaded successfully")}catch(b){console.error("\u274c Error loading data:",b),w("Failed to load leaderboard data")}finally{console.log("\ud83c\udfc1 Setting loading to false"),x(!1)}},fe=async e=>{try{const t=await SL.post("".concat(OL,"/leaderboard/goals"),e);return await ie(),t.data}catch(b){throw console.error("Error creating goal:",b),b}},pe=async()=>{try{const e=await SL.get("".concat(OL,"/sync/status"));te(e.data.sync_statuses||[])}catch(b){console.error("Error fetching sync statuses:",b),te([{sync_type:"signups",status:"completed",last_sync:(new Date).toISOString(),records_processed:25,error_message:null},{sync_type:"signups",status:"completed",last_sync:new Date(Date.now()-72e5).toISOString(),records_processed:23,error_message:null}])}};(0,r.useEffect)((()=>{(async()=>{await he();try{const e=await SL.get("".concat(OL,"/leaderboard/bonus-tiers")),t=await SL.get("".concat(OL,"/leaderboard/competitions"));0===e.data.length&&0===t.data.length&&(console.log("No data found, initializing sample data..."),await de())}catch(b){console.error("Error checking for existing data:",b),await de()}})(),pe()}),[]);const me=U.map((e=>{var t,n;const r=T.filter((t=>t.rep_id===e.id)),a=D.filter((t=>t.rep_id===e.id)),i=R.find((t=>t.rep_id===e.id)),o=new Date,s=o.getMonth()+1,l=o.getFullYear(),u=a.filter((e=>{const t=new Date(e.signup_date);return t.getMonth()+1===s&&t.getFullYear()===l})).length,d=a.filter((e=>new Date(e.signup_date).getFullYear()===l)).length,h=a.filter((e=>{const t=new Date(e.signup_date);return t.getMonth()+1===s&&t.getFullYear()===l})).reduce(((e,t)=>e+t.deal_value),0),f=a.filter((e=>new Date(e.signup_date).getFullYear()===l)).reduce(((e,t)=>e+t.deal_value),0),p=r.find((e=>e.month===s&&e.year===l));let m=F.find((e=>u>=e.signup_threshold));return!m&&F.length>0&&(m=F[0]),c(c({},e),{},{metrics:{monthly_signups:u,yearly_signups:d,monthly_revenue:h,yearly_revenue:f,monthly_goal:(null===p||void 0===p?void 0:p.signup_goal)||0,yearly_goal:(null===p||void 0===p?void 0:p.revenue_goal)||0,conversion_rate:(null===i||void 0===i?void 0:i.conversions)||0,avg_deal_size:u>0?h/u:0,calls_made:(null===i||void 0===i?void 0:i.calls_made)||0,meetings_held:(null===i||void 0===i?void 0:i.meetings_held)||0,proposals_sent:(null===i||void 0===i?void 0:i.proposals_sent)||0,current_tier:(null===(t=m)||void 0===t?void 0:t.tier_number)||1,tier_name:(null===(n=m)||void 0===n?void 0:n.tier_name)||"Bronze",response_time:2.5,customer_satisfaction:4.5},goals:{monthly_signup_goal:(null===p||void 0===p?void 0:p.signup_goal)||0,yearly_revenue_goal:(null===p||void 0===p?void 0:p.revenue_goal)||0,monthly_revenue_goal:null!==p&&void 0!==p&&p.revenue_goal?p.revenue_goal/12:0},rank:1,trend:u>.8*((null===p||void 0===p?void 0:p.signup_goal)||0)?"up":"down",streak:Math.floor(10*Math.random())+1,badges:u>((null===p||void 0===p?void 0:p.signup_goal)||0)?["Top Performer"]:[]})})).sort(((e,t)=>t.metrics.monthly_signups-e.metrics.monthly_signups));me.forEach(((e,t)=>{e.rank=t+1}));const ge=me.find((e=>e.email===(null===m||void 0===m?void 0:m.email)))||me[0]||{},ye="team_lead"===ge.role?me.filter((e=>{const t=B.find((t=>t.team_member_id===e.id));return(null===t||void 0===t?void 0:t.team_lead_id)===ge.id})):[],ve=[{id:"1",name:"John Smith",email:"john.smith@theroofdocs.com",role:"sales_rep",territory:"North",department:"Sales",picture:"https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=150&h=150&fit=crop&crop=face",team_lead:"Sarah Johnson",metrics:{monthly_signups:28,yearly_signups:156,monthly_qr_leads:45,yearly_qr_leads:234,monthly_revenue:125e3,yearly_revenue:68e4,monthly_goal:25,yearly_goal:300,conversion_rate:62.2,avg_deal_size:4464,calls_made:89,meetings_held:28,proposals_sent:18,current_tier:4,tier_name:"Platinum",response_time:2.1,customer_satisfaction:4.8},streak:7,rank:1,trend:"up",badges:["Revenue Leader","Top Performer","Customer Champion"],goals:{monthly_signup_goal:25,yearly_revenue_goal:75e4,monthly_revenue_goal:62500}},{id:"2",name:"Sarah Johnson",email:"sarah.j@theroofdocs.com",role:"team_lead",territory:"South",department:"Sales",picture:"https://images.unsplash.com/photo-1494790108755-2616b6374e88?w=150&h=150&fit=crop&crop=face",team_lead:null,metrics:{monthly_signups:24,yearly_signups:142,monthly_qr_leads:38,yearly_qr_leads:198,monthly_revenue:118e3,yearly_revenue:642e3,monthly_goal:22,yearly_goal:280,conversion_rate:63.2,avg_deal_size:4917,calls_made:76,meetings_held:24,proposals_sent:20,current_tier:3,tier_name:"Gold",response_time:1.8,customer_satisfaction:4.9},streak:5,rank:2,trend:"up",badges:["Team Leader","Mentor","Conversion Master"],goals:{monthly_signup_goal:22,yearly_revenue_goal:7e5,monthly_revenue_goal:58333}},{id:"3",name:"Mike Davis",email:"mike.d@theroofdocs.com",role:"sales_rep",territory:"East",department:"Sales",picture:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=150&h=150&fit=crop&crop=face",team_lead:"Sarah Johnson",metrics:{monthly_signups:19,yearly_signups:108,monthly_qr_leads:32,yearly_qr_leads:165,monthly_revenue:108e3,yearly_revenue:548e3,monthly_goal:20,yearly_goal:250,conversion_rate:59.4,avg_deal_size:5684,calls_made:54,meetings_held:19,proposals_sent:15,current_tier:2,tier_name:"Silver",response_time:3.2,customer_satisfaction:4.6},streak:3,rank:3,trend:"stable",badges:["Steady Performer","Quality Focus"],goals:{monthly_signup_goal:20,yearly_revenue_goal:6e5,monthly_revenue_goal:5e4}},{id:"4",name:"Lisa Chen",email:"lisa.c@theroofdocs.com",role:"sales_rep",territory:"West",department:"Sales",picture:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=150&h=150&fit=crop&crop=face",team_lead:"Tom Wilson",metrics:{monthly_signups:16,yearly_signups:89,monthly_qr_leads:28,yearly_qr_leads:142,monthly_revenue:95e3,yearly_revenue:487e3,monthly_goal:18,yearly_goal:220,conversion_rate:57.1,avg_deal_size:5938,calls_made:49,meetings_held:16,proposals_sent:12,current_tier:2,tier_name:"Silver",response_time:2.9,customer_satisfaction:4.7},streak:2,rank:4,trend:"up",badges:["High Value Deals","Rising Star"],goals:{monthly_signup_goal:18,yearly_revenue_goal:55e4,monthly_revenue_goal:45833}},{id:"5",name:"Tom Wilson",email:"tom.w@theroofdocs.com",role:"team_lead",territory:"Central",department:"Sales",picture:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop&crop=face",team_lead:null,metrics:{monthly_signups:13,yearly_signups:76,monthly_qr_leads:22,yearly_qr_leads:118,monthly_revenue:87e3,yearly_revenue:456e3,monthly_goal:15,yearly_goal:200,conversion_rate:59.1,avg_deal_size:6692,calls_made:37,meetings_held:13,proposals_sent:10,current_tier:1,tier_name:"Bronze",response_time:4.1,customer_satisfaction:4.5},streak:1,rank:5,trend:"down",badges:["Team Builder","Mentor"],goals:{monthly_signup_goal:15,yearly_revenue_goal:5e5,monthly_revenue_goal:41667}}],xe=e=>{switch(e){case"up":return(0,ln.jsx)("svg",{className:"w-4 h-4 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ln.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 11l5-5m0 0l5 5m-5-5v12"})});case"down":return(0,ln.jsx)("svg",{className:"w-4 h-4 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ln.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 13l-5 5m0 0l-5-5m5 5V6"})});default:return(0,ln.jsx)("svg",{className:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ln.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h8"})})}},be=(e,t)=>{const n=e/t*100;return n>=100?"bg-green-500":n>=75?"bg-blue-500":n>=50?"bg-yellow-500":"bg-red-500"},we=()=>{const e=(new Date).getDate();return("team_lead"===(null===m||void 0===m?void 0:m.role)||"sales_manager"===(null===m||void 0===m?void 0:m.role)||"super_admin"===(null===m||void 0===m?void 0:m.role))&&e<=6};return v?(0,ln.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,ln.jsxs)("div",{className:"text-center",children:[(0,ln.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-500 mx-auto mb-4"}),(0,ln.jsx)("p",{className:"text-gray-400",children:"Loading Sales Dashboard..."})]})}):(0,ln.jsxs)("div",{className:"space-y-6",children:[(0,ln.jsx)("div",{className:"bg-gradient-to-r from-red-600 to-red-700 rounded-xl p-6 text-white",children:(0,ln.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ln.jsxs)("div",{children:[(0,ln.jsx)("h1",{className:"text-2xl font-bold mb-2",children:"Sales Performance Hub"}),(0,ln.jsx)("p",{className:"text-red-100",children:"sales_rep"===(null===m||void 0===m?void 0:m.role)?"Track your performance and compete with your team":"team_lead"===(null===m||void 0===m?void 0:m.role)?"Manage your team and track performance":"Comprehensive sales management and analytics"})]}),(0,ln.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ln.jsxs)("select",{value:j,onChange:e=>N(e.target.value),className:"px-4 py-2 bg-white/20 border border-white/30 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-white/50",children:[(0,ln.jsx)("option",{value:"month",children:"This Month"}),(0,ln.jsx)("option",{value:"quarter",children:"This Quarter"}),(0,ln.jsx)("option",{value:"year",children:"This Year"})]}),(0,ln.jsxs)("div",{className:"text-right",children:[(0,ln.jsx)("div",{className:"text-sm text-red-100",children:"Total Team Revenue"}),(0,ln.jsxs)("div",{className:"text-2xl font-bold",children:["$",me.reduce(((e,t)=>{var n;return e+((null===(n=t.metrics)||void 0===n?void 0:n.monthly_revenue)||0)}),0).toLocaleString()]})]})]})]})}),(0,ln.jsx)("div",{className:"border-b border-gray-200",children:(0,ln.jsxs)("nav",{className:"flex space-x-8",children:["sales_rep"===(null===m||void 0===m?void 0:m.role)&&(0,ln.jsxs)(ln.Fragment,{children:[(0,ln.jsxs)("button",{onClick:()=>y("dashboard"),className:"py-4 px-1 border-b-2 font-medium text-sm flex items-center gap-2 ".concat("dashboard"===g?"border-red-500 text-red-600":"border-transparent text-gray-500 hover:text-gray-700"),children:[(0,ln.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ln.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"My Dashboard"]}),(0,ln.jsxs)("button",{onClick:()=>y("leaderboard"),className:"py-4 px-1 border-b-2 font-medium text-sm flex items-center gap-2 ".concat("leaderboard"===g?"border-red-500 text-red-600":"border-transparent text-gray-500 hover:text-gray-700"),children:[(0,ln.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ln.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"Team Leaderboard"]})]}),"team_lead"===(null===m||void 0===m?void 0:m.role)&&(0,ln.jsxs)(ln.Fragment,{children:[(0,ln.jsx)("button",{onClick:()=>y("dashboard"),className:"py-4 px-1 border-b-2 font-medium text-sm flex items-center gap-2 ".concat("dashboard"===g?"border-red-500 text-red-600":"border-transparent text-gray-500 hover:text-gray-700"),children:"My Dashboard"}),(0,ln.jsx)("button",{onClick:()=>y("leaderboard"),className:"py-4 px-1 border-b-2 font-medium text-sm flex items-center gap-2 ".concat("leaderboard"===g?"border-red-500 text-red-600":"border-transparent text-gray-500 hover:text-gray-700"),children:"Team Leaderboard"}),(0,ln.jsxs)("button",{onClick:()=>y("team-management"),className:"py-4 px-1 border-b-2 font-medium text-sm flex items-center gap-2 ".concat("team-management"===g?"border-red-500 text-red-600":"border-transparent text-gray-500 hover:text-gray-700"),children:[(0,ln.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ln.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})}),"Team Management"]})]}),("super_admin"===(null===m||void 0===m?void 0:m.role)||"sales_manager"===(null===m||void 0===m?void 0:m.role))&&(0,ln.jsxs)(ln.Fragment,{children:[(0,ln.jsx)("button",{onClick:()=>y("dashboard"),className:"py-4 px-1 border-b-2 font-medium text-sm flex items-center gap-2 ".concat("dashboard"===g?"border-red-500 text-red-600":"border-transparent text-gray-500 hover:text-gray-700"),children:"Overview Dashboard"}),(0,ln.jsx)("button",{onClick:()=>y("leaderboard"),className:"py-4 px-1 border-b-2 font-medium text-sm flex items-center gap-2 ".concat("leaderboard"===g?"border-red-500 text-red-600":"border-transparent text-gray-500 hover:text-gray-700"),children:"Team Leaderboard"}),(0,ln.jsxs)("button",{onClick:()=>y("competitions"),className:"py-4 px-1 border-b-2 font-medium text-sm flex items-center gap-2 ".concat("competitions"===g?"border-red-500 text-red-600":"border-transparent text-gray-500 hover:text-gray-700"),children:[(0,ln.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ln.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),"Competitions"]}),(0,ln.jsxs)("button",{onClick:()=>y("analytics"),className:"py-4 px-1 border-b-2 font-medium text-sm flex items-center gap-2 ".concat("analytics"===g?"border-red-500 text-red-600":"border-transparent text-gray-500 hover:text-gray-700"),children:[(0,ln.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ln.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Analytics"]}),(0,ln.jsxs)("button",{onClick:()=>y("admin"),className:"py-4 px-1 border-b-2 font-medium text-sm flex items-center gap-2 ".concat("admin"===g?"border-red-500 text-red-600":"border-transparent text-gray-500 hover:text-gray-700"),children:[(0,ln.jsxs)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,ln.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),(0,ln.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Admin Settings"]})]})]})}),"dashboard"===g&&(0,ln.jsxs)("div",{className:"space-y-6",children:[(0,ln.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,ln.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl p-6 border border-blue-200",children:[(0,ln.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,ln.jsx)("div",{className:"p-3 bg-blue-500 rounded-lg text-white",children:(0,ln.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ln.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),(0,ln.jsxs)("div",{className:"text-right",children:[(0,ln.jsx)("div",{className:"text-2xl font-bold text-blue-700",children:ge.metrics.monthly_signups}),(0,ln.jsx)("div",{className:"text-sm text-blue-600",children:"Monthly Signups"})]})]}),(0,ln.jsxs)("div",{className:"space-y-2",children:[(0,ln.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,ln.jsxs)("span",{className:"text-blue-600",children:["Goal: ",ge.goals.monthly_signup_goal]}),(0,ln.jsxs)("span",{className:"text-blue-800 font-medium",children:[Math.round(ge.metrics.monthly_signups/ge.goals.monthly_signup_goal*100),"%"]})]}),(0,ln.jsxs)("div",{className:"relative",children:[(0,ln.jsx)("div",{className:"w-full bg-blue-200 rounded-full h-3",children:(0,ln.jsx)("div",{className:"bg-blue-500 h-3 rounded-full transition-all duration-500",style:{width:"".concat(Math.min(ge.metrics.monthly_signups/ge.goals.monthly_signup_goal*100,100),"%")}})}),(0,ln.jsxs)("div",{className:"text-xs text-blue-600 mt-1",children:["Yearly: ",ge.metrics.yearly_signups," / ",ge.goals.yearly_revenue_goal/2500," signups"]})]})]})]}),(0,ln.jsxs)("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-xl p-6 border border-green-200",children:[(0,ln.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,ln.jsx)("div",{className:"p-3 bg-green-500 rounded-lg text-white",children:(0,ln.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ln.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})}),(0,ln.jsxs)("div",{className:"text-right",children:[(0,ln.jsxs)("div",{className:"text-2xl font-bold text-green-700",children:["$",((null===(e=ge.metrics)||void 0===e?void 0:e.monthly_revenue)||0).toLocaleString()]}),(0,ln.jsx)("div",{className:"text-sm text-green-600",children:"Monthly Revenue"})]})]}),(0,ln.jsxs)("div",{className:"space-y-2",children:[(0,ln.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,ln.jsxs)("span",{className:"text-green-600",children:["Goal: $",((null===(t=ge.goals)||void 0===t?void 0:t.monthly_revenue_goal)||0).toLocaleString()]}),(0,ln.jsxs)("span",{className:"text-green-800 font-medium",children:[Math.round(((null===(n=ge.metrics)||void 0===n?void 0:n.monthly_revenue)||0)/((null===(a=ge.goals)||void 0===a?void 0:a.monthly_revenue_goal)||1)*100),"%"]})]}),(0,ln.jsxs)("div",{className:"relative",children:[(0,ln.jsx)("div",{className:"w-full bg-green-200 rounded-full h-3",children:(0,ln.jsx)("div",{className:"bg-green-500 h-3 rounded-full transition-all duration-500",style:{width:"".concat(Math.min(ge.metrics.monthly_revenue/ge.goals.monthly_revenue_goal*100,100),"%")}})}),(0,ln.jsxs)("div",{className:"text-xs text-green-600 mt-1",children:["Yearly: $",((null===(i=ge.metrics)||void 0===i?void 0:i.yearly_revenue)||0).toLocaleString()," / $",((null===(o=ge.goals)||void 0===o?void 0:o.yearly_revenue_goal)||0).toLocaleString()]})]})]})]}),(0,ln.jsxs)("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-xl p-6 border border-purple-200",children:[(0,ln.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,ln.jsx)("div",{className:"p-3 bg-purple-500 rounded-lg text-white",children:(0,ln.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ln.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),(0,ln.jsxs)("div",{className:"text-right",children:[(0,ln.jsx)("div",{className:"text-2xl font-bold text-purple-700",children:ge.metrics.monthly_qr_leads}),(0,ln.jsx)("div",{className:"text-sm text-purple-600",children:"QR Leads"})]})]}),(0,ln.jsxs)("div",{className:"space-y-2",children:[(0,ln.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,ln.jsxs)("span",{className:"text-purple-600",children:["Conversion: ",ge.metrics.conversion_rate,"%"]}),(0,ln.jsxs)("span",{className:"text-purple-800 font-medium",children:[Math.round(ge.metrics.monthly_qr_leads/50*100),"%"]})]}),(0,ln.jsxs)("div",{className:"text-xs text-purple-600",children:["Yearly: ",ge.metrics.yearly_qr_leads," QR leads generated"]})]})]}),(0,ln.jsxs)("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 rounded-xl p-6 border border-orange-200",children:[(0,ln.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,ln.jsx)("div",{className:"p-3 bg-orange-500 rounded-lg text-white",children:(0,ln.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ln.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})})}),(0,ln.jsxs)("div",{className:"text-right",children:[(0,ln.jsxs)("div",{className:"text-2xl font-bold text-orange-700",children:["Tier ",ge.metrics.current_tier]}),(0,ln.jsx)("div",{className:"text-sm text-orange-600",children:ge.metrics.tier_name})]})]}),(0,ln.jsxs)("div",{className:"space-y-2",children:[(0,ln.jsxs)("div",{className:"text-sm text-orange-600",children:["Current: ",ge.metrics.monthly_signups," signups"]}),(0,ln.jsxs)("div",{className:"text-xs text-orange-600",children:["Next tier: ",(null===(s=F[ge.metrics.current_tier])||void 0===s?void 0:s.tier_name)||"Max tier"," - ",(null===(l=F[ge.metrics.current_tier])||void 0===l?void 0:l.signup_threshold)||"Max"," signups"]})]})]})]}),(0,ln.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,ln.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[(0,ln.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Monthly Progress Tracking"}),(0,ln.jsxs)("div",{className:"space-y-4",children:[(0,ln.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ln.jsx)("span",{className:"text-sm text-gray-600",children:"Signups Progress"}),(0,ln.jsxs)("span",{className:"text-sm font-medium text-gray-900",children:[ge.metrics.monthly_signups," / ",ge.goals.monthly_signup_goal]})]}),(0,ln.jsx)("div",{className:"relative",children:(0,ln.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-4",children:(0,ln.jsx)("div",{className:"bg-blue-500 h-4 rounded-full transition-all duration-500",style:{width:"".concat(Math.min(ge.metrics.monthly_signups/ge.goals.monthly_signup_goal*100,100),"%")}})})}),(0,ln.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[(0,ln.jsx)("span",{className:"text-sm text-gray-600",children:"Revenue Progress"}),(0,ln.jsxs)("span",{className:"text-sm font-medium text-gray-900",children:["$",((null===(u=ge.metrics)||void 0===u?void 0:u.monthly_revenue)||0).toLocaleString()," / $",((null===(d=ge.goals)||void 0===d?void 0:d.monthly_revenue_goal)||0).toLocaleString()]})]}),(0,ln.jsx)("div",{className:"relative",children:(0,ln.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-4",children:(0,ln.jsx)("div",{className:"bg-green-500 h-4 rounded-full transition-all duration-500",style:{width:"".concat(Math.min(ge.metrics.monthly_revenue/ge.goals.monthly_revenue_goal*100,100),"%")}})})})]})]}),(0,ln.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[(0,ln.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Performance Metrics"}),(0,ln.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ln.jsxs)("div",{className:"text-center",children:[(0,ln.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:ge.metrics.calls_made}),(0,ln.jsx)("div",{className:"text-sm text-gray-600",children:"Calls Made"})]}),(0,ln.jsxs)("div",{className:"text-center",children:[(0,ln.jsx)("div",{className:"text-2xl font-bold text-green-600",children:ge.metrics.meetings_held}),(0,ln.jsx)("div",{className:"text-sm text-gray-600",children:"Meetings Held"})]}),(0,ln.jsxs)("div",{className:"text-center",children:[(0,ln.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:ge.metrics.proposals_sent}),(0,ln.jsx)("div",{className:"text-sm text-gray-600",children:"Proposals Sent"})]}),(0,ln.jsxs)("div",{className:"text-center",children:[(0,ln.jsxs)("div",{className:"text-2xl font-bold text-orange-600",children:[ge.metrics.response_time,"h"]}),(0,ln.jsx)("div",{className:"text-sm text-gray-600",children:"Avg Response"})]})]})]})]}),(0,ln.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[(0,ln.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Bonus Tier Progress"}),(0,ln.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-6 gap-4",children:F.map((e=>(0,ln.jsx)("div",{className:"p-4 rounded-lg border-2 transition-all duration-300 ".concat(ge.metrics.current_tier>=e.tier_number?"border-green-500 bg-green-50":"border-gray-200 bg-gray-50"),children:(0,ln.jsxs)("div",{className:"text-center",children:[(0,ln.jsx)("div",{className:"text-2xl font-bold ".concat(ge.metrics.current_tier>=e.tier_number?"text-green-600":"text-gray-400"),children:e.tier_number}),(0,ln.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.tier_name}),(0,ln.jsxs)("div",{className:"text-xs text-gray-600 mt-1",children:[e.signup_threshold,"+ signups"]})]})},e.tier_number)))})]})]}),"leaderboard"===g&&(0,ln.jsxs)("div",{className:"space-y-6",children:[(0,ln.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:ve.slice(0,3).map(((e,t)=>{var n;return(0,ln.jsxs)("div",{className:"relative overflow-hidden rounded-xl p-6 text-white ".concat(0===t?"bg-gradient-to-br from-yellow-400 to-yellow-600":1===t?"bg-gradient-to-br from-gray-400 to-gray-600":"bg-gradient-to-br from-orange-400 to-orange-600"),children:[(0,ln.jsx)("div",{className:"absolute top-4 right-4",children:(0,ln.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-lg font-bold ".concat(0===t?"bg-yellow-300 text-yellow-800":1===t?"bg-gray-300 text-gray-800":"bg-orange-300 text-orange-800"),children:t+1})}),(0,ln.jsxs)("div",{className:"flex items-center space-x-4 mb-4",children:[(0,ln.jsx)("img",{src:e.picture,alt:e.name,className:"w-16 h-16 rounded-full border-4 border-white shadow-lg"}),(0,ln.jsxs)("div",{children:[(0,ln.jsx)("h3",{className:"text-lg font-bold",children:e.name}),(0,ln.jsx)("p",{className:"text-sm opacity-90",children:e.territory})]})]}),(0,ln.jsxs)("div",{className:"space-y-2",children:[(0,ln.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ln.jsx)("span",{className:"text-sm opacity-90",children:"Signups"}),(0,ln.jsx)("span",{className:"font-bold",children:e.metrics.monthly_signups})]}),(0,ln.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ln.jsx)("span",{className:"text-sm opacity-90",children:"Revenue"}),(0,ln.jsxs)("span",{className:"font-bold",children:["$",((null===(n=e.metrics)||void 0===n?void 0:n.monthly_revenue)||0).toLocaleString()]})]}),(0,ln.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ln.jsx)("span",{className:"text-sm opacity-90",children:"QR Leads"}),(0,ln.jsx)("span",{className:"font-bold",children:e.metrics.monthly_qr_leads})]})]}),(0,ln.jsxs)("div",{className:"mt-4 flex items-center space-x-2",children:[(0,ln.jsx)("span",{className:"px-2 py-1 bg-white/20 rounded-full text-xs font-medium",children:e.metrics.tier_name}),e.streak>0&&(0,ln.jsxs)("span",{className:"px-2 py-1 bg-white/20 rounded-full text-xs font-medium",children:["\ud83d\udd25 ",e.streak," streak"]})]})]},e.id)}))}),(0,ln.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[(0,ln.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Full Team Leaderboard"}),(0,ln.jsx)("div",{className:"overflow-x-auto",children:(0,ln.jsxs)("table",{className:"w-full",children:[(0,ln.jsx)("thead",{children:(0,ln.jsxs)("tr",{className:"border-b border-gray-200",children:[(0,ln.jsx)("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Rank"}),(0,ln.jsx)("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Representative"}),(0,ln.jsx)("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Signups"}),(0,ln.jsx)("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"QR Leads"}),(0,ln.jsx)("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Revenue"}),(0,ln.jsx)("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Goal Progress"}),(0,ln.jsx)("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Tier"}),(0,ln.jsx)("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Trend"})]})}),(0,ln.jsx)("tbody",{children:ve.map((e=>{var t,n,r,a,i,o;const s=e.metrics.monthly_signups/e.goals.monthly_signup_goal*100,l=new Date,c=l.getDate()/new Date(l.getFullYear(),l.getMonth()+1,0).getDate()*100;return(0,ln.jsxs)("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[(0,ln.jsx)("td",{className:"py-4 px-4",children:(0,ln.jsxs)("div",{className:"flex items-center",children:[(0,ln.jsxs)("span",{className:"text-2xl font-bold text-gray-900",children:["#",e.rank]}),e.streak>0&&(0,ln.jsxs)("span",{className:"ml-2 px-2 py-1 bg-orange-100 text-orange-800 text-xs rounded-full",children:["\ud83d\udd25 ",e.streak]})]})}),(0,ln.jsx)("td",{className:"py-4 px-4",children:(0,ln.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ln.jsx)("img",{src:e.picture,alt:e.name,className:"w-10 h-10 rounded-full border-2 border-red-300"}),(0,ln.jsxs)("div",{children:[(0,ln.jsx)("div",{className:"font-medium text-gray-900",children:e.name}),(0,ln.jsx)("div",{className:"text-sm text-gray-500",children:e.territory})]})]})}),(0,ln.jsxs)("td",{className:"py-4 px-4",children:[(0,ln.jsx)("div",{className:"text-lg font-bold text-gray-900",children:(null===(t=e.metrics)||void 0===t?void 0:t.monthly_signups)||0}),(0,ln.jsxs)("div",{className:"text-sm text-gray-500",children:["Goal: ",(null===(n=e.goals)||void 0===n?void 0:n.monthly_signup_goal)||0]})]}),(0,ln.jsxs)("td",{className:"py-4 px-4",children:[(0,ln.jsx)("div",{className:"text-lg font-bold text-gray-900",children:(null===(r=e.metrics)||void 0===r?void 0:r.monthly_qr_leads)||0}),(0,ln.jsxs)("div",{className:"text-sm text-gray-500",children:["Rate: ",(null===(a=e.metrics)||void 0===a?void 0:a.conversion_rate)||0,"%"]})]}),(0,ln.jsxs)("td",{className:"py-4 px-4",children:[(0,ln.jsxs)("div",{className:"text-lg font-bold text-gray-900",children:["$",((null===(i=e.metrics)||void 0===i?void 0:i.monthly_revenue)||0).toLocaleString()]}),(0,ln.jsxs)("div",{className:"text-sm text-gray-500",children:["Avg: $",((null===(o=e.metrics)||void 0===o?void 0:o.avg_deal_size)||0).toLocaleString()]})]}),(0,ln.jsx)("td",{className:"py-4 px-4",children:(0,ln.jsxs)("div",{className:"w-24",children:[(0,ln.jsx)("div",{className:"flex justify-between text-sm text-gray-600 mb-1",children:(0,ln.jsxs)("span",{children:[Math.round(s),"%"]})}),(0,ln.jsxs)("div",{className:"w-full bg-gray-200 rounded-full h-3 relative",children:[(0,ln.jsx)("div",{className:"bg-red-300 h-3 rounded-full absolute top-0 left-0",style:{width:"".concat(Math.min(c,100),"%")}}),(0,ln.jsx)("div",{className:"h-3 rounded-full absolute top-0 left-0 ".concat(be(e.metrics.monthly_signups,e.goals.monthly_signup_goal)),style:{width:"".concat(Math.min(s,100),"%")}})]}),(0,ln.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:s>c?"Ahead of pace":"Behind pace"})]})}),(0,ln.jsx)("td",{className:"py-4 px-4",children:(0,ln.jsx)("span",{className:"px-2 py-1 bg-gray-100 text-gray-800 text-sm rounded-full",children:e.metrics.tier_name})}),(0,ln.jsx)("td",{className:"py-4 px-4",children:xe(e.trend)})]},e.id)}))})]})})]})]}),"team-management"===g&&"team_lead"===(null===m||void 0===m?void 0:m.role)&&(0,ln.jsxs)("div",{className:"space-y-6",children:[(0,ln.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ln.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:"Team Management"}),we()&&(0,ln.jsx)("button",{onClick:()=>$(!0),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Assign Goals"})]}),!we()&&(0,ln.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[(0,ln.jsx)("div",{className:"text-yellow-800 font-medium",children:"Goal Assignment Period"}),(0,ln.jsx)("div",{className:"text-yellow-700",children:"Goals can only be assigned between the 1st and 6th of each month."})]}),(0,ln.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:ye.map((e=>{var t;return(0,ln.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[(0,ln.jsxs)("div",{className:"flex items-center space-x-4 mb-4",children:[(0,ln.jsx)("img",{src:e.picture,alt:e.name,className:"w-12 h-12 rounded-full border-2 border-red-300"}),(0,ln.jsxs)("div",{children:[(0,ln.jsx)("h4",{className:"text-lg font-semibold text-gray-900",children:e.name}),(0,ln.jsx)("p",{className:"text-sm text-gray-600",children:e.territory})]})]}),(0,ln.jsxs)("div",{className:"space-y-3",children:[(0,ln.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ln.jsx)("span",{className:"text-sm text-gray-600",children:"Monthly Signups"}),(0,ln.jsxs)("span",{className:"font-medium",children:[e.metrics.monthly_signups," / ",e.goals.monthly_signup_goal]})]}),(0,ln.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,ln.jsx)("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-500",style:{width:"".concat(Math.min(e.metrics.monthly_signups/e.goals.monthly_signup_goal*100,100),"%")}})}),(0,ln.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ln.jsx)("span",{className:"text-sm text-gray-600",children:"Monthly Revenue"}),(0,ln.jsxs)("span",{className:"font-medium",children:["$",((null===(t=e.metrics)||void 0===t?void 0:t.monthly_revenue)||0).toLocaleString()]})]}),(0,ln.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,ln.jsx)("div",{className:"bg-green-500 h-2 rounded-full transition-all duration-500",style:{width:"".concat(Math.min(e.metrics.monthly_revenue/e.goals.monthly_revenue_goal*100,100),"%")}})}),(0,ln.jsx)("div",{className:"pt-2 border-t border-gray-200",children:(0,ln.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ln.jsx)("span",{className:"text-sm text-gray-600",children:"Current Tier"}),(0,ln.jsx)("span",{className:"px-2 py-1 bg-gray-100 text-gray-800 text-sm rounded-full",children:e.metrics.tier_name})]})})]})]},e.id)}))})]}),"competitions"===g&&(0,ln.jsxs)("div",{className:"space-y-8",children:[(0,ln.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ln.jsxs)("div",{children:[(0,ln.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:"Advanced Competitions & Tournaments"}),(0,ln.jsx)("p",{className:"text-gray-600 mt-1",children:"Manage contests, track progress, and boost team performance"})]}),(0,ln.jsx)("div",{className:"flex items-center space-x-3",children:("super_admin"===(null===m||void 0===m?void 0:m.role)||"sales_manager"===(null===m||void 0===m?void 0:m.role))&&(0,ln.jsxs)(ln.Fragment,{children:[(0,ln.jsxs)("button",{onClick:()=>Q(!0),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors flex items-center space-x-2",children:[(0,ln.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ln.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),(0,ln.jsx)("span",{children:"Create Competition"})]}),(0,ln.jsxs)("button",{className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors flex items-center space-x-2",children:[(0,ln.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ln.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3"})}),(0,ln.jsx)("span",{children:"Tournament Mode"})]})]})})]}),(0,ln.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,ln.jsx)("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl p-6 border border-blue-200",children:(0,ln.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ln.jsxs)("div",{children:[(0,ln.jsx)("div",{className:"text-3xl font-bold text-blue-700",children:C.filter((e=>"active"===e.status)).length}),(0,ln.jsx)("div",{className:"text-sm text-blue-600 font-medium",children:"Active Competitions"})]}),(0,ln.jsx)("div",{className:"p-3 bg-blue-500 rounded-lg",children:(0,ln.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ln.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})})]})}),(0,ln.jsx)("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-xl p-6 border border-green-200",children:(0,ln.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ln.jsxs)("div",{children:[(0,ln.jsx)("div",{className:"text-3xl font-bold text-green-700",children:C.reduce(((e,t)=>e+t.participants.length),0)}),(0,ln.jsx)("div",{className:"text-sm text-green-600 font-medium",children:"Total Participants"})]}),(0,ln.jsx)("div",{className:"p-3 bg-green-500 rounded-lg",children:(0,ln.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ln.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})})]})}),(0,ln.jsx)("div",{className:"bg-gradient-to-br from-yellow-50 to-yellow-100 rounded-xl p-6 border border-yellow-200",children:(0,ln.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ln.jsxs)("div",{children:[(0,ln.jsx)("div",{className:"text-3xl font-bold text-yellow-700",children:C.filter((e=>{const t=new Date(e.end_date),n=new Date,r=Math.ceil((t-n)/864e5);return r>0&&r<=7})).length}),(0,ln.jsx)("div",{className:"text-sm text-yellow-600 font-medium",children:"Ending This Week"})]}),(0,ln.jsx)("div",{className:"p-3 bg-yellow-500 rounded-lg",children:(0,ln.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ln.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})}),(0,ln.jsx)("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-xl p-6 border border-purple-200",children:(0,ln.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ln.jsxs)("div",{children:[(0,ln.jsx)("div",{className:"text-3xl font-bold text-purple-700",children:C.filter((e=>"completed"===e.status)).length}),(0,ln.jsx)("div",{className:"text-sm text-purple-600 font-medium",children:"Completed"})]}),(0,ln.jsx)("div",{className:"p-3 bg-purple-500 rounded-lg",children:(0,ln.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ln.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})})]}),C.filter((e=>"active"===e.status)).length>0&&(0,ln.jsxs)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200",children:[(0,ln.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 bg-gradient-to-r from-red-50 to-red-100",children:(0,ln.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ln.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 flex items-center space-x-2",children:[(0,ln.jsx)("div",{className:"w-3 h-3 bg-red-500 rounded-full animate-pulse"}),(0,ln.jsx)("span",{children:"Live Competition Rankings"})]}),(0,ln.jsx)("div",{className:"text-sm text-gray-600",children:"Real-time updates"})]})}),(0,ln.jsx)("div",{className:"p-6",children:(0,ln.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:C.filter((e=>"active"===e.status)).slice(0,2).map(((e,t)=>(0,ln.jsxs)("div",{className:"space-y-4",children:[(0,ln.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ln.jsx)("h5",{className:"font-semibold text-gray-900",children:e.name}),(0,ln.jsxs)("span",{className:"text-sm text-gray-600",children:[Math.ceil((new Date(e.end_date)-new Date)/864e5)," days left"]})]}),(0,ln.jsx)("div",{className:"space-y-3",children:me.slice(0,5).map(((t,n)=>{var r,a;return(0,ln.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,ln.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ln.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold ".concat(0===n?"bg-yellow-500 text-white":1===n?"bg-gray-400 text-white":2===n?"bg-orange-600 text-white":"bg-gray-200 text-gray-700"),children:n+1}),(0,ln.jsx)("img",{src:t.picture,alt:t.name,className:"w-8 h-8 rounded-full"}),(0,ln.jsxs)("div",{children:[(0,ln.jsx)("div",{className:"font-medium text-gray-900",children:t.name}),(0,ln.jsx)("div",{className:"text-xs text-gray-500",children:t.territory})]})]}),(0,ln.jsxs)("div",{className:"text-right",children:[(0,ln.jsx)("div",{className:"font-semibold text-gray-900",children:"signups"===e.competition_type?(null===(r=t.metrics)||void 0===r?void 0:r.monthly_signups)||0:"$".concat(((null===(a=t.metrics)||void 0===a?void 0:a.monthly_revenue)||0).toLocaleString())}),(0,ln.jsx)("div",{className:"text-xs text-gray-500",children:"signups"===e.competition_type?"signups":"revenue"})]})]},t.id)}))})]},e.id)))})})]}),(0,ln.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:C.map((e=>(0,ln.jsxs)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden",children:[(0,ln.jsx)("div",{className:"px-6 py-4 ".concat("active"===e.status?"bg-gradient-to-r from-green-50 to-green-100 border-b border-green-200":"completed"===e.status?"bg-gradient-to-r from-gray-50 to-gray-100 border-b border-gray-200":"bg-gradient-to-r from-blue-50 to-blue-100 border-b border-blue-200"),children:(0,ln.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ln.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 flex items-center space-x-2",children:[(0,ln.jsx)("span",{children:e.name}),"active"===e.status&&(0,ln.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"})]}),(0,ln.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ln.jsx)("span",{className:"px-3 py-1 text-xs rounded-full font-medium ".concat("active"===e.status?"bg-green-100 text-green-800":"completed"===e.status?"bg-gray-100 text-gray-800":"bg-blue-100 text-blue-800"),children:e.status}),("super_admin"===(null===m||void 0===m?void 0:m.role)||"sales_manager"===(null===m||void 0===m?void 0:m.role))&&(0,ln.jsx)("button",{className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100",children:(0,ln.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ln.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"})})})]})]})}),(0,ln.jsxs)("div",{className:"p-6",children:[(0,ln.jsx)("p",{className:"text-gray-600 mb-6",children:e.description}),(0,ln.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[(0,ln.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,ln.jsx)("div",{className:"text-sm text-gray-600 mb-1",children:"Competition Type"}),(0,ln.jsx)("div",{className:"font-semibold text-gray-900 capitalize",children:e.competition_type})]}),(0,ln.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,ln.jsx)("div",{className:"text-sm text-gray-600 mb-1",children:"Participants"}),(0,ln.jsxs)("div",{className:"font-semibold text-gray-900",children:[e.participants.length," reps"]})]}),(0,ln.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,ln.jsx)("div",{className:"text-sm text-gray-600 mb-1",children:"Current Leader"}),(0,ln.jsx)("div",{className:"font-semibold text-gray-900",children:e.leader})]}),(0,ln.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,ln.jsx)("div",{className:"text-sm text-gray-600 mb-1",children:"Leading Score"}),(0,ln.jsx)("div",{className:"font-semibold text-gray-900",children:(e.leader_score||0).toLocaleString()})]})]}),(0,ln.jsxs)("div",{className:"bg-gradient-to-r from-yellow-50 to-yellow-100 rounded-lg p-4 border border-yellow-200 mb-4",children:[(0,ln.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,ln.jsx)("svg",{className:"w-5 h-5 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ln.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v13m0-13V6a2 2 0 112 2h-2zm0 0V5.5A2.5 2.5 0 109.5 8H12zm-7 4h14M5 12a2 2 0 110-4h14a2 2 0 110 4M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"})}),(0,ln.jsx)("span",{className:"font-semibold text-yellow-800",children:"Prize"})]}),(0,ln.jsx)("div",{className:"text-yellow-700",children:e.prize_description})]}),(0,ln.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,ln.jsxs)("div",{className:"text-gray-600",children:["Started: ",new Date(e.start_date).toLocaleDateString()]}),(0,ln.jsxs)("div",{className:"font-medium ".concat(new Date(e.end_date)>new Date?"text-green-600":"text-red-600"),children:["Ends: ",new Date(e.end_date).toLocaleDateString()]})]}),"active"===e.status&&(0,ln.jsx)("div",{className:"mt-4 pt-4 border-t border-gray-200",children:(0,ln.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ln.jsx)("button",{className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors text-sm",children:"View Full Leaderboard"}),(0,ln.jsxs)("div",{className:"text-sm text-gray-600",children:[Math.ceil((new Date(e.end_date)-new Date)/864e5)," days remaining"]})]})})]})]},e.id)))}),(0,ln.jsxs)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200",children:[(0,ln.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 bg-gradient-to-r from-purple-50 to-purple-100",children:(0,ln.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 flex items-center space-x-2",children:[(0,ln.jsx)("svg",{className:"w-5 h-5 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ln.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3"})}),(0,ln.jsx)("span",{children:"Tournament Bracket Preview"})]})}),(0,ln.jsx)("div",{className:"p-6",children:(0,ln.jsxs)("div",{className:"text-center text-gray-600",children:[(0,ln.jsx)("svg",{className:"w-16 h-16 mx-auto mb-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ln.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3"})}),(0,ln.jsx)("p",{className:"text-lg font-medium",children:"Tournament Mode Coming Soon"}),(0,ln.jsx)("p",{className:"text-sm",children:"Create bracket-style competitions with elimination rounds"})]})})]})]}),"analytics"===g&&(0,ln.jsxs)("div",{className:"space-y-8",children:[(0,ln.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ln.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:"Advanced Analytics & Reporting"}),(0,ln.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ln.jsxs)("select",{value:j,onChange:e=>N(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-red-500",children:[(0,ln.jsx)("option",{value:"month",children:"This Month"}),(0,ln.jsx)("option",{value:"quarter",children:"This Quarter"}),(0,ln.jsx)("option",{value:"year",children:"This Year"})]}),(0,ln.jsx)("button",{className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors text-sm",children:"Export Report"})]})]}),(0,ln.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,ln.jsx)("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl p-6 border border-blue-200",children:(0,ln.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ln.jsxs)("div",{children:[(0,ln.jsx)("div",{className:"text-3xl font-bold text-blue-700",children:me.reduce(((e,t)=>e+t.metrics.monthly_signups),0)}),(0,ln.jsx)("div",{className:"text-sm text-blue-600 font-medium",children:"Total Signups"}),(0,ln.jsxs)("div",{className:"text-xs text-blue-500 mt-1",children:["+",Math.round(15*Math.random()+5),"% vs last month"]})]}),(0,ln.jsx)("div",{className:"p-3 bg-blue-500 rounded-lg",children:(0,ln.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ln.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})})]})}),(0,ln.jsx)("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-xl p-6 border border-green-200",children:(0,ln.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ln.jsxs)("div",{children:[(0,ln.jsxs)("div",{className:"text-3xl font-bold text-green-700",children:["$",me.reduce(((e,t)=>{var n;return e+((null===(n=t.metrics)||void 0===n?void 0:n.monthly_revenue)||0)}),0).toLocaleString()]}),(0,ln.jsx)("div",{className:"text-sm text-green-600 font-medium",children:"Total Revenue"}),(0,ln.jsxs)("div",{className:"text-xs text-green-500 mt-1",children:["+",Math.round(20*Math.random()+8),"% vs last month"]})]}),(0,ln.jsx)("div",{className:"p-3 bg-green-500 rounded-lg",children:(0,ln.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ln.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})})]})}),(0,ln.jsx)("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-xl p-6 border border-purple-200",children:(0,ln.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ln.jsxs)("div",{children:[(0,ln.jsxs)("div",{className:"text-3xl font-bold text-purple-700",children:[Math.round(me.reduce(((e,t)=>e+t.metrics.conversion_rate),0)/me.length),"%"]}),(0,ln.jsx)("div",{className:"text-sm text-purple-600 font-medium",children:"Avg Conversion"}),(0,ln.jsxs)("div",{className:"text-xs text-purple-500 mt-1",children:["+",Math.round(10*Math.random()+2),"% vs last month"]})]}),(0,ln.jsx)("div",{className:"p-3 bg-purple-500 rounded-lg",children:(0,ln.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ln.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})})]})}),(0,ln.jsx)("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 rounded-xl p-6 border border-orange-200",children:(0,ln.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ln.jsxs)("div",{children:[(0,ln.jsxs)("div",{className:"text-3xl font-bold text-orange-700",children:["$",Math.round(me.reduce(((e,t)=>{var n;return e+((null===(n=t.metrics)||void 0===n?void 0:n.avg_deal_size)||0)}),0)/Math.max(me.length,1)).toLocaleString()]}),(0,ln.jsx)("div",{className:"text-sm text-orange-600 font-medium",children:"Avg Deal Size"}),(0,ln.jsxs)("div",{className:"text-xs text-orange-500 mt-1",children:["+",Math.round(12*Math.random()+3),"% vs last month"]})]}),(0,ln.jsx)("div",{className:"p-3 bg-orange-500 rounded-lg",children:(0,ln.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ln.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 8h6m-5 0a3 3 0 110 6H9l3 3-3-3h1.5a3 3 0 110-6H9zm-1 0V6a3 3 0 013-3h3a3 3 0 013 3v2"})})})]})})]}),(0,ln.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,ln.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[(0,ln.jsx)("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Performance Trends"}),(0,ln.jsx)(Hs,{width:"100%",height:300,children:(0,ln.jsxs)(qN,{data:[{month:"Jan",signups:45,revenue:125e3,conversions:38},{month:"Feb",signups:52,revenue:145e3,conversions:42},{month:"Mar",signups:48,revenue:135e3,conversions:40},{month:"Apr",signups:61,revenue:175e3,conversions:48},{month:"May",signups:55,revenue:158e3,conversions:45},{month:"Jun",signups:67,revenue:198e3,conversions:52}],children:[(0,ln.jsx)(xS,{strokeDasharray:"3 3"}),(0,ln.jsx)(PS,{dataKey:"month"}),(0,ln.jsx)(RS,{}),(0,ln.jsx)(hP,{}),(0,ln.jsx)(aA,{}),(0,ln.jsx)(NC,{type:"monotone",dataKey:"signups",stroke:"#ef4444",strokeWidth:3}),(0,ln.jsx)(NC,{type:"monotone",dataKey:"conversions",stroke:"#22c55e",strokeWidth:3})]})})]}),(0,ln.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[(0,ln.jsx)("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Revenue by Representative"}),(0,ln.jsx)(Hs,{width:"100%",height:300,children:(0,ln.jsxs)(SC,{data:me.slice(0,6).map((e=>({name:e.name.split(" ")[0],revenue:e.metrics.monthly_revenue,signups:e.metrics.monthly_signups}))),children:[(0,ln.jsx)(xS,{strokeDasharray:"3 3"}),(0,ln.jsx)(PS,{dataKey:"name"}),(0,ln.jsx)(RS,{}),(0,ln.jsx)(hP,{formatter:(e,t)=>"revenue"===t?["$".concat(e.toLocaleString()),"Revenue"]:[e,"Signups"]}),(0,ln.jsx)(aA,{}),(0,ln.jsx)(T_,{dataKey:"revenue",fill:"#ef4444"}),(0,ln.jsx)(T_,{dataKey:"signups",fill:"#3b82f6"})]})})]}),(0,ln.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[(0,ln.jsx)("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Bonus Tier Distribution"}),(0,ln.jsx)(Hs,{width:"100%",height:300,children:(0,ln.jsxs)(B_,{children:[(0,ln.jsx)(kT,{data:F.map((e=>({name:e.tier_name,value:me.filter((t=>t.metrics.current_tier===e.tier_number)).length,fill:["#ef4444","#f97316","#eab308","#22c55e","#3b82f6","#8b5cf6"][e.tier_number-1]}))).filter((e=>e.value>0)),cx:"50%",cy:"50%",labelLine:!1,label:e=>{let{name:t,percent:n}=e;return"".concat(t," ").concat((100*n).toFixed(0),"%")},outerRadius:80,fill:"#8884d8",dataKey:"value",children:F.map(((e,t)=>(0,ln.jsx)(OC,{fill:["#ef4444","#f97316","#eab308","#22c55e","#3b82f6","#8b5cf6"][t]},"cell-".concat(t))))}),(0,ln.jsx)(hP,{})]})})]}),(0,ln.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[(0,ln.jsx)("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Goal Progress Overview"}),(0,ln.jsx)(Hs,{width:"100%",height:300,children:(0,ln.jsxs)(OT,{data:me.slice(0,6).map((e=>({name:e.name.split(" ")[0],progress:Math.round(e.metrics.monthly_signups/e.goals.monthly_signup_goal*100),goal:100}))),children:[(0,ln.jsx)(xS,{strokeDasharray:"3 3"}),(0,ln.jsx)(PS,{dataKey:"name"}),(0,ln.jsx)(RS,{}),(0,ln.jsx)(hP,{formatter:e=>["".concat(e,"%"),"Progress"]}),(0,ln.jsx)(aA,{}),(0,ln.jsx)(tM,{type:"monotone",dataKey:"progress",stackId:"1",stroke:"#ef4444",fill:"#ef4444",fillOpacity:.6}),(0,ln.jsx)(tM,{type:"monotone",dataKey:"goal",stackId:"2",stroke:"#e5e7eb",fill:"#e5e7eb",fillOpacity:.3})]})})]})]}),(0,ln.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[(0,ln.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,ln.jsx)("h4",{className:"text-lg font-semibold text-gray-900",children:"Detailed Performance Metrics"})}),(0,ln.jsx)("div",{className:"overflow-x-auto",children:(0,ln.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,ln.jsx)("thead",{className:"bg-gray-50",children:(0,ln.jsxs)("tr",{children:[(0,ln.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rep"}),(0,ln.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Signups"}),(0,ln.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Revenue"}),(0,ln.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Conversion %"}),(0,ln.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Avg Deal"}),(0,ln.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Calls"}),(0,ln.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Meetings"}),(0,ln.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Proposals"})]})}),(0,ln.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:me.map((e=>{var t,n,r;return(0,ln.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,ln.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,ln.jsxs)("div",{className:"flex items-center",children:[(0,ln.jsx)("img",{className:"h-8 w-8 rounded-full",src:e.picture,alt:e.name}),(0,ln.jsxs)("div",{className:"ml-4",children:[(0,ln.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,ln.jsx)("div",{className:"text-sm text-gray-500",children:e.territory})]})]})}),(0,ln.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.metrics.monthly_signups}),(0,ln.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["$",((null===(t=e.metrics)||void 0===t?void 0:t.monthly_revenue)||0).toLocaleString()]}),(0,ln.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[(null===(n=e.metrics)||void 0===n?void 0:n.conversion_rate)||0,"%"]}),(0,ln.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["$",((null===(r=e.metrics)||void 0===r?void 0:r.avg_deal_size)||0).toLocaleString()]}),(0,ln.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.metrics.calls_made}),(0,ln.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.metrics.meetings_held}),(0,ln.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.metrics.proposals_sent})]},e.id)}))})]})})]})]}),"admin"===g&&("super_admin"===(null===m||void 0===m?void 0:m.role)||"sales_manager"===(null===m||void 0===m?void 0:m.role))&&(0,ln.jsxs)("div",{className:"space-y-8",children:[(0,ln.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ln.jsxs)("div",{children:[(0,ln.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:"Advanced Admin Settings"}),(0,ln.jsx)("p",{className:"text-gray-600 mt-1",children:"Automated goal setting, bonus tier management, and system administration"})]}),(0,ln.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ln.jsxs)("button",{className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors flex items-center space-x-2",children:[(0,ln.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ln.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),(0,ln.jsx)("span",{children:"Auto-Set Goals"})]}),(0,ln.jsxs)("button",{className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors flex items-center space-x-2",children:[(0,ln.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ln.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),(0,ln.jsx)("span",{children:"Performance Analytics"})]})]})]}),(0,ln.jsxs)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200",children:[(0,ln.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 bg-gradient-to-r from-blue-50 to-blue-100",children:(0,ln.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 flex items-center space-x-2",children:[(0,ln.jsx)("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ln.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),(0,ln.jsx)("span",{children:"Smart Goal Assignment System"})]})}),(0,ln.jsx)("div",{className:"p-6",children:(0,ln.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,ln.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,ln.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,ln.jsx)("h5",{className:"font-semibold text-gray-900 mb-3",children:"Goal Setting Algorithm"}),(0,ln.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ln.jsxs)("div",{className:"space-y-3",children:[(0,ln.jsxs)("div",{children:[(0,ln.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Base Monthly Target"}),(0,ln.jsx)("input",{type:"number",className:"w-full px-3 py-2 border border-gray-300 rounded-lg",defaultValue:"25"})]}),(0,ln.jsxs)("div",{children:[(0,ln.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Performance Multiplier"}),(0,ln.jsxs)("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg",children:[(0,ln.jsx)("option",{children:"Historical Performance"}),(0,ln.jsx)("option",{children:"Trending Average"}),(0,ln.jsx)("option",{children:"Industry Benchmark"})]})]})]}),(0,ln.jsxs)("div",{className:"space-y-3",children:[(0,ln.jsxs)("div",{children:[(0,ln.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Seasonal Adjustment"}),(0,ln.jsx)("input",{type:"number",className:"w-full px-3 py-2 border border-gray-300 rounded-lg",defaultValue:"1.2",step:"0.1"})]}),(0,ln.jsxs)("div",{children:[(0,ln.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Growth Factor"}),(0,ln.jsx)("input",{type:"number",className:"w-full px-3 py-2 border border-gray-300 rounded-lg",defaultValue:"5"})]})]})]})]}),(0,ln.jsxs)("div",{className:"bg-yellow-50 rounded-lg p-4 border border-yellow-200",children:[(0,ln.jsxs)("div",{className:"flex items-center space-x-2 mb-3",children:[(0,ln.jsx)("svg",{className:"w-5 h-5 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ln.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.732 15.5c-.77.833.192 2.5 1.732 2.5z"})}),(0,ln.jsx)("span",{className:"font-semibold text-yellow-800",children:"Goal Assignment Restrictions"})]}),(0,ln.jsxs)("div",{className:"text-sm text-yellow-700",children:[(0,ln.jsx)("p",{className:"mb-2",children:"\u2022 Goals can only be assigned between the 1st-6th of each month"}),(0,ln.jsxs)("p",{className:"mb-2",children:["\u2022 Current date: ",(new Date).toLocaleDateString()," - ",(new Date).getDate()<=6?"\u2705 Assignment allowed":"\u274c Assignment restricted"]}),(0,ln.jsx)("p",{children:"\u2022 Team Leads can only assign goals to their direct reports"})]})]})]}),(0,ln.jsxs)("div",{className:"space-y-4",children:[(0,ln.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,ln.jsx)("h5",{className:"font-semibold text-gray-900 mb-3",children:"Quick Actions"}),(0,ln.jsxs)("div",{className:"space-y-2",children:[(0,ln.jsx)("button",{onClick:()=>(async()=>{try{const e=new Date,t=e.getMonth()+1,n=e.getFullYear(),r=U.map((async e=>{const r={rep_id:e.id,signup_goal:25,revenue_goal:5e4,month:t,year:n,goal_type:"monthly",created_by:m.id};return fe(r)}));await Promise.all(r),console.log("\u2705 Auto-generated goals for all reps")}catch(b){console.error("Error auto-generating goals:",b)}})(),className:"w-full px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm",children:"Auto-Generate Goals"}),(0,ln.jsx)("button",{onClick:()=>$(!0),className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",children:"Assign Individual Goal"}),(0,ln.jsx)("button",{onClick:()=>(async()=>{try{const e=new Date;if(!(e.getDate()<=6)&&"team_lead"===m.role)return void alert("Goal assignment is only allowed between the 1st-6th of each month for Team Leads");const t={signup_goal:30,revenue_goal:6e4,month:e.getMonth()+1,year:e.getFullYear(),goal_type:"monthly",created_by:m.id},n=U.map((e=>fe(c(c({},t),{},{rep_id:e.id}))));await Promise.all(n),console.log("\u2705 Bulk goal assignment completed")}catch(b){console.error("Error in bulk goal assignment:",b)}})(),className:"w-full px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors text-sm",children:"Bulk Goal Assignment"})]})]}),(0,ln.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,ln.jsx)("h5",{className:"font-semibold text-gray-900 mb-3",children:"Goal Templates"}),(0,ln.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,ln.jsxs)("div",{className:"flex justify-between",children:[(0,ln.jsx)("span",{children:"Aggressive Growth:"}),(0,ln.jsx)("span",{className:"font-medium",children:"+20%"})]}),(0,ln.jsxs)("div",{className:"flex justify-between",children:[(0,ln.jsx)("span",{children:"Steady Progress:"}),(0,ln.jsx)("span",{className:"font-medium",children:"+10%"})]}),(0,ln.jsxs)("div",{className:"flex justify-between",children:[(0,ln.jsx)("span",{children:"Maintenance:"}),(0,ln.jsx)("span",{className:"font-medium",children:"+5%"})]})]})]})]})]})})]}),(0,ln.jsxs)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200",children:[(0,ln.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 bg-gradient-to-r from-purple-50 to-purple-100",children:(0,ln.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 flex items-center space-x-2",children:[(0,ln.jsx)("svg",{className:"w-5 h-5 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ln.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,ln.jsx)("span",{children:"Automated Bonus Tier Management"})]})}),(0,ln.jsx)("div",{className:"p-6",children:(0,ln.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,ln.jsxs)("div",{className:"space-y-6",children:[(0,ln.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,ln.jsx)("h5",{className:"font-semibold text-gray-900 mb-4",children:"Tier Progression Rules"}),(0,ln.jsxs)("div",{className:"space-y-3",children:[(0,ln.jsxs)("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg border",children:[(0,ln.jsx)("span",{className:"text-sm font-medium",children:"Auto-advance on threshold"}),(0,ln.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,ln.jsx)("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),(0,ln.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-purple-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-purple-600"})]})]}),(0,ln.jsxs)("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg border",children:[(0,ln.jsx)("span",{className:"text-sm font-medium",children:"Monthly tier review"}),(0,ln.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,ln.jsx)("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),(0,ln.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-purple-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-purple-600"})]})]}),(0,ln.jsxs)("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg border",children:[(0,ln.jsx)("span",{className:"text-sm font-medium",children:"Notification alerts"}),(0,ln.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,ln.jsx)("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),(0,ln.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-purple-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-purple-600"})]})]})]})]}),(0,ln.jsxs)("div",{className:"bg-green-50 rounded-lg p-4 border border-green-200",children:[(0,ln.jsx)("h5",{className:"font-semibold text-green-800 mb-3",children:"Recent Tier Advancements"}),(0,ln.jsx)("div",{className:"space-y-2",children:me.filter((e=>e.metrics.monthly_signups>=25)).slice(0,3).map((e=>(0,ln.jsxs)("div",{className:"flex items-center space-x-3 text-sm",children:[(0,ln.jsx)("img",{src:e.picture,alt:e.name,className:"w-6 h-6 rounded-full"}),(0,ln.jsxs)("span",{className:"text-green-700",children:[e.name," advanced to ",e.metrics.tier_name]})]},e.id)))})]})]}),(0,ln.jsx)("div",{className:"space-y-4",children:(0,ln.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,ln.jsx)("h5",{className:"font-semibold text-gray-900 mb-4",children:"Bonus Tier Configuration"}),(0,ln.jsx)("div",{className:"space-y-3",children:F.map((e=>(0,ln.jsxs)("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg border",children:[(0,ln.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ln.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold ".concat(1===e.tier_number?"bg-orange-600 text-white":2===e.tier_number?"bg-gray-400 text-white":3===e.tier_number?"bg-yellow-500 text-white":4===e.tier_number?"bg-gray-600 text-white":5===e.tier_number?"bg-blue-600 text-white":"bg-purple-600 text-white"),children:e.tier_number}),(0,ln.jsxs)("div",{children:[(0,ln.jsx)("div",{className:"font-medium text-gray-900",children:e.tier_name}),(0,ln.jsxs)("div",{className:"text-sm text-gray-600",children:[e.signup_threshold,"+ signups"]})]})]}),(0,ln.jsxs)("div",{className:"text-right",children:[(0,ln.jsxs)("div",{className:"text-sm font-medium text-gray-900",children:[me.filter((t=>t.metrics.current_tier===e.tier_number)).length," reps"]}),(0,ln.jsx)("button",{className:"text-xs text-blue-600 hover:text-blue-800",children:"Edit"})]})]},e.tier_number)))})]})})]})})]}),(0,ln.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,ln.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[(0,ln.jsx)("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"System Statistics"}),(0,ln.jsxs)("div",{className:"space-y-3",children:[(0,ln.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ln.jsx)("span",{className:"text-gray-600",children:"Total Team Members"}),(0,ln.jsx)("span",{className:"font-medium",children:me.length})]}),(0,ln.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ln.jsx)("span",{className:"text-gray-600",children:"Active Competitions"}),(0,ln.jsx)("span",{className:"font-medium",children:C.filter((e=>"active"===e.status)).length})]}),(0,ln.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ln.jsx)("span",{className:"text-gray-600",children:"Total Monthly Signups"}),(0,ln.jsx)("span",{className:"font-medium",children:me.reduce(((e,t)=>e+t.metrics.monthly_signups),0)})]}),(0,ln.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ln.jsx)("span",{className:"text-gray-600",children:"Total Monthly Revenue"}),(0,ln.jsxs)("span",{className:"font-medium",children:["$",me.reduce(((e,t)=>{var n;return e+((null===(n=t.metrics)||void 0===n?void 0:n.monthly_revenue)||0)}),0).toLocaleString()]})]}),(0,ln.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ln.jsx)("span",{className:"text-gray-600",children:"Avg Conversion Rate"}),(0,ln.jsxs)("span",{className:"font-medium",children:[Math.round(me.reduce(((e,t)=>e+t.metrics.conversion_rate),0)/me.length),"%"]})]})]})]}),(0,ln.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[(0,ln.jsx)("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Performance Insights"}),(0,ln.jsxs)("div",{className:"space-y-4",children:[(0,ln.jsxs)("div",{className:"bg-blue-50 rounded-lg p-3 border border-blue-200",children:[(0,ln.jsx)("div",{className:"text-sm font-medium text-blue-800 mb-1",children:"Top Performer"}),(0,ln.jsx)("div",{className:"text-blue-700",children:null===(h=me[0])||void 0===h?void 0:h.name}),(0,ln.jsxs)("div",{className:"text-xs text-blue-600",children:[null===(f=me[0])||void 0===f?void 0:f.metrics.monthly_signups," signups"]})]}),(0,ln.jsxs)("div",{className:"bg-green-50 rounded-lg p-3 border border-green-200",children:[(0,ln.jsx)("div",{className:"text-sm font-medium text-green-800 mb-1",children:"Fastest Growing"}),(0,ln.jsx)("div",{className:"text-green-700",children:null===(p=me.find((e=>"up"===e.trend)))||void 0===p?void 0:p.name}),(0,ln.jsxs)("div",{className:"text-xs text-green-600",children:["+",Math.round(15*Math.random()+5),"% growth"]})]}),(0,ln.jsxs)("div",{className:"bg-purple-50 rounded-lg p-3 border border-purple-200",children:[(0,ln.jsx)("div",{className:"text-sm font-medium text-purple-800 mb-1",children:"Elite Tier Reps"}),(0,ln.jsxs)("div",{className:"text-purple-700",children:[me.filter((e=>e.metrics.current_tier>=5)).length," members"]}),(0,ln.jsx)("div",{className:"text-xs text-purple-600",children:"Top performance tier"})]})]})]}),(0,ln.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[(0,ln.jsx)("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),(0,ln.jsxs)("div",{className:"space-y-3",children:[(0,ln.jsx)("button",{className:"w-full px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors text-sm",children:"Generate Monthly Report"}),(0,ln.jsx)("button",{className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",children:"Backup System Data"}),(0,ln.jsx)("button",{className:"w-full px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm",children:"Send Team Notifications"}),(0,ln.jsx)("button",{className:"w-full px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors text-sm",children:"Configure Alerts"})]})]})]})]}),G&&(0,ln.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,ln.jsxs)("div",{className:"bg-white rounded-xl p-6 w-full max-w-md mx-4",children:[(0,ln.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Assign Monthly Goals"}),(0,ln.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{var t;const e=new Date,n=c(c({},q),{},{year:e.getFullYear(),month:e.getMonth()+1,rep_name:(null===(t=me.find((e=>e.id===q.rep_id)))||void 0===t?void 0:t.name)||"Unknown"});await SL.post("".concat(OL,"/leaderboard/goals"),n),await ie(),$(!1),Y({rep_id:"",signup_goal:0,revenue_goal:0})}catch(b){console.error("Error assigning goal:",b)}},className:"space-y-4",children:[(0,ln.jsxs)("div",{children:[(0,ln.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Team Member"}),(0,ln.jsxs)("select",{value:q.rep_id,onChange:e=>Y(c(c({},q),{},{rep_id:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500",required:!0,children:[(0,ln.jsx)("option",{value:"",children:"Select team member"}),ye.map((e=>(0,ln.jsx)("option",{value:e.id,children:e.name},e.id)))]})]}),(0,ln.jsxs)("div",{children:[(0,ln.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Monthly Signup Goal"}),(0,ln.jsx)("input",{type:"number",value:q.signup_goal,onChange:e=>Y(c(c({},q),{},{signup_goal:parseInt(e.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500",required:!0})]}),(0,ln.jsxs)("div",{children:[(0,ln.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Monthly Revenue Goal"}),(0,ln.jsx)("input",{type:"number",value:q.revenue_goal,onChange:e=>Y(c(c({},q),{},{revenue_goal:parseFloat(e.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500",required:!0})]}),(0,ln.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,ln.jsx)("button",{type:"button",onClick:()=>$(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Cancel"}),(0,ln.jsx)("button",{type:"submit",className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Assign Goal"})]})]})]})}),X&&(0,ln.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,ln.jsxs)("div",{className:"bg-white rounded-xl p-6 w-full max-w-md mx-4 max-h-[90vh] overflow-y-auto",children:[(0,ln.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Create New Competition"}),(0,ln.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{await SL.post("".concat(OL,"/leaderboard/competitions"),K),await ae(),Q(!1),H({name:"",description:"",competition_type:"signups",start_date:"",end_date:"",prize_description:"",rules:""})}catch(b){console.error("Error creating competition:",b)}},className:"space-y-4",children:[(0,ln.jsxs)("div",{children:[(0,ln.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Competition Name"}),(0,ln.jsx)("input",{type:"text",value:K.name,onChange:e=>H(c(c({},K),{},{name:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500",required:!0})]}),(0,ln.jsxs)("div",{children:[(0,ln.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,ln.jsx)("textarea",{value:K.description,onChange:e=>H(c(c({},K),{},{description:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500",rows:"3"})]}),(0,ln.jsxs)("div",{children:[(0,ln.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Competition Type"}),(0,ln.jsxs)("select",{value:K.competition_type,onChange:e=>H(c(c({},K),{},{competition_type:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500",children:[(0,ln.jsx)("option",{value:"signups",children:"Signups"}),(0,ln.jsx)("option",{value:"revenue",children:"Revenue"}),(0,ln.jsx)("option",{value:"leads",children:"Leads"}),(0,ln.jsx)("option",{value:"conversions",children:"Conversions"})]})]}),(0,ln.jsxs)("div",{children:[(0,ln.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),(0,ln.jsx)("input",{type:"date",value:K.start_date,onChange:e=>H(c(c({},K),{},{start_date:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500",required:!0})]}),(0,ln.jsxs)("div",{children:[(0,ln.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date"}),(0,ln.jsx)("input",{type:"date",value:K.end_date,onChange:e=>H(c(c({},K),{},{end_date:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500",required:!0})]}),(0,ln.jsxs)("div",{children:[(0,ln.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Prize Description"}),(0,ln.jsx)("input",{type:"text",value:K.prize_description,onChange:e=>H(c(c({},K),{},{prize_description:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500",required:!0})]}),(0,ln.jsxs)("div",{children:[(0,ln.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Rules"}),(0,ln.jsx)("textarea",{value:K.rules,onChange:e=>H(c(c({},K),{},{rules:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500",rows:"3"})]}),(0,ln.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,ln.jsx)("button",{type:"button",onClick:()=>Q(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Cancel"}),(0,ln.jsx)("button",{type:"submit",className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Create Competition"})]})]})]})}),"admin"===g&&("super_admin"===(null===m||void 0===m?void 0:m.role)||"sales_manager"===(null===m||void 0===m?void 0:m.role))&&(0,ln.jsxs)("div",{className:"space-y-8",children:[(0,ln.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,ln.jsx)("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Signup Data Sync Management"}),(0,ln.jsxs)("div",{className:"space-y-4",children:[(0,ln.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[(0,ln.jsxs)("div",{children:[(0,ln.jsx)("h5",{className:"font-medium text-gray-900",children:"Automatic Sync"}),(0,ln.jsx)("p",{className:"text-sm text-gray-600",children:"Syncs signup data from Google Sheets 3 times daily (8 AM, 2 PM, 8 PM)"})]}),(0,ln.jsxs)("div",{className:"text-right",children:[(0,ln.jsx)("div",{className:"text-sm text-gray-500",children:"Next sync: 8:00 PM"}),(0,ln.jsx)("div",{className:"text-xs text-green-600",children:"Last sync: 2 hours ago"})]})]}),(0,ln.jsxs)("div",{className:"flex space-x-3",children:[(0,ln.jsx)("button",{onClick:()=>(async()=>{try{console.log("\ud83d\udd04 Starting manual sync...");const e={spreadsheet_id:"1YSJD4RoqS_FLWF0LN1GRJKQhQNCdPT_aThqX6R6cZ4I",sheet_name:"Sign Ups 2025",range_name:"A1:Z100",force_sync:!0},t=await SL.post("".concat(OL,"/sync/signups"),e);console.log("\u2705 Manual sync started:",t.data),await pe(),alert("Manual sync started successfully! Check sync status for progress.")}catch(b){console.error("\u274c Error in manual sync:",b),alert("Manual sync failed. Please try again.")}})(),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Manual Sync Now"}),(0,ln.jsx)("button",{onClick:()=>J(!0),className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"View Sync Status"})]}),(0,ln.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,ln.jsx)("strong",{children:"Source:"}),' Google Sheets "Sign Ups 2025" tab',(0,ln.jsx)("br",{}),(0,ln.jsx)("strong",{children:"Spreadsheet ID:"})," 1YSJD4RoqS_FLWF0LN1GRJKQhQNCdPT_aThqX6R6cZ4I"]})]})]}),(0,ln.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,ln.jsx)("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Revenue Management"}),(0,ln.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Revenue numbers are updated manually by Admin/Sales Manager. Signup data is automatically synced."}),(0,ln.jsxs)("div",{className:"space-y-4",children:[(0,ln.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,ln.jsxs)("div",{children:[(0,ln.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sales Rep"}),(0,ln.jsxs)("select",{value:ne.rep_id,onChange:e=>re(c(c({},ne),{},{rep_id:e.target.value})),className:"w-full border-gray-300 rounded-md shadow-sm focus:border-red-500 focus:ring-red-500",children:[(0,ln.jsx)("option",{value:"",children:"Select Rep"}),U.map((e=>(0,ln.jsx)("option",{value:e.id,children:e.name},e.id)))]})]}),(0,ln.jsxs)("div",{children:[(0,ln.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Month"}),(0,ln.jsxs)("select",{value:ne.month,onChange:e=>re(c(c({},ne),{},{month:parseInt(e.target.value)})),className:"w-full border-gray-300 rounded-md shadow-sm focus:border-red-500 focus:ring-red-500",children:[(0,ln.jsx)("option",{value:"",children:"Select Month"}),Array.from({length:12},((e,t)=>(0,ln.jsx)("option",{value:t+1,children:new Date(2025,t,1).toLocaleDateString("en-US",{month:"long"})},t+1)))]})]}),(0,ln.jsxs)("div",{children:[(0,ln.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Revenue ($)"}),(0,ln.jsx)("input",{type:"number",value:ne.revenue,onChange:e=>re(c(c({},ne),{},{revenue:parseFloat(e.target.value)||0})),className:"w-full border-gray-300 rounded-md shadow-sm focus:border-red-500 focus:ring-red-500",placeholder:"Enter revenue amount"})]})]}),(0,ln.jsx)("div",{className:"flex justify-end",children:(0,ln.jsx)("button",{onClick:async()=>{try{console.log("\ud83d\udd04 Updating revenue...",ne);const e={rep_id:ne.rep_id,month:ne.month,year:(new Date).getFullYear(),revenue:ne.revenue},t=await SL.post("".concat(OL,"/sync/revenue"),e);console.log("\u2705 Revenue updated:",t.data),re({rep_id:"",month:"",revenue:0}),await he(),alert("Revenue updated successfully!")}catch(b){console.error("\u274c Error updating revenue:",b),alert("Failed to update revenue. Please try again.")}},disabled:!ne.rep_id||!ne.month||!ne.revenue,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50",children:"Update Revenue"})})]})]})]}),Z&&(0,ln.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,ln.jsx)("div",{className:"relative top-20 mx-auto p-5 border w-2/3 shadow-lg rounded-md bg-white",children:(0,ln.jsxs)("div",{className:"mt-3",children:[(0,ln.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Sync Status History"}),(0,ln.jsx)("div",{className:"overflow-x-auto",children:(0,ln.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,ln.jsx)("thead",{className:"bg-gray-50",children:(0,ln.jsxs)("tr",{children:[(0,ln.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),(0,ln.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,ln.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Sync"}),(0,ln.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Records"}),(0,ln.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Error"})]})}),(0,ln.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:ee.map(((e,t)=>(0,ln.jsxs)("tr",{children:[(0,ln.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.sync_type}),(0,ln.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,ln.jsx)("span",{className:"px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ".concat("completed"===e.status?"bg-green-100 text-green-800":"failed"===e.status?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"),children:e.status})}),(0,ln.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.last_sync?new Date(e.last_sync).toLocaleString():"N/A"}),(0,ln.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.records_processed||0}),(0,ln.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-red-600",children:e.error_message||"None"})]},t)))})]})}),(0,ln.jsx)("div",{className:"flex justify-end mt-4",children:(0,ln.jsx)("button",{onClick:()=>J(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200",children:"Close"})})]})})})]})},DL=()=>{var e,t;const{user:n}=AL(),[a,i]=(0,r.useState)("employees"),[o,s]=(0,r.useState)([]),[l,u]=(0,r.useState)(!0),[d,h]=(0,r.useState)(null),[f,p]=(0,r.useState)(!1),[m,g]=(0,r.useState)({spreadsheet_id:"",range_name:"",data_type:"employees"}),[y,v]=(0,r.useState)(!1),[x,b]=(0,r.useState)(null),[w,j]=(0,r.useState)(null),[N,k]=(0,r.useState)("kanban"),[S,O]=(0,r.useState)(null),[E,P]=(0,r.useState)(!1),[A,C]=(0,r.useState)([]),[_,T]=(0,r.useState)(""),[M,D]=(0,r.useState)([]),[L,R]=(0,r.useState)(!1),[I,F]=(0,r.useState)(!1),[z,B]=(0,r.useState)([]),[V,U]=(0,r.useState)(""),[W,K]=(0,r.useState)("all"),H=[{id:"applied",name:"Applied",color:"bg-blue-100 border-blue-300",count:0},{id:"screening",name:"Screening",color:"bg-yellow-100 border-yellow-300",count:0},{id:"interview",name:"Interview",color:"bg-purple-100 border-purple-300",count:0},{id:"reference",name:"Reference Check",color:"bg-orange-100 border-orange-300",count:0},{id:"offer",name:"Offer",color:"bg-green-100 border-green-300",count:0},{id:"hired",name:"Hired",color:"bg-emerald-100 border-emerald-300",count:0},{id:"declined",name:"Declined",color:"bg-red-100 border-red-300",count:0}],[q,Y]=(0,r.useState)([]),[G,$]=(0,r.useState)({name:"",description:"",employee_type:"all",order:1}),[X,Q]=(0,r.useState)(null),[Z,J]=(0,r.useState)(null),[ee,te]=(0,r.useState)([]),[ne,re]=(0,r.useState)({start_date:"",end_date:"",reason:""}),[ae,ie]=(0,r.useState)(null),[oe,se]=(0,r.useState)([]),[le,ce]=(0,r.useState)([]),[ue,de]=(0,r.useState)("all"),[he,fe]=(0,r.useState)(null),[pe,me]=(0,r.useState)(!1),[ge,ye]=(0,r.useState)({name:"",email:"",phone:"",position:"",hiring_type:"insurance",notes:""}),[ve,xe]=(0,r.useState)([]),[be,we]=(0,r.useState)([]),[je,Ne]=(0,r.useState)([]),[ke,Se]=(0,r.useState)([]),[Oe,Ee]=(0,r.useState)(null),[Pe,Ae]=(0,r.useState)([]),Ce=async()=>{try{const e=await SL.get("".concat(OL,"/employees"));s(e.data)}catch(d){console.error("Error fetching employees:",d),h("Failed to load employees")}finally{u(!1)}},_e=async()=>{try{const e=await SL.get("".concat(OL,"/onboarding/stages"));Y(e.data)}catch(d){console.error("Error fetching onboarding stages:",d)}},Te=async()=>{try{const e=await SL.get("".concat(OL,"/pto/requests"));te(e.data)}catch(d){console.error("Error fetching PTO requests:",d)}},Me=async()=>{try{const e=await SL.get("".concat(OL,"/hiring/flows"));se(e.data)}catch(d){console.error("Error fetching hiring flows:",d)}},De=async()=>{try{const e=await SL.get("".concat(OL,"/hiring/candidates"));ce(e.data)}catch(d){console.error("Error fetching hiring candidates:",d)}},Le=async()=>{try{const e=await SL.get("".concat(OL,"/compliance/workers-comp"));we(e.data)}catch(d){console.error("Error fetching workers comp submissions:",d)}},Re=async()=>{try{u(!0);const e=await SL.get("".concat(OL,"/self-service/dashboard"));Ee(e.data),console.log("\u2705 Employee dashboard loaded:",e.data)}catch(d){console.error("\u274c Error fetching employee dashboard:",d),Ee({employee:{name:(null===n||void 0===n?void 0:n.name)||"Employee",email:(null===n||void 0===n?void 0:n.email)||"employee@company.com",role:(null===n||void 0===n?void 0:n.role)||"employee",employee_type:"w2"},employee_type:"w2",onboarding_progress:{completed_stages:0,total_stages:0},pto_balance:{available_days:0,used_days:0},recent_requests:[],documents:[]})}finally{u(!1)}},Ie=async(e,t)=>{try{await SL.put("".concat(OL,"/pto/requests/").concat(e),{status:t}),await Te()}catch(d){console.error("Error updating PTO request:",d)}},Fe=async e=>{try{await SL.post("".concat(OL,"/compliance/workers-comp?employee_id=").concat(e)),await Le()}catch(d){console.error("Error creating workers comp submission:",d)}},ze=async e=>{try{await SL.post("".concat(OL,"/compliance/send-reminder"),{employee_id:e}),console.log("Compliance reminder sent successfully")}catch(d){console.error("Error sending compliance reminder:",d)}},Be=async e=>{try{const t=await SL.get("".concat(OL,"/onboarding/employee/").concat(e));J(t.data)}catch(d){console.error("Error fetching onboarding progress:",d)}},Ve=async(e,t)=>{try{await SL.put("".concat(OL,"/hiring/candidates/").concat(e),{status:t}),await De(),await Ue(e,t)}catch(d){console.error("Error updating candidate stage:",d)}},Ue=async(e,t)=>{try{const n={candidate_id:e,stage:t,template_type:"stage_".concat(t)};await SL.post("".concat(OL,"/candidates/send-email"),n)}catch(d){console.error("Error sending stage change email:",d)}},We=async e=>{try{const t=await SL.get("".concat(OL,"/candidates/").concat(e,"/notes"));C(t.data)}catch(d){console.error("Error fetching candidate notes:",d)}},Ke=async e=>{try{const t=await SL.get("".concat(OL,"/candidates/").concat(e,"/interviews"));D(t.data)}catch(d){console.error("Error fetching interviews:",d)}},He=e=>le.filter((t=>t.status===e)),qe=()=>"all"===W?le:le.filter((e=>e.status===W));(0,r.useEffect)((()=>{Ce(),(async()=>{try{const e=await SL.get("".concat(OL,"/import/status"));j(e.data)}catch(d){console.error("Error fetching import status:",d)}})(),"super_admin"!==(null===n||void 0===n?void 0:n.role)&&"hr_manager"!==(null===n||void 0===n?void 0:n.role)||(_e(),Te(),Me(),De(),Le(),(async()=>{try{const e=await SL.get("".concat(OL,"/self-service/requests"));Ae(e.data)}catch(d){console.error("Error fetching employee requests:",d)}})()),"sales_rep"!==(null===n||void 0===n?void 0:n.role)&&"employee"!==(null===n||void 0===n?void 0:n.role)||Re()}),[n]);const Ye="super_admin"===(null===n||void 0===n?void 0:n.role)||"hr_manager"===(null===n||void 0===n?void 0:n.role),Ge="sales_manager"===(null===n||void 0===n?void 0:n.role)||Ye,$e="employee"===(null===n||void 0===n?void 0:n.role)||"sales_rep"===(null===n||void 0===n?void 0:n.role);return Ye||Ge||$e?$e&&!Ge?(0,ln.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[(0,ln.jsxs)("div",{className:"border-b border-gray-200 p-6",children:[(0,ln.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Employee Dashboard"}),(0,ln.jsxs)("p",{className:"text-gray-600",children:["Welcome ",(null===n||void 0===n?void 0:n.name)||"Employee"]})]}),(0,ln.jsx)("div",{className:"p-6",children:l?(0,ln.jsxs)("div",{className:"flex items-center justify-center h-64",children:[(0,ln.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-500"}),(0,ln.jsx)("span",{className:"ml-3 text-gray-600",children:"Loading your dashboard..."})]}):Oe?(0,ln.jsxs)("div",{className:"space-y-6",children:[(0,ln.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,ln.jsxs)("div",{className:"bg-red-50 p-4 rounded-lg border border-red-200",children:[(0,ln.jsx)("h3",{className:"font-semibold text-red-900",children:"Personal Information"}),(0,ln.jsxs)("p",{className:"text-red-700",children:["Name: ",(null===(Xe=Oe.employee)||void 0===Xe?void 0:Xe.name)||"N/A"]}),(0,ln.jsxs)("p",{className:"text-red-700",children:["Email: ",(null===(Qe=Oe.employee)||void 0===Qe?void 0:Qe.email)||"N/A"]}),(0,ln.jsxs)("p",{className:"text-red-700",children:["Role: ",(null===(Ze=Oe.employee)||void 0===Ze?void 0:Ze.role)||"N/A"]}),(0,ln.jsxs)("p",{className:"text-red-700",children:["Type: ",(null===(Je=Oe.employee_type)||void 0===Je?void 0:Je.toUpperCase())||"W2"]})]}),(0,ln.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:[(0,ln.jsx)("h3",{className:"font-semibold text-green-900",children:"Onboarding Progress"}),(0,ln.jsxs)("p",{className:"text-green-700",children:[(null===(et=Oe.onboarding_progress)||void 0===et?void 0:et.completed_stages)||0," of ",(null===(tt=Oe.onboarding_progress)||void 0===tt?void 0:tt.total_stages)||0," stages completed"]}),(0,ln.jsx)("div",{className:"w-full bg-green-200 rounded-full h-2 mt-2",children:(0,ln.jsx)("div",{className:"bg-green-600 h-2 rounded-full",style:{width:"".concat(((null===(nt=Oe.onboarding_progress)||void 0===nt?void 0:nt.completed_stages)||0)/Math.max((null===(rt=Oe.onboarding_progress)||void 0===rt?void 0:rt.total_stages)||1,1)*100,"%")}})})]}),"w2"===Oe.employee_type&&(0,ln.jsxs)("div",{className:"bg-purple-50 p-4 rounded-lg border border-purple-200",children:[(0,ln.jsx)("h3",{className:"font-semibold text-purple-900",children:"PTO Balance"}),(0,ln.jsxs)("p",{className:"text-purple-700",children:["Available: ",(null===(at=Oe.pto_balance)||void 0===at?void 0:at.available_days)||0," days"]}),(0,ln.jsxs)("p",{className:"text-purple-700",children:["Used: ",(null===(it=Oe.pto_balance)||void 0===it?void 0:it.used_days)||0," days"]})]})]}),(0,ln.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[(0,ln.jsx)("h3",{className:"font-semibold text-gray-900 mb-3",children:"Quick Actions"}),(0,ln.jsxs)("div",{className:"flex flex-wrap gap-3",children:["w2"===Oe.employee_type&&(0,ln.jsx)("button",{className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Request PTO"}),(0,ln.jsx)("button",{className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"View Documents"}),(0,ln.jsx)("button",{className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Update Profile"})]})]}),(0,ln.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[(0,ln.jsx)("h3",{className:"font-semibold text-gray-900 mb-3",children:"Recent Requests"}),Oe.recent_requests&&Oe.recent_requests.length>0?(0,ln.jsx)("div",{className:"space-y-2",children:Oe.recent_requests.map(((e,t)=>(0,ln.jsxs)("div",{className:"flex justify-between items-center p-2 bg-white rounded border",children:[(0,ln.jsx)("span",{children:e.title||"Request"}),(0,ln.jsx)("span",{className:"px-2 py-1 rounded text-xs ".concat("resolved"===e.status?"bg-green-100 text-green-800":"in_progress"===e.status?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"),children:e.status})]},t)))}):(0,ln.jsx)("p",{className:"text-gray-600",children:"No recent requests"})]}),(0,ln.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[(0,ln.jsx)("h3",{className:"font-semibold text-gray-900 mb-3",children:"Documents"}),Oe.documents&&Oe.documents.length>0?(0,ln.jsx)("div",{className:"space-y-2",children:Oe.documents.map(((e,t)=>(0,ln.jsxs)("div",{className:"flex justify-between items-center p-2 bg-white rounded border",children:[(0,ln.jsx)("span",{children:e.document_name}),(0,ln.jsx)("span",{className:"text-sm text-gray-600",children:e.document_type})]},t)))}):(0,ln.jsx)("p",{className:"text-gray-600",children:"No documents available"})]})]}):(0,ln.jsxs)("div",{className:"text-center py-12",children:[(0,ln.jsx)("div",{className:"text-gray-600",children:"Unable to load dashboard. Please try again later."}),(0,ln.jsx)("button",{onClick:Re,className:"mt-4 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Retry"})]})})]}):(0,ln.jsxs)("div",{className:"min-h-screen bg-gray-900",children:[(0,ln.jsx)(fs.div,{className:"roof-er-gradient border-b border-red-800/20 shadow-lg",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:(0,ln.jsx)("div",{className:"mobile-container",children:(0,ln.jsxs)("div",{className:"flex justify-between items-center py-6",children:[(0,ln.jsx)(fs.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.1},children:(0,ln.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ln.jsx)("div",{className:"p-2 bg-white/10 rounded-lg backdrop-blur-sm",children:(0,ln.jsxs)("svg",{className:"w-8 h-8 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:[(0,ln.jsx)("path",{d:"M12 4.354a4 4 0 110 5.292V21a1 1 0 01-2 0V9.646a4 4 0 110-5.292z"}),(0,ln.jsx)("path",{d:"M15 1a1 1 0 011 1v2a1 1 0 11-2 0V2a1 1 0 011-1zM9 1a1 1 0 011 1v2a1 1 0 11-2 0V2a1 1 0 011-1z"})]})}),(0,ln.jsxs)("div",{children:[(0,ln.jsx)("h2",{className:"text-2xl font-bold text-white",children:"HR Management System"}),(0,ln.jsx)("p",{className:"text-white/70 text-sm",children:"Comprehensive HR workflow management"})]})]})}),(0,ln.jsxs)(fs.div,{className:"flex space-x-3",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},children:[(0,ln.jsxs)(fs.button,{onClick:async()=>{try{await SL.post("".concat(OL,"/hr/initialize-sample-data")),await _e(),await(async()=>{try{const e=await SL.get("".concat(OL,"/safety/trainings"));xe(e.data)}catch(d){console.error("Error fetching safety trainings:",d)}})()}catch(d){console.error("Error initializing sample data:",d)}},className:"px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg font-medium transition-all duration-200 flex items-center space-x-2",whileHover:{scale:1.05},whileTap:{scale:.95},children:[(0,ln.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ln.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),(0,ln.jsx)("span",{children:"Initialize Sample Data"})]}),(0,ln.jsxs)(fs.button,{onClick:async()=>{try{v(!0);const e=await SL.post("".concat(OL,"/employees/import"),{});b({success:!0,message:e.data.message,type:"traditional"}),await Ce()}catch(d){var e,t;b({success:!1,message:(null===(e=d.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"Import failed",type:"traditional"})}finally{v(!1)}},disabled:y,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-all duration-200 disabled:opacity-50 flex items-center space-x-2",whileHover:{scale:y?1:1.05},whileTap:{scale:y?1:.95},children:[(0,ln.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ln.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m-3 3V10"})}),(0,ln.jsx)("span",{children:y?"Importing...":"Import Sample Data"})]}),(0,ln.jsxs)(fs.button,{onClick:()=>p(!0),disabled:y,className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg font-medium transition-all duration-200 disabled:opacity-50 flex items-center space-x-2",whileHover:{scale:y?1:1.05},whileTap:{scale:y?1:.95},children:[(0,ln.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ln.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),(0,ln.jsx)("span",{children:"Import from Google Sheets"})]})]})]})})}),(0,ln.jsx)(fs.div,{className:"bg-gray-800 border-b border-gray-700",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.3},children:(0,ln.jsx)("nav",{className:"mobile-container",children:(0,ln.jsx)("div",{className:"flex space-x-1 overflow-x-auto py-4",children:[{id:"employees",name:"Employees",icon:"\ud83d\udc65"},{id:"onboarding",name:"Onboarding",icon:"\ud83c\udfaf"},{id:"pto",name:"PTO Management",icon:"\ud83c\udfd6\ufe0f"},{id:"hiring",name:"Hiring Flows",icon:"\ud83d\udd04"},{id:"compliance",name:"Compliance",icon:"\u2705"},{id:"assignments",name:"Project Assignments",icon:"\ud83d\udccb"},{id:"requests",name:"Employee Requests",icon:"\ud83d\udcdd"}].filter((e=>!["assignments"].includes(e.id))).map(((e,t)=>(0,ln.jsxs)(fs.button,{onClick:()=>i(e.id),className:"flex items-center space-x-2 px-4 py-3 rounded-lg font-medium text-sm transition-all duration-200 whitespace-nowrap ".concat(a===e.id?"bg-red-600 text-white shadow-lg":"text-gray-400 hover:text-white hover:bg-gray-700"),initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.4+.05*t},whileHover:{scale:1.05},whileTap:{scale:.95},children:[(0,ln.jsx)("span",{className:"text-lg",children:e.icon}),(0,ln.jsx)("span",{children:e.name})]},e.id)))})})}),(0,ln.jsx)("div",{className:"bg-gray-900 min-h-screen",children:(0,ln.jsxs)("div",{className:"mobile-container py-8",children:[w&&(0,ln.jsx)(fs.div,{className:"mb-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:(0,ln.jsxs)("div",{className:"bg-gray-800 border border-gray-700 rounded-lg p-6",children:[(0,ln.jsxs)("h3",{className:"font-semibold text-white mb-4 flex items-center space-x-2",children:[(0,ln.jsx)("svg",{className:"w-5 h-5 text-green-400",fill:"currentColor",viewBox:"0 0 20 20",children:(0,ln.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),(0,ln.jsx)("span",{children:"Import Configuration"})]}),(0,ln.jsxs)("div",{className:"grid grid-cols-2 gap-6 text-sm",children:[(0,ln.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-700 rounded-lg",children:[(0,ln.jsx)("span",{className:"font-medium text-gray-300",children:"Google Sheets Enabled:"}),(0,ln.jsx)("span",{className:"ml-2 px-2 py-1 rounded-full text-xs font-semibold ".concat(w.google_sheets_enabled?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"),children:w.google_sheets_enabled?"Yes":"No"})]}),(0,ln.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-700 rounded-lg",children:[(0,ln.jsx)("span",{className:"font-medium text-gray-300",children:"Credentials Configured:"}),(0,ln.jsx)("span",{className:"ml-2 px-2 py-1 rounded-full text-xs font-semibold ".concat(w.credentials_configured?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"),children:w.credentials_configured?"Yes":"No"})]})]})]})}),x&&(0,ln.jsx)(fs.div,{className:"mb-8",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3},children:(0,ln.jsxs)("div",{className:"rounded-lg p-6 border ".concat(x.success?"bg-green-500/10 border-green-500/20":"bg-red-500/10 border-red-500/20"),children:[(0,ln.jsxs)("h3",{className:"font-semibold text-lg mb-3 flex items-center space-x-2 ".concat(x.success?"text-green-400":"text-red-400"),children:[(0,ln.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:x.success?(0,ln.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"}):(0,ln.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),(0,ln.jsx)("span",{children:"Import Result"})]}),x.success?(0,ln.jsx)("div",{className:"text-sm text-green-300",children:"google_sheets"===x.type?(0,ln.jsxs)("div",{children:[(0,ln.jsxs)("p",{className:"mb-2",children:["Successfully imported ",x.data.imported," out of ",x.data.total_rows," records"]}),x.data.errors&&x.data.errors.length>0&&(0,ln.jsxs)("div",{className:"mt-3 p-3 bg-yellow-500/10 border border-yellow-500/20 rounded-lg",children:[(0,ln.jsx)("p",{className:"font-medium text-yellow-400 mb-2",children:"Errors:"}),(0,ln.jsx)("ul",{className:"list-disc pl-5 space-y-1",children:x.data.errors.map(((e,t)=>(0,ln.jsx)("li",{className:"text-yellow-300",children:e},t)))})]})]}):(0,ln.jsx)("p",{children:x.message})}):(0,ln.jsx)("p",{className:"text-sm text-red-300",children:x.message})]})}),(0,ln.jsxs)(fs.div,{className:"space-y-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:["employees"===a&&(0,ln.jsxs)("div",{className:"bg-gray-800 border border-gray-700 rounded-lg shadow-lg",children:[(0,ln.jsx)("div",{className:"p-6 border-b border-gray-700",children:(0,ln.jsxs)("h3",{className:"text-lg font-semibold text-white flex items-center space-x-2",children:[(0,ln.jsx)("span",{className:"text-2xl",children:"\ud83d\udc65"}),(0,ln.jsxs)("span",{children:["Employees (",o.length,")"]})]})}),(0,ln.jsx)("div",{className:"p-6",children:l?(0,ln.jsxs)("div",{className:"text-center py-12",children:[(0,ln.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-500 mx-auto"}),(0,ln.jsx)("p",{className:"mt-4 text-gray-400",children:"Loading employees..."})]}):d?(0,ln.jsx)("div",{className:"text-center py-12",children:(0,ln.jsxs)("div",{className:"bg-red-500/10 border border-red-500/20 rounded-lg p-6",children:[(0,ln.jsx)("svg",{className:"w-12 h-12 text-red-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ln.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.732 15.5c-.77.833.192 2.5 1.732 2.5z"})}),(0,ln.jsx)("p",{className:"text-red-400 text-lg font-medium",children:d})]})}):0===o.length?(0,ln.jsx)("div",{className:"text-center py-12",children:(0,ln.jsxs)("div",{className:"bg-gray-700 rounded-lg p-8",children:[(0,ln.jsx)("svg",{className:"w-16 h-16 text-gray-500 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ln.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),(0,ln.jsx)("h4",{className:"text-xl font-semibold text-gray-300 mb-2",children:"No employees found"}),(0,ln.jsx)("p",{className:"text-gray-400",children:"Import some data to get started with employee management."})]})}):(0,ln.jsx)("div",{className:"overflow-x-auto",children:(0,ln.jsxs)("table",{className:"min-w-full",children:[(0,ln.jsx)("thead",{children:(0,ln.jsxs)("tr",{className:"border-b border-gray-700",children:[(0,ln.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Name"}),(0,ln.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Email"}),(0,ln.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Role"}),(0,ln.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Type"}),(0,ln.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Territory"}),(0,ln.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Status"}),(0,ln.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),(0,ln.jsx)("tbody",{className:"divide-y divide-gray-700",children:o.map(((e,t)=>{var n;return(0,ln.jsxs)(fs.tr,{className:"hover:bg-gray-700/50 transition-colors duration-200",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.05*t},children:[(0,ln.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,ln.jsx)("div",{className:"text-sm font-medium text-white",children:e.name})}),(0,ln.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,ln.jsx)("div",{className:"text-sm text-gray-300",children:e.email})}),(0,ln.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,ln.jsx)("span",{className:"px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-500/20 text-blue-300 border border-blue-500/30",children:e.role})}),(0,ln.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,ln.jsx)("span",{className:"px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ".concat("w2"===e.employee_type?"bg-green-500/20 text-green-300 border border-green-500/30":"bg-yellow-500/20 text-yellow-300 border border-yellow-500/30"),children:(null===(n=e.employee_type)||void 0===n?void 0:n.toUpperCase())||"W2"})}),(0,ln.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-300",children:e.territory||"N/A"}),(0,ln.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,ln.jsx)("span",{className:"px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ".concat(e.is_active?"bg-green-500/20 text-green-300 border border-green-500/30":"bg-red-500/20 text-red-300 border border-red-500/30"),children:e.is_active?"Active":"Inactive"})}),(0,ln.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,ln.jsxs)("div",{className:"flex space-x-2",children:[(0,ln.jsx)(fs.button,{onClick:()=>{Q(e),Be(e.id)},className:"text-red-400 hover:text-red-300 px-3 py-1 rounded-lg bg-red-500/10 hover:bg-red-500/20 border border-red-500/20 transition-all duration-200",whileHover:{scale:1.05},whileTap:{scale:.95},children:"View Onboarding"}),"1099"===e.employee_type&&(0,ln.jsx)(fs.button,{onClick:()=>Fe(e.id),className:"text-red-400 hover:text-red-300 px-3 py-1 rounded-lg bg-red-500/10 hover:bg-red-500/20 border border-red-500/20 transition-all duration-200",whileHover:{scale:1.05},whileTap:{scale:.95},children:"Submit Workers Comp"})]})})]},e.id)}))})]})})})]}),"onboarding"===a&&(0,ln.jsxs)("div",{children:[(0,ln.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,ln.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Onboarding Management"}),(0,ln.jsx)("button",{onClick:()=>Q(null),className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Create New Stage"})]}),(0,ln.jsxs)("div",{className:"bg-gray-50 p-6 rounded-lg mb-6",children:[(0,ln.jsx)("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"Create Onboarding Stage"}),(0,ln.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{await SL.post("".concat(OL,"/onboarding/stages"),G),$({name:"",description:"",employee_type:"all",order:1}),await _e()}catch(d){console.error("Error creating onboarding stage:",d)}},className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,ln.jsxs)("div",{children:[(0,ln.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Stage Name"}),(0,ln.jsx)("input",{type:"text",value:G.name,onChange:e=>$(c(c({},G),{},{name:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500",required:!0})]}),(0,ln.jsxs)("div",{children:[(0,ln.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Employee Type"}),(0,ln.jsxs)("select",{value:G.employee_type,onChange:e=>$(c(c({},G),{},{employee_type:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500",children:[(0,ln.jsx)("option",{value:"all",children:"All Employees"}),(0,ln.jsx)("option",{value:"w2",children:"W2 Only"}),(0,ln.jsx)("option",{value:"1099",children:"1099 Only"})]})]}),(0,ln.jsxs)("div",{className:"md:col-span-2",children:[(0,ln.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,ln.jsx)("textarea",{value:G.description,onChange:e=>$(c(c({},G),{},{description:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500",rows:"3",required:!0})]}),(0,ln.jsxs)("div",{children:[(0,ln.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Order"}),(0,ln.jsx)("input",{type:"number",value:G.order,onChange:e=>$(c(c({},G),{},{order:parseInt(e.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500",min:"1",required:!0})]}),(0,ln.jsx)("div",{className:"flex items-end",children:(0,ln.jsx)("button",{type:"submit",className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Create Stage"})})]})]}),(0,ln.jsxs)("div",{className:"space-y-4",children:[(0,ln.jsx)("h4",{className:"text-md font-medium text-gray-900",children:"Onboarding Stages"}),q.map((e=>(0,ln.jsx)("div",{className:"border border-gray-200 rounded-lg p-4",children:(0,ln.jsxs)("div",{className:"flex justify-between items-start",children:[(0,ln.jsxs)("div",{children:[(0,ln.jsx)("h5",{className:"font-medium text-gray-900",children:e.name}),(0,ln.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:e.description}),(0,ln.jsxs)("div",{className:"flex space-x-4 mt-2",children:[(0,ln.jsxs)("span",{className:"text-xs text-gray-500",children:["Order: ",e.order]}),(0,ln.jsxs)("span",{className:"text-xs text-gray-500",children:["Type: ",e.employee_type]})]})]}),(0,ln.jsx)("span",{className:"px-2 py-1 text-xs rounded-full ".concat(e.is_active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:e.is_active?"Active":"Inactive"})]})},e.id)))]})]}),"pto"===a&&(0,ln.jsxs)("div",{children:[(0,ln.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"PTO Management (W2 Employees)"}),"employee"===(null===n||void 0===n?void 0:n.role)&&(0,ln.jsxs)("div",{className:"bg-blue-50 p-6 rounded-lg mb-6",children:[(0,ln.jsx)("h4",{className:"text-md font-medium text-blue-900 mb-4",children:"Request PTO"}),(0,ln.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{await SL.post("".concat(OL,"/pto/requests"),ne),re({start_date:"",end_date:"",reason:""}),await Te()}catch(d){console.error("Error creating PTO request:",d)}},className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,ln.jsxs)("div",{children:[(0,ln.jsx)("label",{className:"block text-sm font-medium text-blue-700 mb-1",children:"Start Date"}),(0,ln.jsx)("input",{type:"date",value:ne.start_date,onChange:e=>re(c(c({},ne),{},{start_date:e.target.value})),className:"w-full px-3 py-2 border border-blue-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,ln.jsxs)("div",{children:[(0,ln.jsx)("label",{className:"block text-sm font-medium text-blue-700 mb-1",children:"End Date"}),(0,ln.jsx)("input",{type:"date",value:ne.end_date,onChange:e=>re(c(c({},ne),{},{end_date:e.target.value})),className:"w-full px-3 py-2 border border-blue-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,ln.jsxs)("div",{children:[(0,ln.jsx)("label",{className:"block text-sm font-medium text-blue-700 mb-1",children:"Reason"}),(0,ln.jsx)("input",{type:"text",value:ne.reason,onChange:e=>re(c(c({},ne),{},{reason:e.target.value})),className:"w-full px-3 py-2 border border-blue-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,ln.jsx)("div",{className:"md:col-span-3",children:(0,ln.jsx)("button",{type:"submit",className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Submit Request"})})]})]}),(0,ln.jsx)("div",{className:"overflow-x-auto",children:(0,ln.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,ln.jsx)("thead",{className:"bg-gray-50",children:(0,ln.jsxs)("tr",{children:[(0,ln.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Employee"}),(0,ln.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Start Date"}),(0,ln.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"End Date"}),(0,ln.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Days"}),(0,ln.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Reason"}),(0,ln.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,ln.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,ln.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:ee.map((e=>{var t;return(0,ln.jsxs)("tr",{children:[(0,ln.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:(null===(t=o.find((t=>t.id===e.employee_id)))||void 0===t?void 0:t.name)||"Unknown"}),(0,ln.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(e.start_date).toLocaleDateString()}),(0,ln.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(e.end_date).toLocaleDateString()}),(0,ln.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.days_requested}),(0,ln.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.reason}),(0,ln.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,ln.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full ".concat("approved"===e.status?"bg-green-100 text-green-800":"denied"===e.status?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"),children:e.status})}),(0,ln.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:"pending"===e.status&&Ge&&(0,ln.jsxs)("div",{className:"space-x-2",children:[(0,ln.jsx)("button",{onClick:()=>Ie(e.id,"approved"),className:"text-green-600 hover:text-green-900",children:"Approve"}),(0,ln.jsx)("button",{onClick:()=>Ie(e.id,"denied"),className:"text-red-600 hover:text-red-900",children:"Deny"})]})})]},e.id)}))})]})})]}),"hiring"===a&&(0,ln.jsxs)("div",{className:"space-y-6",children:[(0,ln.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ln.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:"Enhanced Recruitment Pipeline"}),(0,ln.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ln.jsxs)("div",{className:"flex bg-gray-200 rounded-lg p-1",children:[(0,ln.jsxs)("button",{onClick:()=>k("kanban"),className:"px-4 py-2 rounded-md text-sm font-medium transition-colors ".concat("kanban"===N?"bg-red-600 text-white shadow-sm":"text-gray-600 hover:text-gray-900"),children:[(0,ln.jsx)("svg",{className:"w-4 h-4 inline mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ln.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 17V7m0 10a2 2 0 01-2 2H5a2 2 0 01-2-2V7a2 2 0 012-2h2a2 2 0 012 2m0 10a2 2 0 002 2h2a2 2 0 002-2M9 7a2 2 0 012-2h2a2 2 0 012 2m0 0a2 2 0 012 2v6a2 2 0 01-2 2"})}),"Kanban"]}),(0,ln.jsxs)("button",{onClick:()=>k("list"),className:"px-4 py-2 rounded-md text-sm font-medium transition-colors ".concat("list"===N?"bg-red-600 text-white shadow-sm":"text-gray-600 hover:text-gray-900"),children:[(0,ln.jsx)("svg",{className:"w-4 h-4 inline mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ln.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 10h16M4 14h16M4 18h16"})}),"List"]})]}),(0,ln.jsx)("button",{onClick:()=>F(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Import Candidates"}),(0,ln.jsx)("button",{onClick:()=>me(!0),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Add Candidate"})]})]}),(0,ln.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,ln.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:(0,ln.jsxs)("div",{className:"flex items-center",children:[(0,ln.jsx)("div",{className:"flex-shrink-0",children:(0,ln.jsx)("svg",{className:"h-8 w-8 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ln.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})})}),(0,ln.jsxs)("div",{className:"ml-4",children:[(0,ln.jsx)("div",{className:"text-sm font-medium text-gray-900",children:"Total Candidates"}),(0,ln.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:le.length})]})]})}),(0,ln.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:(0,ln.jsxs)("div",{className:"flex items-center",children:[(0,ln.jsx)("div",{className:"flex-shrink-0",children:(0,ln.jsx)("svg",{className:"h-8 w-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ln.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,ln.jsxs)("div",{className:"ml-4",children:[(0,ln.jsx)("div",{className:"text-sm font-medium text-gray-900",children:"Hired This Month"}),(0,ln.jsx)("div",{className:"text-2xl font-bold text-green-600",children:He("hired").length})]})]})}),(0,ln.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:(0,ln.jsxs)("div",{className:"flex items-center",children:[(0,ln.jsx)("div",{className:"flex-shrink-0",children:(0,ln.jsx)("svg",{className:"h-8 w-8 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ln.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),(0,ln.jsxs)("div",{className:"ml-4",children:[(0,ln.jsx)("div",{className:"text-sm font-medium text-gray-900",children:"Interviews Scheduled"}),(0,ln.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:He("interview").length})]})]})}),(0,ln.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:(0,ln.jsxs)("div",{className:"flex items-center",children:[(0,ln.jsx)("div",{className:"flex-shrink-0",children:(0,ln.jsx)("svg",{className:"h-8 w-8 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ln.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})}),(0,ln.jsxs)("div",{className:"ml-4",children:[(0,ln.jsx)("div",{className:"text-sm font-medium text-gray-900",children:"Conversion Rate"}),(0,ln.jsxs)("div",{className:"text-2xl font-bold text-yellow-600",children:[le.length>0?Math.round(He("hired").length/le.length*100):0,"%"]})]})]})})]}),"kanban"===N&&(0,ln.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:(0,ln.jsx)("div",{className:"grid grid-cols-7 gap-4 min-h-96",children:H.map((e=>(0,ln.jsxs)("div",{className:"".concat(e.color," rounded-lg p-4"),children:[(0,ln.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,ln.jsx)("h4",{className:"font-semibold text-gray-900",children:e.name}),(0,ln.jsx)("span",{className:"bg-gray-200 text-gray-700 px-2 py-1 rounded-full text-xs",children:He(e.id).length})]}),(0,ln.jsxs)("div",{className:"space-y-3 min-h-80",children:[He(e.id).map((t=>{var n;return(0,ln.jsxs)(fs.div,{layout:!0,className:"bg-white rounded-lg p-3 shadow-sm border border-gray-200 cursor-pointer hover:shadow-md transition-shadow",onClick:()=>{O(t),P(!0),We(t.id),Ke(t.id)},whileHover:{scale:1.02},whileTap:{scale:.98},children:[(0,ln.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ln.jsx)("div",{className:"flex-shrink-0",children:(0,ln.jsx)("div",{className:"w-8 h-8 bg-red-100 rounded-full flex items-center justify-center",children:(0,ln.jsx)("span",{className:"text-red-600 font-medium text-sm",children:null===(n=t.name)||void 0===n?void 0:n.charAt(0)})})}),(0,ln.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,ln.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:t.name}),(0,ln.jsx)("p",{className:"text-xs text-gray-500 truncate",children:t.position||t.hiring_type}),(0,ln.jsx)("p",{className:"text-xs text-gray-400",children:t.source||"Manual"})]})]}),(0,ln.jsxs)("div",{className:"mt-2 flex justify-between items-center",children:[(0,ln.jsx)("span",{className:"text-xs text-gray-500",children:t.created_at?new Date(t.created_at).toLocaleDateString():"No date"}),(0,ln.jsx)("div",{className:"flex space-x-1",children:"declined"!==e.id&&"hired"!==e.id&&(0,ln.jsx)("button",{onClick:n=>{n.stopPropagation();const r=H.findIndex((t=>t.id===e.id)),a=H[r+1];a&&Ve(t.id,a.id)},className:"p-1 text-gray-400 hover:text-green-600 transition-colors",children:(0,ln.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ln.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})})]})]},t.id)})),0===He(e.id).length&&(0,ln.jsx)("div",{className:"text-center py-8 text-gray-400 text-sm",children:"No candidates in this stage"})]})]},e.id)))})}),"list"===N&&(0,ln.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[(0,ln.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,ln.jsx)("h4",{className:"text-lg font-semibold text-gray-900",children:"All Candidates"})}),(0,ln.jsxs)("div",{className:"px-6 py-4 bg-gray-50 border-b border-gray-200",children:[(0,ln.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,ln.jsxs)("button",{onClick:()=>K("all"),className:"px-3 py-2 rounded-lg text-sm font-medium transition-colors flex items-center space-x-2 ".concat("all"===W?"bg-red-600 text-white shadow-sm":"bg-white text-gray-600 border border-gray-300 hover:bg-gray-50"),children:[(0,ln.jsx)("span",{children:"All Candidates"}),(0,ln.jsx)("span",{className:"px-2 py-1 rounded-full text-xs ".concat("all"===W?"bg-red-700 text-white":"bg-gray-200 text-gray-700"),children:le.length})]}),H.map((e=>{const t=He(e.id).length;return(0,ln.jsxs)("button",{onClick:()=>K(e.id),className:"px-3 py-2 rounded-lg text-sm font-medium transition-colors flex items-center space-x-2 ".concat(W===e.id?"bg-red-600 text-white shadow-sm":"bg-white text-gray-600 border border-gray-300 hover:bg-gray-50"),children:[(0,ln.jsx)("span",{children:e.name}),(0,ln.jsx)("span",{className:"px-2 py-1 rounded-full text-xs ".concat(W===e.id?"bg-red-700 text-white":t>0?"bg-blue-100 text-blue-700":"bg-gray-200 text-gray-700"),children:t})]},e.id)}))]}),"all"!==W&&(0,ln.jsxs)("div",{className:"mt-3 flex items-center space-x-2 text-sm text-gray-600",children:[(0,ln.jsx)("span",{children:"Showing candidates in:"}),(0,ln.jsx)("span",{className:"px-2 py-1 bg-red-100 text-red-800 rounded-full text-xs font-medium",children:null===(e=H.find((e=>e.id===W)))||void 0===e?void 0:e.name}),(0,ln.jsx)("button",{onClick:()=>K("all"),className:"text-red-600 hover:text-red-800 text-xs underline",children:"Clear filter"})]})]}),(0,ln.jsx)("div",{className:"overflow-x-auto",children:(0,ln.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,ln.jsx)("thead",{className:"bg-gray-50",children:(0,ln.jsxs)("tr",{children:[(0,ln.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Candidate"}),(0,ln.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Position"}),(0,ln.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stage"}),(0,ln.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Source"}),(0,ln.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Applied"}),(0,ln.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,ln.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:qe().length>0?qe().map(((e,t)=>{var n;return(0,ln.jsxs)(fs.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*t},className:"hover:bg-gray-50",children:[(0,ln.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,ln.jsxs)("div",{className:"flex items-center",children:[(0,ln.jsx)("div",{className:"flex-shrink-0 h-10 w-10",children:(0,ln.jsx)("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center",children:(0,ln.jsx)("span",{className:"text-red-600 font-medium",children:null===(n=e.name)||void 0===n?void 0:n.charAt(0)})})}),(0,ln.jsxs)("div",{className:"ml-4",children:[(0,ln.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,ln.jsx)("div",{className:"text-sm text-gray-500",children:e.email})]})]})}),(0,ln.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.position||e.hiring_type}),(0,ln.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,ln.jsx)("select",{value:e.status||"applied",onChange:t=>Ve(e.id,t.target.value),className:"text-sm border-gray-300 rounded-md focus:border-red-500 focus:ring-red-500",children:H.map((e=>(0,ln.jsx)("option",{value:e.id,children:e.name},e.id)))})}),(0,ln.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,ln.jsx)("span",{className:"px-2 py-1 bg-gray-100 text-gray-800 rounded-full text-xs",children:e.source||"Manual"})}),(0,ln.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.created_at?new Date(e.created_at).toLocaleDateString():"No date"}),(0,ln.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2",children:[(0,ln.jsx)("button",{onClick:()=>{O(e),P(!0),We(e.id),Ke(e.id)},className:"text-red-600 hover:text-red-900",children:"View Details"}),(0,ln.jsx)("button",{onClick:()=>{O(e),R(!0)},className:"text-blue-600 hover:text-blue-900",children:"Schedule Interview"})]})]},e.id)})):(0,ln.jsx)("tr",{children:(0,ln.jsx)("td",{colSpan:"6",className:"px-6 py-8 text-center text-gray-500",children:"all"===W?"No candidates found":"No candidates in ".concat(null===(t=H.find((e=>e.id===W)))||void 0===t?void 0:t.name," stage")})})})]})})]})]}),E&&S&&(0,ln.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,ln.jsx)("div",{className:"relative top-20 mx-auto p-5 border w-4/5 max-w-4xl shadow-lg rounded-md bg-white",children:(0,ln.jsxs)("div",{className:"mt-3",children:[(0,ln.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,ln.jsx)("h3",{className:"text-2xl font-bold text-gray-900",children:S.name}),(0,ln.jsx)("button",{onClick:()=>P(!1),className:"text-gray-400 hover:text-gray-600",children:(0,ln.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ln.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,ln.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,ln.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,ln.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6",children:[(0,ln.jsx)("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Candidate Information"}),(0,ln.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ln.jsxs)("div",{children:[(0,ln.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),(0,ln.jsx)("p",{className:"text-sm text-gray-900",children:S.email})]}),(0,ln.jsxs)("div",{children:[(0,ln.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Phone"}),(0,ln.jsx)("p",{className:"text-sm text-gray-900",children:S.phone||"Not provided"})]}),(0,ln.jsxs)("div",{children:[(0,ln.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Position"}),(0,ln.jsx)("p",{className:"text-sm text-gray-900",children:S.position||S.hiring_type})]}),(0,ln.jsxs)("div",{children:[(0,ln.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Source"}),(0,ln.jsx)("p",{className:"text-sm text-gray-900",children:S.source||"Manual"})]})]})]}),(0,ln.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,ln.jsx)("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Notes & Comments"}),(0,ln.jsxs)("div",{className:"mb-4",children:[(0,ln.jsx)("textarea",{value:_,onChange:e=>T(e.target.value),placeholder:"Add a note about this candidate...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500",rows:"3"}),(0,ln.jsx)("button",{onClick:()=>(async(e,t)=>{try{const r={candidate_id:e,note:t,author:n.name,created_at:(new Date).toISOString()};await SL.post("".concat(OL,"/candidates/notes"),r),T(""),await We(e)}catch(d){console.error("Error adding candidate note:",d)}})(S.id,_),className:"mt-2 px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Add Note"})]}),(0,ln.jsxs)("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:[A.map(((e,t)=>(0,ln.jsx)("div",{className:"bg-gray-50 rounded-lg p-3",children:(0,ln.jsx)("div",{className:"flex justify-between items-start",children:(0,ln.jsxs)("div",{className:"flex-1",children:[(0,ln.jsx)("p",{className:"text-sm text-gray-900",children:e.note||e.content}),(0,ln.jsxs)("div",{className:"flex items-center mt-2 text-xs text-gray-500",children:[(0,ln.jsx)("span",{children:e.author||n.name}),(0,ln.jsx)("span",{className:"mx-2",children:"\u2022"}),(0,ln.jsx)("span",{children:e.created_at?new Date(e.created_at).toLocaleString():"Just now"})]})]})})},t))),0===A.length&&(0,ln.jsx)("p",{className:"text-sm text-gray-500 text-center py-4",children:"No notes yet"})]})]})]}),(0,ln.jsxs)("div",{className:"space-y-6",children:[(0,ln.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,ln.jsx)("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Stage Progression"}),(0,ln.jsx)("div",{className:"space-y-3",children:H.map((e=>(0,ln.jsx)("button",{onClick:()=>Ve(S.id,e.id),className:"w-full text-left px-3 py-2 rounded-md text-sm transition-colors ".concat(S.status===e.id?"bg-red-100 text-red-800 border border-red-300":"bg-gray-50 text-gray-700 hover:bg-gray-100"),children:e.name},e.id)))})]}),(0,ln.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,ln.jsx)("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),(0,ln.jsxs)("div",{className:"space-y-3",children:[(0,ln.jsx)("button",{onClick:()=>{R(!0)},className:"w-full px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Schedule Interview"}),(0,ln.jsx)("button",{onClick:()=>Ue(S.id,S.status),className:"w-full px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700",children:"Send Email Update"}),(0,ln.jsx)("button",{onClick:()=>Ve(S.id,"declined"),className:"w-full px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Decline Candidate"})]})]}),(0,ln.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,ln.jsx)("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Interview History"}),(0,ln.jsxs)("div",{className:"space-y-3",children:[M.map(((e,t)=>(0,ln.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3",children:[(0,ln.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.type||"Interview"}),(0,ln.jsx)("p",{className:"text-xs text-gray-500",children:e.scheduled_date?new Date(e.scheduled_date).toLocaleString():"Date TBD"})]},t))),0===M.length&&(0,ln.jsx)("p",{className:"text-sm text-gray-500 text-center py-4",children:"No interviews scheduled"})]})]})]})]})]})})}),I&&(0,ln.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,ln.jsx)("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:(0,ln.jsxs)("div",{className:"mt-3",children:[(0,ln.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Import Candidates"}),(0,ln.jsxs)("div",{className:"space-y-4",children:[(0,ln.jsxs)("div",{children:[(0,ln.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Import Source"}),(0,ln.jsxs)("select",{className:"w-full border-gray-300 rounded-md shadow-sm focus:border-red-500 focus:ring-red-500",children:[(0,ln.jsx)("option",{value:"google_sheets",children:"Google Sheets"}),(0,ln.jsx)("option",{value:"indeed",children:"Indeed"}),(0,ln.jsx)("option",{value:"email",children:"Email"}),(0,ln.jsx)("option",{value:"csv",children:"CSV File"})]})]}),(0,ln.jsxs)("div",{children:[(0,ln.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Source Details"}),(0,ln.jsx)("input",{type:"text",placeholder:"Enter spreadsheet ID, email, or upload file...",className:"w-full border-gray-300 rounded-md shadow-sm focus:border-red-500 focus:ring-red-500"})]})]}),(0,ln.jsxs)("div",{className:"flex justify-end space-x-3 mt-6",children:[(0,ln.jsx)("button",{onClick:()=>F(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200",children:"Cancel"}),(0,ln.jsx)("button",{onClick:()=>{F(!1)},className:"px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-md hover:bg-red-700",children:"Import"})]})]})})}),L&&S&&(0,ln.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,ln.jsx)("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:(0,ln.jsxs)("div",{className:"mt-3",children:[(0,ln.jsxs)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:["Schedule Interview - ",S.name]}),(0,ln.jsxs)("div",{className:"space-y-4",children:[(0,ln.jsxs)("div",{children:[(0,ln.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Interview Type"}),(0,ln.jsxs)("select",{className:"w-full border-gray-300 rounded-md shadow-sm focus:border-red-500 focus:ring-red-500",children:[(0,ln.jsx)("option",{value:"phone",children:"Phone Screen"}),(0,ln.jsx)("option",{value:"video",children:"Video Interview"}),(0,ln.jsx)("option",{value:"in_person",children:"In-Person"}),(0,ln.jsx)("option",{value:"panel",children:"Panel Interview"})]})]}),(0,ln.jsxs)("div",{children:[(0,ln.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date & Time"}),(0,ln.jsx)("input",{type:"datetime-local",className:"w-full border-gray-300 rounded-md shadow-sm focus:border-red-500 focus:ring-red-500"})]}),(0,ln.jsxs)("div",{children:[(0,ln.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Interviewer(s)"}),(0,ln.jsx)("input",{type:"text",placeholder:"Enter interviewer names...",className:"w-full border-gray-300 rounded-md shadow-sm focus:border-red-500 focus:ring-red-500"})]}),(0,ln.jsxs)("div",{children:[(0,ln.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),(0,ln.jsx)("textarea",{placeholder:"Interview notes or special instructions...",className:"w-full border-gray-300 rounded-md shadow-sm focus:border-red-500 focus:ring-red-500",rows:"3"})]})]}),(0,ln.jsxs)("div",{className:"flex justify-end space-x-3 mt-6",children:[(0,ln.jsx)("button",{onClick:()=>R(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200",children:"Cancel"}),(0,ln.jsx)("button",{onClick:()=>{R(!1)},className:"px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-md hover:bg-red-700",children:"Schedule Interview"})]})]})})}),"compliance"===a&&(0,ln.jsxs)("div",{className:"space-y-6",children:[(0,ln.jsxs)("div",{className:"flex justify-between items-center",children:[(0,ln.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Compliance Requirements"}),(0,ln.jsx)("div",{className:"text-sm text-gray-600",children:"Focused on 1099 workers' compensation submission"})]}),(0,ln.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,ln.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:(0,ln.jsxs)("div",{className:"flex items-center",children:[(0,ln.jsx)("div",{className:"flex-shrink-0",children:(0,ln.jsx)("svg",{className:"h-8 w-8 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ln.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.732 15.5c-.77.833.192 2.5 1.732 2.5z"})})}),(0,ln.jsxs)("div",{className:"ml-4",children:[(0,ln.jsx)("div",{className:"text-sm font-medium text-gray-900",children:"Pending Submissions"}),(0,ln.jsx)("div",{className:"text-2xl font-bold text-yellow-600",children:o.filter((e=>"1099"===e.employee_type&&!e.workers_comp_submitted)).length})]})]})}),(0,ln.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:(0,ln.jsxs)("div",{className:"flex items-center",children:[(0,ln.jsx)("div",{className:"flex-shrink-0",children:(0,ln.jsx)("svg",{className:"h-8 w-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ln.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,ln.jsxs)("div",{className:"ml-4",children:[(0,ln.jsx)("div",{className:"text-sm font-medium text-gray-900",children:"Compliant"}),(0,ln.jsx)("div",{className:"text-2xl font-bold text-green-600",children:o.filter((e=>"1099"===e.employee_type&&e.workers_comp_submitted)).length})]})]})}),(0,ln.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:(0,ln.jsxs)("div",{className:"flex items-center",children:[(0,ln.jsx)("div",{className:"flex-shrink-0",children:(0,ln.jsx)("svg",{className:"h-8 w-8 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ln.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),(0,ln.jsxs)("div",{className:"ml-4",children:[(0,ln.jsx)("div",{className:"text-sm font-medium text-gray-900",children:"Total 1099 Workers"}),(0,ln.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:o.filter((e=>"1099"===e.employee_type)).length})]})]})})]}),(0,ln.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[(0,ln.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,ln.jsx)("h4",{className:"text-lg font-semibold text-gray-900",children:"1099 Workers' Compensation Compliance"})}),(0,ln.jsx)("div",{className:"overflow-x-auto",children:(0,ln.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,ln.jsx)("thead",{className:"bg-gray-50",children:(0,ln.jsxs)("tr",{children:[(0,ln.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Employee"}),(0,ln.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Territory"}),(0,ln.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,ln.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Submitted Date"}),(0,ln.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,ln.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:o.filter((e=>"1099"===e.employee_type)).map(((e,t)=>(0,ln.jsxs)("tr",{className:t%2===0?"bg-white":"bg-gray-50",children:[(0,ln.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,ln.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,ln.jsx)("div",{className:"text-sm text-gray-500",children:e.email})]}),(0,ln.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.territory||"Not Assigned"}),(0,ln.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,ln.jsx)("span",{className:"px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ".concat(e.workers_comp_submitted?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.workers_comp_submitted?"Compliant":"Pending"})}),(0,ln.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.workers_comp_submitted_date?new Date(e.workers_comp_submitted_date).toLocaleDateString():"Not Submitted"}),(0,ln.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[!e.workers_comp_submitted&&(0,ln.jsx)("button",{onClick:()=>Fe(e.id),className:"text-blue-600 hover:text-blue-900 mr-4",children:"Mark as Submitted"}),(0,ln.jsx)("button",{onClick:()=>ze(e.id),className:"text-gray-600 hover:text-gray-900",children:"Send Reminder"})]})]},e.id)))})]})})]}),(0,ln.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,ln.jsx)("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Compliance Actions"}),(0,ln.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,ln.jsx)("button",{onClick:()=>(async()=>{try{const e=o.filter((e=>"1099"===e.employee_type&&!e.workers_comp_submitted)).map((e=>ze(e.id)));await Promise.all(e),console.log("Bulk compliance reminders sent successfully")}catch(d){console.error("Error sending bulk compliance reminders:",d)}})(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Send Bulk Reminder"}),(0,ln.jsx)("button",{onClick:()=>(async()=>{try{const e=await SL.get("".concat(OL,"/compliance/export-report"),{responseType:"blob"}),t=window.URL.createObjectURL(new Blob([e.data])),n=document.createElement("a");n.href=t,n.setAttribute("download","compliance-report-".concat((new Date).toISOString().split("T")[0],".csv")),document.body.appendChild(n),n.click(),n.remove(),window.URL.revokeObjectURL(t)}catch(d){console.error("Error exporting compliance report:",d)}})(),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Export Compliance Report"})]})]})]}),"requests"===a&&(0,ln.jsxs)("div",{children:[(0,ln.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Employee Requests"}),(0,ln.jsx)("div",{className:"overflow-x-auto",children:(0,ln.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,ln.jsx)("thead",{className:"bg-gray-50",children:(0,ln.jsxs)("tr",{children:[(0,ln.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Employee"}),(0,ln.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Request Type"}),(0,ln.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Title"}),(0,ln.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Priority"}),(0,ln.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,ln.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),(0,ln.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,ln.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:Pe.map((e=>{var t;return(0,ln.jsxs)("tr",{children:[(0,ln.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:(null===(t=o.find((t=>t.id===e.employee_id)))||void 0===t?void 0:t.name)||"Unknown"}),(0,ln.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.request_type}),(0,ln.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.title}),(0,ln.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,ln.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full ".concat("high"===e.priority?"bg-red-100 text-red-800":"medium"===e.priority?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"),children:e.priority})}),(0,ln.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,ln.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full ".concat("resolved"===e.status?"bg-green-100 text-green-800":"in_progress"===e.status?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"),children:e.status})}),(0,ln.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(e.created_at).toLocaleDateString()}),(0,ln.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:"open"===e.status&&(0,ln.jsx)("button",{onClick:()=>{prompt("New status (in_progress, resolved, closed):"),prompt("Resolution:")},className:"text-blue-600 hover:text-blue-900",children:"Update"})})]},e.id)}))})]})})]})]})]})}),f&&(0,ln.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,ln.jsx)("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:(0,ln.jsxs)("div",{className:"mt-3",children:[(0,ln.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Import from Google Sheets"}),!(null!==w&&void 0!==w&&w.google_sheets_enabled)&&(0,ln.jsx)("div",{className:"mb-4 p-3 bg-yellow-50 rounded-md",children:(0,ln.jsx)("p",{className:"text-sm text-yellow-700",children:"Google Sheets integration is disabled. Please configure your service account credentials."})}),(0,ln.jsxs)("div",{className:"space-y-4",children:[(0,ln.jsxs)("div",{children:[(0,ln.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data Type"}),(0,ln.jsxs)("select",{value:m.data_type,onChange:e=>g(c(c({},m),{},{data_type:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500",children:[(0,ln.jsx)("option",{value:"employees",children:"Employees"}),(0,ln.jsx)("option",{value:"sales_reps",children:"Sales Reps"})]})]}),(0,ln.jsxs)("div",{children:[(0,ln.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Spreadsheet ID"}),(0,ln.jsx)("input",{type:"text",value:m.spreadsheet_id,onChange:e=>g(c(c({},m),{},{spreadsheet_id:e.target.value})),placeholder:"1BxiMVs0XRA5nFMdKvBdBZjgmUUqptlbs74OgvE2upms",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500"})]}),(0,ln.jsxs)("div",{children:[(0,ln.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Range"}),(0,ln.jsx)("input",{type:"text",value:m.range_name,onChange:e=>g(c(c({},m),{},{range_name:e.target.value})),placeholder:"Sheet1!A:E",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500"})]}),(0,ln.jsxs)("div",{className:"text-xs text-gray-500",children:[(0,ln.jsx)("p",{children:"Expected columns for employees: Name, Email, Role, Territory, Commission Rate"}),(0,ln.jsx)("p",{children:"Expected columns for sales reps: Name, Email, Phone, Territory, About Me, Commission Rate"})]})]}),(0,ln.jsxs)("div",{className:"flex justify-end space-x-3 mt-6",children:[(0,ln.jsx)("button",{onClick:()=>p(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200",children:"Cancel"}),(0,ln.jsx)("button",{onClick:async()=>{try{v(!0);const e="employees"===m.data_type?"/employees/import-from-sheets":"/sales-reps/import-from-sheets",t=await SL.post("".concat(OL).concat(e),m);b({success:!0,data:t.data,type:"google_sheets"}),await Ce(),p(!1)}catch(d){var e,t;b({success:!1,message:(null===(e=d.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"Google Sheets import failed",type:"google_sheets"})}finally{v(!1)}},disabled:y||!m.spreadsheet_id||!m.range_name||!(null!==w&&void 0!==w&&w.google_sheets_enabled),className:"px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-md hover:bg-red-700 disabled:opacity-50",children:y?"Importing...":"Import"})]})]})})})]}):(0,ln.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-8 border border-gray-200",children:[(0,ln.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"HR Management"}),(0,ln.jsx)("p",{className:"text-gray-600",children:"Access denied. HR Manager, Sales Manager, or Admin role required."})]});var Xe,Qe,Ze,Je,et,tt,nt,rt,at,it},LL=()=>{const{user:e}=AL(),[t,n]=(0,r.useState)("overview"),[a,i]=(0,r.useState)([]),[o,s]=(0,r.useState)([]),[l,u]=(0,r.useState)(!0),[d,h]=(0,r.useState)(null),[f,p]=(0,r.useState)(""),[m,g]=(0,r.useState)("all"),[y,v]=(0,r.useState)("all"),[x,b]=(0,r.useState)(null),[w,j]=(0,r.useState)(!1),[N,k]=(0,r.useState)(!1),[S,O]=(0,r.useState)({name:"",email:"",phone:"",address:"",message:""}),[E,P]=(0,r.useState)(!1),[A,C]=(0,r.useState)(""),[_,T]=(0,r.useState)(!1),[M,D]=(0,r.useState)(""),[L,R]=(0,r.useState)(0),I="super_admin"===(null===e||void 0===e?void 0:e.role)||"sales_manager"===(null===e||void 0===e?void 0:e.role),F=a.find((t=>t.id===(null===e||void 0===e?void 0:e.id))),z=e=>{const t=parseFloat(e)||0,n=Math.max(0,t-1500);R(n)},B=async()=>{try{const e=await SL.get("".concat(OL,"/qr-generator/reps"));i(e.data)}catch(d){console.error("Error fetching sales reps:",d),h("Failed to load sales reps")}},V=async()=>{try{const e=await SL.get("".concat(OL,"/qr-generator/leads"));s(e.data)}catch(d){console.error("Error fetching leads:",d),h("Failed to load leads")}};(0,r.useEffect)((()=>{(async()=>{u(!0);try{await Promise.all([B(),V()])}catch(d){console.error("Error loading data:",d)}finally{u(!1)}})()}),[]);const U=async(e,t)=>{try{const n=await SL.put("".concat(OL,"/qr-generator/leads/").concat(e),t);return s(o.map((t=>t.id===e?n.data:t))),n.data}catch(d){throw console.error("Error updating lead:",d),d}};if(l)return(0,ln.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,ln.jsxs)("div",{className:"text-center",children:[(0,ln.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-500 mx-auto mb-4"}),(0,ln.jsx)("p",{className:"text-gray-400",children:"Loading QR Code Generator..."})]})});if(d)return(0,ln.jsxs)("div",{className:"bg-red-900/20 border border-red-500/30 rounded-lg p-6",children:[(0,ln.jsxs)("div",{className:"flex items-center mb-4",children:[(0,ln.jsx)("svg",{className:"w-6 h-6 text-red-400 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ln.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,ln.jsx)("div",{className:"text-red-400 font-medium",children:"Error"})]}),(0,ln.jsx)("div",{className:"text-red-300 mb-4",children:d}),(0,ln.jsx)("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Retry"})]});const W=a.filter((e=>{const t=e.name.toLowerCase().includes(f.toLowerCase())||e.email.toLowerCase().includes(f.toLowerCase())||e.territory.toLowerCase().includes(f.toLowerCase()),n="all"===m||e.department===m,r="all"===y||e.territory===y;return t&&n&&r})),K=e=>{let{size:t=100,value:n="QR123456"}=e;const a=r.useRef(null);return r.useEffect((()=>{if(a.current)try{const e=a.current.getContext("2d");e.fillStyle="white",e.fillRect(0,0,t,t),e.fillStyle="black";const r=t/10;e.fillRect(0,0,3*r,3*r),e.fillRect(7*r,0,3*r,3*r),e.fillRect(0,7*r,3*r,3*r),e.fillRect(4*r,4*r,2*r,2*r);const i=(9301*n.split("").reduce(((e,t)=>e+t.charCodeAt(0)),0)+49297)%233280;for(let t=0;t<10;t++)for(let n=0;n<10;n++)(t+n+i)%3===0&&e.fillRect(t*r,n*r,r,r)}catch(d){console.error("Error generating QR code:",d)}}),[t,n]),(0,ln.jsx)("div",{className:"bg-white p-2 rounded border border-gray-300",style:{width:t,height:t},children:(0,ln.jsx)("canvas",{ref:a,width:t-16,height:t-16,style:{width:t-16,height:t-16}})})},H=e=>{var t;let{rep:n,onClose:a}=e;const[i,o]=(0,r.useState)(!1),[s,l]=(0,r.useState)(!1),[u,h]=(0,r.useState)({name:"",email:"",phone:"",address:"",message:""}),f=e=>{h(c(c({},u),{},{[e.target.name]:e.target.value}))},p=()=>{window.open("https://theroofdocs.com","_blank")};return(0,ln.jsx)("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:(0,ln.jsxs)("div",{className:"bg-gray-800 rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto border border-gray-700",children:[(0,ln.jsxs)("div",{className:"sticky top-0 bg-gray-800 border-b border-gray-700 px-6 py-4 flex justify-between items-center",children:[(0,ln.jsx)("h2",{className:"text-xl font-semibold text-white",children:"Landing Page Preview"}),(0,ln.jsx)("button",{onClick:a,className:"text-gray-400 hover:text-white text-2xl transition-colors",children:"\xd7"})]}),(0,ln.jsx)("div",{className:"p-6 bg-gray-900",children:(0,ln.jsxs)("div",{className:"max-w-sm mx-auto bg-white rounded-lg shadow-xl overflow-hidden",children:[(0,ln.jsxs)("div",{className:"bg-gradient-to-r from-red-600 to-red-700 text-white p-6",children:[(0,ln.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,ln.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ln.jsx)("div",{className:"w-16 h-16 rounded-full border-3 border-white/30 overflow-hidden bg-white/20",children:(0,ln.jsx)("img",{src:null!==(t=n.picture)&&void 0!==t&&t.startsWith("data:")?n.picture:"https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=150&h=150&fit=crop&crop=face",alt:n.name,className:"w-full h-full object-cover"})}),(0,ln.jsxs)("div",{children:[(0,ln.jsx)("h1",{className:"text-xl font-bold",children:n.name}),(0,ln.jsx)("p",{className:"text-red-100 text-sm",children:n.territory})]})]}),(0,ln.jsx)("div",{className:"w-20 h-14 bg-black/30 rounded-lg flex items-center justify-center",children:(0,ln.jsxs)("div",{className:"text-white/70 text-xs text-center",children:[(0,ln.jsx)("div",{className:"w-6 h-6 mx-auto mb-1",children:(0,ln.jsxs)("svg",{fill:"currentColor",viewBox:"0 0 20 20",children:[(0,ln.jsx)("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),(0,ln.jsx)("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})]})}),"Video"]})})]}),(0,ln.jsxs)("div",{className:"text-center",children:[(0,ln.jsx)("h2",{className:"text-lg font-bold mb-2",children:"Get Your FREE Home Inspection Today!"}),(0,ln.jsx)("p",{className:"text-red-100 text-sm mb-4",children:"Professional assessment of your roof, siding, gutters, windows, and doors"}),(0,ln.jsx)("button",{onClick:p,className:"bg-white text-red-600 px-6 py-3 rounded-lg font-semibold hover:bg-red-50 transition-colors w-full",children:"Schedule Free Inspection"})]})]}),(0,ln.jsxs)("div",{className:"p-6 bg-white",children:[(0,ln.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Our Services"}),(0,ln.jsx)("div",{className:"grid grid-cols-1 gap-4",children:[{title:"Roofing",desc:"Complete roof replacement and repairs",icon:"\ud83c\udfe0"},{title:"Siding",desc:"Vinyl, wood, and fiber cement siding",icon:"\ud83e\uddf1"},{title:"Gutters",desc:"Seamless gutter installation and repair",icon:"\ud83d\udca7"},{title:"Windows & Doors",desc:"Energy-efficient windows and door installation",icon:"\ud83e\ude9f"},{title:"Solar",desc:"Solar panel installation and energy solutions",icon:"\u2600\ufe0f"}].map(((e,t)=>(0,ln.jsxs)("div",{className:"flex items-start p-3 bg-gray-50 rounded-lg",children:[(0,ln.jsx)("div",{className:"text-2xl mr-3",children:e.icon}),(0,ln.jsxs)("div",{children:[(0,ln.jsx)("h4",{className:"font-semibold text-gray-900",children:e.title}),(0,ln.jsx)("p",{className:"text-sm text-gray-600",children:e.desc})]})]},t)))})]}),(0,ln.jsxs)("div",{className:"p-6 bg-gradient-to-r from-blue-50 to-indigo-50",children:[(0,ln.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Smart Homeowner Benefits"}),(0,ln.jsx)("p",{className:"text-gray-600 text-sm mb-4",children:"Save thousands, earn rewards, and get complete peace of mind"}),(0,ln.jsxs)("div",{className:"bg-white p-4 rounded-lg mb-4",children:[(0,ln.jsx)("h4",{className:"font-bold text-gray-900 mb-2",children:"Massive Savings"}),(0,ln.jsxs)("div",{className:"text-center",children:[(0,ln.jsx)("div",{className:"text-2xl font-bold text-red-600",children:"$15,000"}),(0,ln.jsx)("div",{className:"text-sm text-gray-600 mb-2",children:"Average Single-Family Home Roof"}),(0,ln.jsx)("div",{className:"text-green-600 font-semibold",children:"Potential Savings: $13,500"})]})]}),(0,ln.jsx)("button",{onClick:()=>T(!0),className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg font-semibold hover:bg-blue-700 transition-colors",children:"Calculate Your Savings"})]}),(0,ln.jsxs)("div",{className:"p-6 bg-gray-50",children:[(0,ln.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Local & Trusted"}),(0,ln.jsx)("p",{className:"text-gray-600 text-sm mb-4",children:"Your Neighborhood Experts"}),(0,ln.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,ln.jsxs)("div",{className:"text-center",children:[(0,ln.jsx)("div",{className:"text-2xl font-bold text-red-600",children:"9"}),(0,ln.jsx)("div",{className:"text-xs text-gray-600",children:"Years in Business"})]}),(0,ln.jsxs)("div",{className:"text-center",children:[(0,ln.jsx)("div",{className:"text-2xl font-bold text-red-600",children:"5,000+"}),(0,ln.jsx)("div",{className:"text-xs text-gray-600",children:"Projects Completed"})]})]}),(0,ln.jsxs)("div",{className:"space-y-2",children:[(0,ln.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,ln.jsx)("span",{className:"text-gray-600",children:"GAF Master Elite"}),(0,ln.jsx)("span",{className:"text-green-600",children:"\u2713"})]}),(0,ln.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,ln.jsx)("span",{className:"text-gray-600",children:"Licensed & Insured"}),(0,ln.jsx)("span",{className:"text-green-600",children:"\u2713"})]}),(0,ln.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,ln.jsx)("span",{className:"text-gray-600",children:"BBB A+ Rating"}),(0,ln.jsx)("span",{className:"text-green-600",children:"\u2713"})]})]}),(0,ln.jsx)("button",{onClick:p,className:"w-full bg-gray-800 text-white py-3 px-4 rounded-lg font-semibold hover:bg-gray-900 transition-colors mt-4",children:"See Local Projects"})]}),(0,ln.jsxs)("div",{className:"p-6 bg-gradient-to-r from-yellow-50 to-orange-50",children:[(0,ln.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Referral Rewards Program"}),(0,ln.jsx)("p",{className:"text-gray-600 text-sm mb-4",children:"Earn cash and rewards for every friend you refer"}),(0,ln.jsxs)("div",{className:"space-y-3 mb-4",children:[(0,ln.jsxs)("div",{className:"flex items-center justify-between bg-white p-3 rounded-lg",children:[(0,ln.jsxs)("div",{children:[(0,ln.jsx)("span",{className:"font-bold text-lg",children:"1"}),(0,ln.jsx)("span",{className:"text-gray-600 ml-2",children:"Referral"})]}),(0,ln.jsx)("div",{className:"text-green-600 font-bold",children:"$100 Cash"})]}),(0,ln.jsxs)("div",{className:"flex items-center justify-between bg-white p-3 rounded-lg",children:[(0,ln.jsxs)("div",{children:[(0,ln.jsx)("span",{className:"font-bold text-lg",children:"5"}),(0,ln.jsx)("span",{className:"text-gray-600 ml-2",children:"Referrals"})]}),(0,ln.jsx)("div",{className:"text-green-600 font-bold",children:"$500 Cash"})]})]}),(0,ln.jsxs)("div",{className:"bg-white p-3 rounded-lg mb-4",children:[(0,ln.jsx)("h4",{className:"font-semibold text-gray-900 mb-2",children:"Exclusive Rewards Include:"}),(0,ln.jsxs)("ul",{className:"text-sm text-gray-600 space-y-1",children:[(0,ln.jsx)("li",{children:"\u2022 Commanders tickets entry"}),(0,ln.jsx)("li",{children:"\u2022 Disney World trip for two"}),(0,ln.jsx)("li",{children:"\u2022 Exclusive rewards program access"})]})]}),(0,ln.jsx)("button",{onClick:p,className:"w-full bg-yellow-600 text-white py-3 px-4 rounded-lg font-semibold hover:bg-yellow-700 transition-colors",children:"Start Referring Today"})]}),(0,ln.jsxs)("div",{className:"p-6 bg-white",children:[(0,ln.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Complete Project Solution"}),(0,ln.jsx)("p",{className:"text-gray-600 text-sm mb-4",children:"From tear-off to solar - we handle everything"}),(0,ln.jsx)("div",{className:"space-y-3 mb-4",children:[{step:"1",title:"Free Inspection",desc:"Comprehensive roof and property assessment"},{step:"2",title:"Insurance Coordination",desc:"We handle all insurance paperwork and claims"},{step:"3",title:"Professional Tear-Off",desc:"Safe removal of old materials with cleanup"},{step:"4",title:"Premium Installation",desc:"Top-quality materials with expert craftsmanship"},{step:"5",title:"Solar Integration",desc:"Optional solar panel installation for energy savings"},{step:"6",title:"Final Walkthrough",desc:"Quality check and lifetime warranty activation"}].map(((e,t)=>(0,ln.jsxs)("div",{className:"flex items-start p-3 bg-gray-50 rounded-lg",children:[(0,ln.jsx)("div",{className:"w-8 h-8 bg-red-600 text-white rounded-full flex items-center justify-center text-sm font-bold mr-3 flex-shrink-0",children:e.step}),(0,ln.jsxs)("div",{children:[(0,ln.jsx)("h4",{className:"font-semibold text-gray-900 text-sm",children:e.title}),(0,ln.jsx)("p",{className:"text-xs text-gray-600",children:e.desc})]})]},t)))}),(0,ln.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,ln.jsx)("button",{onClick:p,className:"bg-red-600 text-white py-3 px-4 rounded-lg font-semibold hover:bg-red-700 transition-colors text-sm",children:"See Our Process"}),(0,ln.jsx)("button",{onClick:p,className:"bg-gray-800 text-white py-3 px-4 rounded-lg font-semibold hover:bg-gray-900 transition-colors text-sm",children:"Free Inspection"})]})]}),(0,ln.jsxs)("div",{className:"p-6 bg-gray-50",children:[(0,ln.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"What Our Customers Say"}),(0,ln.jsx)("div",{className:"space-y-4",children:[{name:"Mike Thompson",text:"The Roof Docs did an amazing job on our roof replacement. Professional team and quality work!"},{name:"Jennifer Martinez",text:"Excellent service from start to finish. Our new siding looks fantastic!"},{name:"Robert Chen",text:"Outstanding window installation. Energy efficient and beautiful. Highly recommend The Roof Docs!"}].map(((e,t)=>(0,ln.jsxs)("div",{className:"bg-white p-4 rounded-lg",children:[(0,ln.jsxs)("p",{className:"text-gray-600 text-sm italic mb-2",children:['"',e.text,'"']}),(0,ln.jsxs)("div",{className:"font-semibold text-gray-900 text-sm",children:["- ",e.name]})]},t)))})]}),(0,ln.jsxs)("div",{className:"p-6 bg-white",children:[(0,ln.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:["Contact ",n.name]}),(0,ln.jsxs)("div",{className:"space-y-3",children:[(0,ln.jsxs)("div",{className:"flex items-center p-3 bg-gray-50 rounded-lg",children:[(0,ln.jsx)("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center mr-3",children:(0,ln.jsx)("svg",{className:"w-5 h-5 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ln.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})})}),(0,ln.jsxs)("div",{children:[(0,ln.jsx)("p",{className:"text-sm text-gray-500",children:"Phone"}),(0,ln.jsx)("p",{className:"font-medium text-gray-900",children:n.phone||"Contact for phone"})]})]}),(0,ln.jsxs)("div",{className:"flex items-center p-3 bg-gray-50 rounded-lg",children:[(0,ln.jsx)("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center mr-3",children:(0,ln.jsx)("svg",{className:"w-5 h-5 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ln.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),(0,ln.jsxs)("div",{children:[(0,ln.jsx)("p",{className:"text-sm text-gray-500",children:"Email"}),(0,ln.jsx)("p",{className:"font-medium text-gray-900",children:n.email})]})]})]}),(0,ln.jsxs)("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:[(0,ln.jsxs)("p",{className:"text-sm font-medium text-blue-900",children:["About ",n.name]}),(0,ln.jsx)("p",{className:"text-sm text-blue-700 mt-1",children:n.about_me||"Professional roofing expert dedicated to quality service and customer satisfaction."})]})]}),(0,ln.jsxs)("div",{className:"p-6 bg-gradient-to-r from-red-600 to-red-700 text-white",children:[(0,ln.jsxs)("div",{className:"text-center mb-6",children:[(0,ln.jsx)("h3",{className:"text-xl font-bold mb-2",children:"Get Your FREE Home Inspection"}),(0,ln.jsx)("p",{className:"text-red-100 text-sm",children:"Professional assessment \u2022 No obligation \u2022 Quick response"})]}),s?(0,ln.jsxs)("div",{className:"bg-green-500/20 border border-green-500/30 text-green-400 px-4 py-6 rounded-lg text-center",children:[(0,ln.jsx)("svg",{className:"w-12 h-12 mx-auto mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ln.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,ln.jsx)("p",{className:"font-medium",children:"Thank you for your request!"}),(0,ln.jsx)("p",{className:"text-sm",children:"We'll contact you within 24 hours."})]}):(0,ln.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),o(!0);try{await SL.post("".concat(OL,"/qr-generator/leads"),c(c({},u),{},{rep_id:n.id}));l(!0),h({name:"",email:"",phone:"",address:"",message:""}),setTimeout((()=>l(!1)),3e3)}catch(d){console.error("Error submitting lead:",d),alert("Error submitting lead. Please try again.")}finally{o(!1)}},className:"space-y-4",children:[(0,ln.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(0,ln.jsx)("input",{type:"text",name:"name",placeholder:"Your Name *",value:u.name,onChange:f,required:!0,className:"w-full px-4 py-3 bg-red-700/30 border border-red-500/30 rounded-lg focus:outline-none focus:ring-2 focus:ring-white focus:border-transparent text-white placeholder-red-200"}),(0,ln.jsx)("input",{type:"email",name:"email",placeholder:"Your Email *",value:u.email,onChange:f,required:!0,className:"w-full px-4 py-3 bg-red-700/30 border border-red-500/30 rounded-lg focus:outline-none focus:ring-2 focus:ring-white focus:border-transparent text-white placeholder-red-200"}),(0,ln.jsx)("input",{type:"tel",name:"phone",placeholder:"Your Phone",value:u.phone,onChange:f,className:"w-full px-4 py-3 bg-red-700/30 border border-red-500/30 rounded-lg focus:outline-none focus:ring-2 focus:ring-white focus:border-transparent text-white placeholder-red-200"}),(0,ln.jsx)("input",{type:"text",name:"address",placeholder:"Property Address",value:u.address,onChange:f,className:"w-full px-4 py-3 bg-red-700/30 border border-red-500/30 rounded-lg focus:outline-none focus:ring-2 focus:ring-white focus:border-transparent text-white placeholder-red-200"}),(0,ln.jsx)("textarea",{name:"message",placeholder:"Tell us about your roofing needs...",rows:"3",value:u.message,onChange:f,className:"w-full px-4 py-3 bg-red-700/30 border border-red-500/30 rounded-lg focus:outline-none focus:ring-2 focus:ring-white focus:border-transparent text-white placeholder-red-200 resize-none"})]}),(0,ln.jsx)("button",{type:"submit",disabled:i,className:"w-full bg-white text-red-600 py-4 px-6 rounded-lg hover:bg-red-50 transition-all duration-200 font-bold text-lg disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:i?(0,ln.jsxs)(ln.Fragment,{children:[(0,ln.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-red-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,ln.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,ln.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Submitting..."]}):"Schedule Your FREE Inspection"}),(0,ln.jsx)("button",{type:"button",onClick:p,className:"w-full bg-red-800 text-white py-3 px-6 rounded-lg hover:bg-red-900 transition-all duration-200 font-semibold",children:"Visit Our Website"})]})]})]})})]})})},q=()=>{const e=o.filter((e=>"converted"===e.status)).length,t=o.length,n=t>0?(e/t*100).toFixed(1):0;o.filter((e=>"new"===e.status||"contacted"===e.status)).length,o.filter((e=>{const t=new Date(e.created_at),n=new Date;return t.getMonth()===n.getMonth()&&t.getFullYear()===n.getFullYear()})).length;return(0,ln.jsxs)("div",{className:"space-y-6",children:[(0,ln.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,ln.jsx)("div",{className:"bg-gray-800 rounded-lg shadow-lg p-6 border border-gray-700",children:(0,ln.jsxs)("div",{className:"flex items-center",children:[(0,ln.jsx)("div",{className:"p-3 rounded-full bg-red-500/20 text-red-400 mr-4",children:(0,ln.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ln.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})})}),(0,ln.jsxs)("div",{children:[(0,ln.jsx)("p",{className:"text-2xl font-bold text-white",children:a.length}),(0,ln.jsx)("p",{className:"text-sm text-gray-400",children:"Total Reps"})]})]})}),(0,ln.jsx)("div",{className:"bg-gray-800 rounded-lg shadow-lg p-6 border border-gray-700",children:(0,ln.jsxs)("div",{className:"flex items-center",children:[(0,ln.jsx)("div",{className:"p-3 rounded-full bg-blue-500/20 text-blue-400 mr-4",children:(0,ln.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ln.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8h2a2 2 0 012 2v6a2 2 0 01-2 2h-2v4l-4-4H9a1.994 1.994 0 01-1.414-.586m0 0L11 14h4a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2v4l.586-.586z"})})}),(0,ln.jsxs)("div",{children:[(0,ln.jsx)("p",{className:"text-2xl font-bold text-white",children:t}),(0,ln.jsx)("p",{className:"text-sm text-gray-400",children:"Total Leads"})]})]})}),(0,ln.jsx)("div",{className:"bg-gray-800 rounded-lg shadow-lg p-6 border border-gray-700",children:(0,ln.jsxs)("div",{className:"flex items-center",children:[(0,ln.jsx)("div",{className:"p-3 rounded-full bg-green-500/20 text-green-400 mr-4",children:(0,ln.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ln.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z"})})}),(0,ln.jsxs)("div",{children:[(0,ln.jsx)("p",{className:"text-2xl font-bold text-white",children:a.filter((e=>e.qr_code)).length}),(0,ln.jsx)("p",{className:"text-sm text-gray-400",children:"QR Codes"})]})]})}),(0,ln.jsx)("div",{className:"bg-gray-800 rounded-lg shadow-lg p-6 border border-gray-700",children:(0,ln.jsxs)("div",{className:"flex items-center",children:[(0,ln.jsx)("div",{className:"p-3 rounded-full bg-yellow-500/20 text-yellow-400 mr-4",children:(0,ln.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ln.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),(0,ln.jsxs)("div",{children:[(0,ln.jsxs)("p",{className:"text-2xl font-bold text-white",children:[n,"%"]}),(0,ln.jsx)("p",{className:"text-sm text-gray-400",children:"Conversion Rate"})]})]})})]}),(0,ln.jsxs)("div",{className:"bg-gray-800 rounded-lg shadow-lg p-6 border border-gray-700",children:[(0,ln.jsxs)("div",{className:"mb-6",children:[(0,ln.jsx)("h2",{className:"text-xl font-semibold text-white mb-2",children:"Sales Representatives"}),(0,ln.jsx)("p",{className:"text-gray-400",children:"Manage QR codes and landing pages"})]}),(0,ln.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[(0,ln.jsx)("div",{className:"flex-1",children:(0,ln.jsx)("input",{type:"text",placeholder:"Search reps by name, email, or territory...",value:f,onChange:e=>p(e.target.value),className:"w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent text-white placeholder-gray-400"})}),(0,ln.jsxs)("select",{value:m,onChange:e=>g(e.target.value),className:"px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 text-white",children:[(0,ln.jsx)("option",{value:"all",children:"All Departments"}),(0,ln.jsx)("option",{value:"Sales",children:"Sales"}),(0,ln.jsx)("option",{value:"Management",children:"Management"})]}),(0,ln.jsxs)("select",{value:y,onChange:e=>v(e.target.value),className:"px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 text-white",children:[(0,ln.jsx)("option",{value:"all",children:"All Territories"}),(0,ln.jsx)("option",{value:"Northern Virginia",children:"Northern Virginia"}),(0,ln.jsx)("option",{value:"Southern Virginia",children:"Southern Virginia"}),(0,ln.jsx)("option",{value:"Maryland",children:"Maryland"})]})]}),(0,ln.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:W.map((e=>{var t;const n=o.filter((t=>t.rep_id===e.id)),r=n.filter((e=>"converted"===e.status)),a=n.length>0?(r.length/n.length*100).toFixed(1):0;return(0,ln.jsxs)("div",{className:"bg-gray-750 border border-gray-600 rounded-lg p-6 hover:border-red-500 transition-all duration-200 transform hover:scale-105",children:[(0,ln.jsxs)("div",{className:"flex items-center space-x-4 mb-4",children:[(0,ln.jsx)("div",{className:"w-14 h-14 rounded-full bg-gradient-to-br from-red-500 to-red-600 flex items-center justify-center border-2 border-red-400",children:(0,ln.jsx)("img",{src:null!==(t=e.picture)&&void 0!==t&&t.startsWith("data:")?e.picture:"https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=150&h=150&fit=crop&crop=face",alt:e.name,className:"w-12 h-12 rounded-full object-cover"})}),(0,ln.jsxs)("div",{className:"flex-1",children:[(0,ln.jsx)("h3",{className:"font-semibold text-white",children:e.name}),(0,ln.jsx)("p",{className:"text-sm text-gray-400",children:e.territory}),(0,ln.jsx)("div",{className:"mt-1",children:(0,ln.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-red-500/20 text-red-400",children:e.department})})]}),(0,ln.jsx)("div",{className:"flex-shrink-0",children:(0,ln.jsx)(K,{size:50,value:e.qr_code||"QR123456"})})]}),(0,ln.jsxs)("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[(0,ln.jsxs)("div",{className:"text-center",children:[(0,ln.jsx)("div",{className:"text-lg font-bold text-white",children:n.length}),(0,ln.jsx)("div",{className:"text-xs text-gray-400",children:"Leads"})]}),(0,ln.jsxs)("div",{className:"text-center",children:[(0,ln.jsx)("div",{className:"text-lg font-bold text-white",children:r.length}),(0,ln.jsx)("div",{className:"text-xs text-gray-400",children:"Conversions"})]}),(0,ln.jsxs)("div",{className:"text-center",children:[(0,ln.jsxs)("div",{className:"text-lg font-bold text-white",children:[a,"%"]}),(0,ln.jsx)("div",{className:"text-xs text-gray-400",children:"Rate"})]})]}),(0,ln.jsxs)("div",{className:"flex space-x-2",children:[(0,ln.jsx)("button",{onClick:()=>b(e),className:"flex-1 bg-red-600 text-white py-2 px-4 rounded-lg hover:bg-red-700 transition-colors text-sm font-medium",children:"View Page"}),I&&(0,ln.jsx)("button",{className:"bg-gray-600 text-white py-2 px-4 rounded-lg hover:bg-gray-700 transition-colors text-sm font-medium",children:"Edit"})]})]},e.id)}))})]})]})},Y=()=>{const[e,t]=(0,r.useState)({status:"all",priority:"all",rep:"all",dateRange:"all"}),[n,a]=(0,r.useState)("created_at"),[i,s]=(0,r.useState)("desc"),[l,c]=(0,r.useState)("");o.filter((t=>{const n=""===l||t.name.toLowerCase().includes(l.toLowerCase())||t.email.toLowerCase().includes(l.toLowerCase())||t.phone.includes(l),r="all"===e.status||t.status===e.status,a="all"===e.priority||t.priority===e.priority,i="all"===e.rep||t.rep_id===e.rep,o="all"===e.dateRange||(()=>{const n=new Date(t.created_at),r=new Date;switch(e.dateRange){case"today":return n.toDateString()===r.toDateString();case"week":return n>=new Date(r.getTime()-6048e5);case"month":return n.getMonth()===r.getMonth()&&n.getFullYear()===r.getFullYear();default:return!0}})();return n&&r&&a&&i&&o})).sort(((e,t)=>{const r=e[n],a=t[n],o="desc"===i?-1:1;return r>a?o:-o})),o.length,o.filter((e=>"new"===e.status)).length,o.filter((e=>"assigned"===e.status)).length,o.filter((e=>"contacted"===e.status)).length,o.filter((e=>"converted"===e.status)).length,o.filter((e=>"lost"===e.status)).length;return(0,ln.jsx)("div",{className:"space-y-6",children:(0,ln.jsxs)("div",{className:"bg-gray-800 rounded-lg shadow-lg border border-gray-700",children:[(0,ln.jsxs)("div",{className:"px-6 py-4 border-b border-gray-700",children:[(0,ln.jsx)("h2",{className:"text-xl font-semibold text-white",children:"Lead Management"}),(0,ln.jsx)("p",{className:"text-gray-400",children:"Track and distribute leads from QR code landing pages"})]}),(0,ln.jsx)("div",{className:"overflow-x-auto",children:(0,ln.jsxs)("table",{className:"w-full",children:[(0,ln.jsx)("thead",{className:"bg-gray-750",children:(0,ln.jsxs)("tr",{children:[(0,ln.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Customer"}),(0,ln.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Rep"}),(0,ln.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Status"}),(0,ln.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Priority"}),(0,ln.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Created"}),(0,ln.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),(0,ln.jsx)("tbody",{className:"bg-gray-800 divide-y divide-gray-700",children:o.map((e=>(0,ln.jsxs)("tr",{className:"hover:bg-gray-750 transition-colors",children:[(0,ln.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,ln.jsxs)("div",{children:[(0,ln.jsx)("div",{className:"text-sm font-medium text-white",children:e.name}),(0,ln.jsx)("div",{className:"text-sm text-gray-400",children:e.email}),(0,ln.jsx)("div",{className:"text-sm text-gray-400",children:e.phone}),e.message&&(0,ln.jsxs)("div",{className:"text-sm text-gray-400 mt-1 italic max-w-xs truncate",children:['"',e.message,'"']})]})}),(0,ln.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,ln.jsx)("div",{className:"text-sm text-white",children:e.rep_name})}),(0,ln.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,ln.jsxs)("select",{value:e.status,onChange:t=>(async(e,t)=>{try{await U(e,{status:t})}catch(d){console.error("Error updating lead status:",d)}})(e.id,t.target.value),className:"px-3 py-1 text-xs font-semibold rounded-full border-0 ".concat("new"===e.status?"bg-blue-500/20 text-blue-400":"assigned"===e.status?"bg-yellow-500/20 text-yellow-400":"contacted"===e.status||"converted"===e.status?"bg-green-500/20 text-green-400":"bg-gray-500/20 text-gray-400"),children:[(0,ln.jsx)("option",{value:"new",children:"New"}),(0,ln.jsx)("option",{value:"assigned",children:"Assigned"}),(0,ln.jsx)("option",{value:"contacted",children:"Contacted"}),(0,ln.jsx)("option",{value:"converted",children:"Converted"}),(0,ln.jsx)("option",{value:"lost",children:"Lost"})]})}),(0,ln.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,ln.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat("high"===e.priority?"bg-red-500/20 text-red-400":"medium"===e.priority?"bg-yellow-500/20 text-yellow-400":"bg-green-500/20 text-green-400"),children:e.priority.charAt(0).toUpperCase()+e.priority.slice(1)})}),(0,ln.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-400",children:new Date(e.created_at).toLocaleDateString()}),(0,ln.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,ln.jsxs)("div",{className:"flex space-x-2",children:[I&&(0,ln.jsx)("button",{onClick:()=>(async(e,t)=>{try{await U(e,{assigned_to:t,status:"assigned"})}catch(d){console.error("Error assigning lead:",d)}})(e.id,e.rep_id),className:"text-red-400 hover:text-red-300 transition-colors",children:"Assign"}),(0,ln.jsx)("button",{className:"text-gray-400 hover:text-gray-300 transition-colors",children:"View"})]})})]},e.id)))})]})})]})})},G=()=>{var e;const[t,n]=(0,r.useState)(!1),[o,s]=(0,r.useState)(""),l=async(e,t)=>{const r=e.target.files[0];if(r){n(!0),s(t);try{const e=new FileReader;e.onloadend=async()=>{const a={file_data:e.result,file_type:r.type,file_name:r.name};await(async(e,t,n)=>{try{const r="picture"===n?"upload-picture":"upload-video";await SL.post("".concat(OL,"/qr-generator/reps/").concat(e,"/").concat(r),t),await B()}catch(d){throw console.error("Error uploading ".concat(n,":"),d),d}})(F.id,a,t),n(!1),s("")},e.readAsDataURL(r)}catch(d){console.error("Error uploading file:",d),n(!1),s(""),alert("Error uploading file. Please try again.")}}},c=async e=>{try{await(async(e,t)=>{try{const n=await SL.put("".concat(OL,"/qr-generator/reps/").concat(e),t);return i(a.map((t=>t.id===e?n.data:t))),n.data}catch(d){throw console.error("Error updating sales rep:",d),d}})(F.id,e)}catch(d){console.error("Error updating profile:",d),alert("Error updating profile. Please try again.")}};return F?(0,ln.jsx)("div",{className:"space-y-6",children:(0,ln.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200",children:[(0,ln.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,ln.jsx)("h2",{className:"text-2xl font-semibold text-gray-900",children:"Manage Your Profile"}),(0,ln.jsxs)("div",{className:"flex space-x-2",children:[(0,ln.jsxs)("label",{className:"cursor-pointer bg-gray-600 text-white py-2 px-4 rounded-md hover:bg-gray-700 transition-colors text-sm",children:[(0,ln.jsx)("input",{type:"file",accept:"image/*",onChange:e=>l(e,"picture"),className:"hidden",disabled:t}),t&&"picture"===o?"Uploading...":"Upload Photo"]}),(0,ln.jsxs)("label",{className:"cursor-pointer bg-red-600 text-white py-2 px-4 rounded-md hover:bg-red-700 transition-colors text-sm",children:[(0,ln.jsx)("input",{type:"file",accept:"video/*",onChange:e=>l(e,"video"),className:"hidden",disabled:t}),t&&"video"===o?"Uploading...":"Upload Video"]})]})]}),(0,ln.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,ln.jsxs)("div",{className:"space-y-4",children:[(0,ln.jsxs)("div",{children:[(0,ln.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"About Me"}),(0,ln.jsx)("textarea",{value:F.about_me||"",onChange:e=>c({about_me:e.target.value}),rows:"4",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"Tell customers about yourself..."})]}),(0,ln.jsxs)("div",{children:[(0,ln.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone"}),(0,ln.jsx)("input",{type:"tel",value:F.phone||"",onChange:e=>c({phone:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"Your phone number"})]}),(0,ln.jsxs)("div",{className:"pt-4 border-t",children:[(0,ln.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"QR Code"}),(0,ln.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ln.jsx)(K,{size:80,value:F.qr_code||"QR123456"}),(0,ln.jsxs)("div",{children:[(0,ln.jsx)("p",{className:"text-sm text-gray-600",children:"Your QR Code"}),(0,ln.jsx)("p",{className:"text-xs text-gray-500 font-mono",children:F.qr_code}),(0,ln.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Share this code with customers"})]})]})]})]}),(0,ln.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,ln.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Landing Page Preview"}),(0,ln.jsxs)("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[(0,ln.jsx)("div",{className:"bg-red-600 text-white p-3",children:(0,ln.jsxs)("div",{className:"flex justify-between items-start",children:[(0,ln.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ln.jsx)("img",{src:null!==(e=F.picture)&&void 0!==e&&e.startsWith("data:")?F.picture:"https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=150&h=150&fit=crop&crop=face",alt:F.name,className:"w-12 h-12 rounded-full border-2 border-white object-cover"}),(0,ln.jsxs)("div",{children:[(0,ln.jsx)("h1",{className:"text-lg font-bold",children:F.name}),(0,ln.jsx)("p",{className:"text-red-100 text-sm",children:F.territory})]})]}),(0,ln.jsx)("div",{className:"w-16 h-12 bg-black rounded text-xs flex items-center justify-center",children:F.welcome_video?"Video":"Upload Video"})]})}),(0,ln.jsxs)("div",{className:"p-3",children:[(0,ln.jsx)("h2",{className:"text-md font-semibold text-gray-900 mb-2",children:"About Me"}),(0,ln.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:F.about_me||"Add your bio to tell customers about yourself..."}),(0,ln.jsxs)("div",{className:"space-y-1 mb-3",children:[(0,ln.jsxs)("div",{className:"flex items-center text-sm text-gray-700",children:[(0,ln.jsx)("span",{className:"text-red-600 mr-2",children:"\ud83d\udcde"}),F.phone||"Add phone number"]}),(0,ln.jsxs)("div",{className:"flex items-center text-sm text-gray-700",children:[(0,ln.jsx)("span",{className:"text-red-600 mr-2",children:"\u2709\ufe0f"}),F.email]})]})]}),(0,ln.jsxs)("div",{className:"p-3 bg-gray-50 border-t",children:[(0,ln.jsx)("h3",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Get Your Free Roof Estimate"}),(0,ln.jsxs)("div",{className:"space-y-2",children:[(0,ln.jsx)("input",{type:"text",placeholder:"Your Name",className:"w-full px-2 py-1 border border-gray-300 rounded text-sm",disabled:!0}),(0,ln.jsx)("button",{className:"w-full bg-red-600 text-white py-2 px-3 rounded text-sm font-semibold",children:"Get My Free Estimate"})]})]})]})]})]})]})}):(0,ln.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[(0,ln.jsx)("div",{className:"text-yellow-800 font-medium",children:"Sales Rep Profile Not Found"}),(0,ln.jsx)("div",{className:"text-yellow-600 mt-1",children:"Please contact your administrator to set up your profile."})]})};return(0,ln.jsxs)("div",{className:"min-h-screen bg-gray-900",children:[(0,ln.jsx)(fs.div,{className:"roof-er-gradient border-b border-red-800/20 shadow-lg",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:(0,ln.jsx)("div",{className:"mobile-container",children:(0,ln.jsxs)("div",{className:"flex justify-between items-center py-6",children:[(0,ln.jsx)(fs.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.1},children:(0,ln.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ln.jsx)("div",{className:"p-2 bg-white/10 rounded-lg backdrop-blur-sm",children:(0,ln.jsx)("svg",{className:"w-8 h-8 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:(0,ln.jsx)("path",{d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})})}),(0,ln.jsxs)("div",{children:[(0,ln.jsx)("h2",{className:"text-2xl font-bold text-white",children:"QR Code Generator"}),(0,ln.jsx)("p",{className:"text-white/70 text-sm",children:"Personalized landing pages & lead capture"})]})]})}),(0,ln.jsxs)(fs.div,{className:"flex items-center space-x-4",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},children:[I&&(0,ln.jsxs)("div",{className:"flex items-center space-x-2 px-3 py-2 bg-white/10 rounded-lg",children:[(0,ln.jsx)("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ln.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})}),(0,ln.jsx)("span",{className:"text-white text-sm font-medium",children:"Admin View"})]}),"sales_rep"===(null===e||void 0===e?void 0:e.role)&&(0,ln.jsxs)("div",{className:"flex items-center space-x-2 px-3 py-2 bg-blue-500/20 rounded-lg",children:[(0,ln.jsx)("svg",{className:"w-5 h-5 text-blue-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ln.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),(0,ln.jsx)("span",{className:"text-blue-300 text-sm font-medium",children:"Sales Rep"})]})]})]})})}),(0,ln.jsx)("div",{className:"mobile-container py-8",children:(0,ln.jsxs)("div",{className:"space-y-8",children:[(0,ln.jsx)(fs.div,{className:"bg-gray-800 border border-gray-700 rounded-lg shadow-lg",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},children:(0,ln.jsx)("div",{className:"border-b border-gray-700",children:(0,ln.jsx)("nav",{className:"flex space-x-1 px-6 py-4",children:[{id:"overview",name:I?"Rep Overview":"Overview",icon:(0,ln.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ln.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})},...I?[{id:"leads",name:"Lead Management",icon:(0,ln.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ln.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8h2a2 2 0 012 2v6a2 2 0 01-2 2h-2v4l-4-4H9a1.994 1.994 0 01-1.414-.586m0 0L11 14h4a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2v4l.586-.586z"})})}]:[],..."sales_rep"===(null===e||void 0===e?void 0:e.role)?[{id:"mypage",name:"My Landing Page",icon:(0,ln.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,ln.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}]:[]].map(((e,r)=>(0,ln.jsxs)(fs.button,{onClick:()=>n(e.id),className:"flex items-center space-x-2 px-4 py-3 rounded-lg font-medium text-sm transition-all duration-200 whitespace-nowrap ".concat(t===e.id?"bg-red-600 text-white shadow-lg":"text-gray-400 hover:text-white hover:bg-gray-700"),initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.4+.05*r},whileHover:{scale:1.05},whileTap:{scale:.95},children:[e.icon,(0,ln.jsx)("span",{children:e.name})]},e.id)))})})}),(0,ln.jsx)(bs,{mode:"wait",children:(0,ln.jsxs)(fs.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:["overview"===t&&(0,ln.jsx)(q,{}),"leads"===t&&(0,ln.jsx)(Y,{}),"mypage"===t&&(0,ln.jsx)(G,{})]},t)}),(0,ln.jsx)(bs,{children:x&&(0,ln.jsx)(fs.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:(0,ln.jsx)(H,{rep:x,onClose:()=>b(null)})})})]})}),_&&(0,ln.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,ln.jsx)(fs.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},className:"bg-white rounded-lg shadow-xl p-6 m-4 max-w-md w-full",children:(0,ln.jsxs)("div",{className:"text-center",children:[(0,ln.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"\ud83d\udcb0 Calculate Your Roof Savings"}),(0,ln.jsxs)("div",{className:"space-y-4",children:[(0,ln.jsxs)("div",{children:[(0,ln.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"What do you think your roof will cost?"}),(0,ln.jsxs)("div",{className:"relative",children:[(0,ln.jsx)("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"$"}),(0,ln.jsx)("input",{type:"number",value:M,onChange:e=>{D(e.target.value),e.target.value&&z(e.target.value)},placeholder:"Enter estimated cost",className:"w-full pl-8 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-lg"})]})]}),L>0&&(0,ln.jsxs)(fs.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[(0,ln.jsx)("h4",{className:"text-lg font-bold text-green-800 mb-2",children:"\ud83c\udf89 Great News!"}),(0,ln.jsx)("p",{className:"text-green-700 mb-2",children:"With our expert roofing services, you could save:"}),(0,ln.jsxs)("div",{className:"text-3xl font-bold text-green-600",children:["$",L.toLocaleString()]}),(0,ln.jsx)("p",{className:"text-sm text-green-600 mt-2",children:"That's $1,500 less than your estimate!"})]}),0===L&&M&&(0,ln.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:(0,ln.jsx)("p",{className:"text-yellow-700",children:"Please enter an amount over $1,500 to see your potential savings."})}),(0,ln.jsxs)("div",{className:"space-y-3 mt-6",children:[(0,ln.jsx)("button",{onClick:()=>{T(!1)},className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg font-semibold hover:bg-blue-700 transition-colors",children:"Get My Free Inspection"}),(0,ln.jsx)("button",{onClick:()=>T(!1),className:"w-full bg-gray-200 text-gray-800 py-2 px-4 rounded-lg hover:bg-gray-300 transition-colors",children:"Close"})]})]}),(0,ln.jsx)("div",{className:"mt-4 text-xs text-gray-500",children:"* Savings estimate based on our competitive pricing and quality materials"})]})})})]})};const RL=()=>{const{user:e,loading:t}=AL();return t?(0,ln.jsx)("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:(0,ln.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-red-500"})}):(0,ln.jsx)("div",{className:"min-h-screen bg-gray-900",children:e?(0,ln.jsx)(_L,{}):(0,ln.jsx)(CL,{})})},IL=function(){return(0,ln.jsx)(PL,{children:(0,ln.jsx)(RL,{})})};a.createRoot(document.getElementById("root")).render((0,ln.jsx)(r.StrictMode,{children:(0,ln.jsx)(IL,{})}))})()})();
//# sourceMappingURL=main.9d3aade6.js.map